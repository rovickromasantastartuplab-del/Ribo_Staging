import{ac as h,aL as f,f as y,r as b,j as e,F as l,T as s,m as w,az as T,B as F}from"./client-DtfdVV77.js";import{F as C}from"./permission-selector-CRaW7I2O.js";import{l as N}from"./main-BGmGAxtx.js";import{S as m}from"./section-helper-BcMoHesA.js";import{F as S}from"./select-D9niWe2H.js";import"./accordion-Dmxnze9z.js";import"./accordtion-animation-BGCK95Hj.js";import"./uc-first-pSl3nM3z.js";import"./custom-menu-Dvq-fOnC.js";import"./combobox-end-adornment-CWQ4Xgal.js";function H(){var n;const{trans:c}=h(),[p]=f(),{watch:o,setValue:x}=y(),u=o("type"),g=o("default"),r=o("internal"),d=o("guests"),a=((n=b.useContext(N).roles)==null?void 0:n.types)??[],i=a.find(t=>t.type===u),j=(i==null?void 0:i.permission_type)??"users";return e.jsxs(e.Fragment,{children:[e.jsx(l,{label:e.jsx(s,{message:"Name"}),name:"name",className:"mb-20",required:!0}),e.jsx(l,{label:e.jsx(s,{message:"Description"}),name:"description",inputElementType:"textarea",placeholder:c(w("Role description...")),rows:4,className:"mb-20"}),a.length&&!p.get("type")?e.jsx(S,{label:e.jsx(s,{message:"Type"}),name:"type",selectionMode:"single",className:"mb-20",description:e.jsx(s,{message:"Whether this role will be assigned to users globally on the site or only within workspaces."}),children:a.map(t=>e.jsx(T,{value:t.type,children:e.jsx(s,{...t.label})},t.type))}):null,r&&g&&e.jsx(m,{title:e.jsx(s,{message:"Default role"}),description:e.jsx(s,{message:"This role will be assigned to new users, if they have no other roles."})}),r&&d&&e.jsx(m,{title:e.jsx(s,{message:"Guests role"}),description:e.jsx(s,{message:"Non logged in users will be assigned this role."})}),e.jsxs("div",{className:"mb-14 mt-30 flex items-end justify-between gap-12",children:[e.jsx("h2",{className:"text-lg font-medium",children:e.jsx(s,{message:"Permissions"})}),e.jsx(F,{variant:"outline",size:"xs",onClick:()=>x("permissions",[]),children:e.jsx(s,{message:"Remove all"})})]}),e.jsx(C,{name:"permissions",type:j})]})}export{H as Component};
