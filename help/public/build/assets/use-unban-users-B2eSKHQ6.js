import{i as d,k as x,t as p,m as i,q as j,ac as F,al as b,d as f,j as e,am as y,an as U,T as t,ap as D,aP as v,e as B,F as E,aq as T,B as c,s as q}from"./client-DtfdVV77.js";import{o as C}from"./custom-menu-Dvq-fOnC.js";import{F as P}from"./date-picker-BGiTN72q.js";function w(n,s){return d({mutationFn:a=>x.post(`users/ban/${s.join(",")}`,a).then(r=>r.data),onSuccess:async()=>{p(i("[one User|other :count Users] suspended",{values:{count:s.length}})),await j.invalidateQueries({queryKey:["users"]})},onError:a=>C(a,n)})}function Q({userIds:n,description:s,onSuccess:a}){const{trans:r}=F(),{close:m,formId:u}=b(),o=f({defaultValues:{permanent:!0}}),h=o.watch("permanent"),l=w(o,n);return e.jsxs(y,{children:[e.jsx(U,{children:e.jsx(t,{message:"Suspend users"})}),e.jsxs(D,{children:[e.jsxs(v,{id:u,form:o,onSubmit:g=>l.mutate(g,{onSuccess:()=>{m(!0),a==null||a()}}),children:[e.jsx(P,{name:"ban_until",label:e.jsx(t,{message:"Suspend until"}),disabled:h}),e.jsx(B,{name:"permanent",className:"mt-12",children:e.jsx(t,{message:"Permanent"})}),e.jsx(E,{className:"mt-24",name:"comment",inputElementType:"textarea",maxLength:250,label:e.jsx(t,{message:"Reason"}),placeholder:r(i("Optional"))})]}),s&&e.jsx("div",{className:"mt-16",children:s})]}),e.jsxs(T,{children:[e.jsx(c,{onClick:()=>m(),children:e.jsx(t,{message:"Cancel"})}),e.jsx(c,{form:u,variant:"flat",color:"primary",type:"submit",disabled:l.isPending,children:e.jsx(t,{message:"Suspend"})})]})]})}function H(n){return d({mutationFn:()=>x.delete(`users/unban/${n.join(",")}`).then(s=>s.data),onSuccess:()=>{p(i("[one User|other :count Users] unsuspended",{values:{count:n.length}})),j.invalidateQueries({queryKey:["users"]})},onError:s=>q(s)})}export{Q as B,H as u};
