import{r as c,au as f,j as o,av as d,T as s}from"./client-DtfdVV77.js";import{C as m}from"./confirmation-dialog-BzXs9ksK.js";function x({shouldBlock:t,allowNavigation:n}){const e=c.useRef(t);e.current=t;const{state:a,reset:i,proceed:l}=f(r=>(typeof e.current=="boolean"?e.current:e.current())&&(!n||!n(r)));return c.useEffect(()=>{const r=u=>{(typeof e.current=="boolean"?e.current:e.current())&&(u.preventDefault(),u.returnValue=!0)};return window.addEventListener("beforeunload",r),()=>window.removeEventListener("beforeunload",r)},[]),o.jsx(d,{type:"modal",isOpen:a==="blocked",onClose:r=>{a==="blocked"&&(r?l():i())},children:o.jsx(m,{isDanger:!0,title:o.jsx(s,{message:"You have unsaved changes"}),body:o.jsx(s,{message:"Your changes will be lost if you continue. Are you sure you want to discard them?"}),close:o.jsx(s,{message:"Stay here"}),confirm:o.jsx(s,{message:"Discard changes"})})})}export{x as B};
