import{ac as k,j as s,aa as I,m as b,ab as v,az as f,T as n,r as c,bK as A,aj as p,aJ as M,aK as L,A as B,z as N,C,bB as T,p as h}from"./client-DtfdVV77.js";import{I as q,S as E}from"./custom-menu-Dvq-fOnC.js";import{S as H}from"./select-D9niWe2H.js";import{X as R}from"./main-BGmGAxtx.js";import{u as U}from"./use-filter-XfxMyUPQ.js";import{S}from"./skeleton-D178v0-U.js";const K=""+new URL("font-bxNTk0j0.svg",import.meta.url).href;function z({state:{filters:e,setFilters:t}}){const{trans:a}=k();return s.jsxs("div",{className:"mb-24 items-center gap-24 @xs:flex",children:[s.jsx(I,{className:"mb-12 flex-auto @xs:mb-0",value:e.query,onChange:i=>{t({...e,query:i.target.value})},startAdornment:s.jsx(v,{}),placeholder:a(b("Search fonts"))}),s.jsxs(H,{className:"flex-auto",selectionMode:"single",selectedValue:e.category,onSelectionChange:i=>{t({...e,category:i})},children:[s.jsx(f,{value:"",children:s.jsx(n,{message:"All categories"})}),s.jsx(f,{value:"serif",children:s.jsx(n,{message:"Serif"})}),s.jsx(f,{value:"sans-serif",children:s.jsx(n,{message:"Sans serif"})}),s.jsx(f,{value:"display",children:s.jsx(n,{message:"Display"})}),s.jsx(f,{value:"handwriting",children:s.jsx(n,{message:"Handwriting"})}),s.jsx(f,{value:"monospace",children:s.jsx(n,{message:"Monospace"})})]})]})}const G=[{label:b("System"),family:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',category:"sans-serif"},{family:"Impact, Charcoal, sans-serif",category:"sans-serif"},{family:"Arial, Helvetica Neue, Helvetica, sans-serif",category:"serif"},{family:'"Comic Sans MS", cursive, sans-serif',category:"Handwriting"},{family:"Century Gothic, sans-serif",category:"sans-serif"},{family:'"Courier New", Courier, monospace',category:"monospace"},{family:'"Lucida Sans Unicode", "Lucida Grande", sans-serif',category:"sans-serif"},{family:'"Times New Roman", Times, serif',category:"serif"},{family:'"Lucida Console", Monaco, monospace',category:"monospace"},{family:'"Andele Mono", monospace, sans-serif',category:"sans-serif"},{family:"Verdana, Geneva, sans-serif",category:"sans-serif"},{family:'"Helvetica Neue", Helvetica, Arial, sans-serif',category:"sans-serif"}];function V(e,t){return e.reduce((a,i,o)=>{const l=Math.floor(o/t);return a[l]||(a[l]=[]),a[l].push(i),a},[])}function D({value:e,onChange:t}){const{data:a,isLoading:i}=R(["googleFonts"]),[o,l]=c.useState(0),[d,F]=c.useState({query:"",category:(e==null?void 0:e.category)??""}),{contains:y}=U({sensitivity:"base"}),u=c.useMemo(()=>G.concat((a==null?void 0:a.googleFonts)??[]),[a==null?void 0:a.googleFonts]),x=c.useMemo(()=>u.filter(r=>{var g;return y(r.family,d.query)&&(!d.category||((g=r.category)==null?void 0:g.toLowerCase())===d.category.toLowerCase())}),[u,d,y]),j=c.useMemo(()=>V(x,20),[x]),m=j[o];c.useEffect(()=>{if(a&&(e!=null&&e.family)){const r=x.findIndex(g=>g.family===e.family);r>=0&&l(Math.floor(r/20))}},[a,x,e==null?void 0:e.family]),c.useEffect(()=>{m!=null&&m.length&&A(m,{id:"font-selector"})},[m,o]);const w=c.useCallback(r=>{F(r),l(0)},[]);return{fonts:m||[],currentPage:o,filteredFonts:x||[],setCurrentPage:l,isLoading:i,filters:d,setFilters:w,value:e,onChange:t,pages:j}}function J({state:{currentPage:e=0,setCurrentPage:t,filteredFonts:a,pages:i}}){const o=(a==null?void 0:a.length)||0;return s.jsxs("div",{className:"mt-30 flex items-center justify-end gap-24 border-t pt-14 text-sm",children:[o>0&&s.jsx("div",{children:s.jsx(n,{message:":from - :to of :total",values:{from:e*20+1,to:Math.min((e+1)*20,o),total:o}})}),s.jsxs("div",{className:"text-muted",children:[s.jsx(p,{disabled:e<1,onClick:()=>{t(Math.max(0,e-1))},children:s.jsx(M,{})}),s.jsx(p,{disabled:e>=i.length-1,onClick:()=>{t(e+1)},children:s.jsx(L,{})})]})]})}function ss(e){const t=D(e);return s.jsxs("div",{className:e.className,children:[s.jsx(z,{state:t}),s.jsx(B,{initial:!1,mode:"wait",children:s.jsx(X,{state:t})}),s.jsx(J,{state:t})]})}function X({state:e}){const{isLoading:t,fonts:a}=e,i="grid gap-24 grid-cols-[repeat(auto-fill,minmax(90px,1fr))] items-start";return t?s.jsx(Q,{className:i}):a!=null&&a.length?s.jsx(N.div,{...C,className:i,children:a==null?void 0:a.map(o=>s.jsx(O,{font:o,state:e},o.family))},"font-list"):s.jsx(q,{className:"mt-60",size:"sm",image:s.jsx(E,{src:K}),title:s.jsx(n,{message:"No matching fonts"}),description:s.jsx(n,{message:"Try another search query or different category"})})}function O({font:e,state:{value:t,onChange:a}}){const i=(t==null?void 0:t.family)===e.family,o=e.family.split(",")[0].replace(/"/g,"");return s.jsxs(T,{display:"block",onClick:()=>{a(e)},children:[s.jsx("span",{className:h("flex aspect-square items-center justify-center rounded-panel border text-4xl transition-bg-color hover:bg-hover md:text-5xl",i&&"ring-2 ring-primary ring-offset-2"),children:s.jsx("span",{style:{fontFamily:e.family},children:"Aa"})}),s.jsx("span",{className:h("mt-6 block overflow-hidden overflow-ellipsis whitespace-nowrap text-sm",i&&"text-primary"),children:e.label?s.jsx(n,{...e.label}):o})]},e.family)}function Q({className:e}){const t=Array.from(Array(20).keys());return s.jsx(N.div,{...C,className:e,children:t.map(a=>s.jsxs("div",{children:[s.jsx("div",{className:"aspect-square",children:s.jsx(S,{display:"block",variant:"rect"})}),s.jsx(S,{className:"mt-6 text-sm"})]},a))},"font-list-skeleton")}export{G as B,ss as F};
