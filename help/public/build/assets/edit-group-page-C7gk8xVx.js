import{h as u,a as l,ac as g,i as c,k as x,q as j,l as p,t as f,m as h,d as v,j as e,T as r,av as y,B as b}from"./client-DtfdVV77.js";import{C,a as D}from"./crupdate-group-form-content-CpyVZxY_.js";import{D as I}from"./delete-group-dialog-B-QwY0XU.js";import{o as G}from"./custom-menu-Dvq-fOnC.js";import{C as q}from"./crupdate-resource-layout-BeHzVG7e.js";import{u as B}from"./use-required-params-BhaT_-q3.js";import{u as S}from"./useSuspenseQuery-Bmt2-NKx.js";import{B as N,a as n}from"./breadcrumb-CaNBY_Ut.js";import{I as T}from"./Info-maeeGW26.js";import"./team-DYmDDGxN.js";import"./main-BGmGAxtx.js";import"./name-with-avatar-D8NZSkGp.js";import"./skeleton-D178v0-U.js";import"./data-table-emty-state-message-DsPxSC6g.js";import"./table-CynOKbaN.js";import"./checkbox-CS7ILu6P.js";import"./CheckBoxOutlineBlank-DU0ZdwTb.js";import"./ArrowDownward-DHtsWMyK.js";import"./useEffectEvent-Offmqu_S.js";import"./is-ctrl-key-pressed-CaS-AM38.js";import"./useGlobalListeners-BGMP113F.js";import"./select-D9niWe2H.js";import"./combobox-end-adornment-CWQ4Xgal.js";import"./use-filter-XfxMyUPQ.js";import"./Add-B1HfWgJf.js";import"./use-is-module-installed-CDjratdW.js";import"./RadioButtonUnchecked-FxC3TMef.js";import"./confirmation-dialog-BzXs9ksK.js";import"./datatable-page-with-header-layout-xcCtlWaX.js";import"./use-toggle-dashboard-left-sidebar-DxaOS7gK.js";import"./toggle-left-sidebar-icon-j-5uTef5.js";import"./ChevronRight-C5OrfRtB.js";import"./MoreHoriz-Df3_bV9s.js";function F(a){const m=u(),{groupId:s}=l(),{trans:i}=g();return c({mutationFn:t=>x.put(`helpdesk/groups/${s}`,t).then(o=>o.data),onSuccess:async()=>{await j.invalidateQueries({queryKey:p.groups.invalidateKey}),f(i(h("Updated group"))),m("../groups")},onError:t=>G(t,a)})}function de(){const{groupId:a}=B(["groupId"]),s=S(p.groups.get(a)).data.group,i=u(),t=v({defaultValues:{name:s.name,users:s.users,assignment_mode:s.assignment_mode??"auto"}}),o=F(t);return e.jsxs(q,{form:t,onSubmit:d=>{o.mutate(d)},title:e.jsxs(N,{size:"xl",children:[e.jsx(n,{to:"../groups",children:e.jsx(r,{message:"Groups"})}),e.jsx(n,{children:s.name})]}),isLoading:o.isPending,disableSaveWhenNotDirty:!0,submitButtonText:e.jsx(r,{message:"Save changes"}),children:[e.jsx(C,{group:s}),s.default&&e.jsxs("div",{className:"mt-44 flex items-center gap-8 text-sm text-muted",children:[e.jsx(T,{size:"sm"}),e.jsx(r,{message:"All agents belong to this group."})]}),!s.default&&e.jsxs("div",{className:"mt-44",children:[e.jsx(D,{margin:"mb-4",children:e.jsx(r,{message:"Delete group"})}),e.jsx("div",{className:"mb-24 text-sm",children:e.jsx(r,{message:"Group members and associated conversations will not be deleted."})}),e.jsxs(y,{type:"modal",children:[e.jsx(b,{color:"danger",variant:"outline",size:"xs",children:e.jsx(r,{message:"Delete group"})}),e.jsx(I,{groupId:s.id,onDeleted:()=>{i("../groups")}})]})]})]})}export{de as Component};
