import{J as l,r as n,K as i,M as o}from"./client-DtfdVV77.js";function R(t,r){const e=l(r);return g({filters:{...t,status:"pending"}},e).length}function a(t,r){return t.findAll(r.filters).map(e=>r.select?r.select(e):e.state)}function g(t={},r){const e=l(r).getMutationCache(),s=n.useRef(t),u=n.useRef(null);return u.current===null&&(u.current=a(e,t)),n.useEffect(()=>{s.current=t}),n.useSyncExternalStore(n.useCallback(f=>e.subscribe(()=>{const c=i(u.current,a(e,s.current));u.current!==c&&(u.current=c,o.schedule(f))}),[e]),()=>u.current,()=>u.current)}export{R as u};
