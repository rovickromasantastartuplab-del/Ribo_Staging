import{i as d,s as c,k as u,al as p,j as e,am as x,an as m,T as t,ap as g,aq as h,B as j,r as l,aj as f,av as v}from"./client-DtfdVV77.js";import{F as C}from"./FileDownload-DjsfzW8M.js";import{d as D}from"./download-file-from-url-hJ3EUwXO.js";function w(o){return d({mutationFn:s=>y(o,s),onError:s=>c(s)})}function y(o,s){return u.post(o,s).then(a=>a.data)}function E(){const{close:o}=p();return e.jsxs(x,{children:[e.jsx(m,{children:e.jsx(t,{message:"Csv export"})}),e.jsx(g,{children:e.jsx(t,{message:`Your request is being processed. We'll email you when the report is ready to download. In
            certain cases, it might take a little longer, depending on the number of items beings
            exported and the volume of activity.`})}),e.jsx(h,{children:e.jsx(j,{variant:"flat",color:"primary",onClick:o,children:e.jsx(t,{message:"Got it"})})})]})}function k({endpoint:o,payload:s}){const[a,n]=l.useState(!1),r=w(o);return e.jsxs(l.Fragment,{children:[e.jsx(f,{variant:"outline",color:"primary",size:"sm",className:"flex-shrink-0",disabled:r.isPending,onClick:()=>{r.mutate(s,{onSuccess:i=>{i.downloadPath?D(i.downloadPath):n(!0)}})},children:e.jsx(C,{})}),e.jsx(v,{type:"modal",isOpen:a,onOpenChange:n,children:e.jsx(E,{})})]})}export{k as D};
