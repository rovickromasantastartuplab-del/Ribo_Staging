import{i as c,s as p,t as d,m as g,k as u,r as x,bJ as h,d as j,j as e,T as t,aa as b,F as f,u as v,B as _,aR as S}from"./client-DtfdVV77.js";import{A as y}from"./admin-config-DXsixO44.js";import{A as k}from"./settings-layout-FQP6W4_q.js";import{D as w}from"./settings-links-CRsxvJIZ.js";import{S as n}from"./settings-panel-gMfbp8IE.js";import{u as m}from"./use-admin-settings-DArjpbC9.js";import{F as N}from"./image-selector-fVyS7PG4.js";import{E as L}from"./external-link-Cxcw6nc_.js";import"./dashboard-icons-BJ4c3Z5i.js";import"./library-icon-h4d3s9Ef.js";import"./messages-square-icon-D_3IR-rK.js";import"./main-BGmGAxtx.js";import"./custom-menu-Dvq-fOnC.js";import"./Delete-DWP7kvj0.js";import"./Home-iO0iebLw.js";import"./SupervisorAccount-Bkn2ibMi.js";import"./Translate-DPB2wdvD.js";import"./TextFields-CM1xUWDR.js";import"./use-admin-settings-page-nav-config-D58KRD8y.js";import"./datatable-page-with-header-layout-xcCtlWaX.js";import"./use-toggle-dashboard-left-sidebar-DxaOS7gK.js";import"./toggle-left-sidebar-icon-j-5uTef5.js";import"./file-upload-provider-B4w-VsYu.js";import"./uploaded-file-DOXWsty7.js";import"./pretty-bytes-bO14ePu9.js";import"./with-selector-DPNnjGhI.js";import"./useMutationState-Bmyxea6H.js";import"./blocker-dialog-B0Vc-LIE.js";import"./confirmation-dialog-BzXs9ksK.js";import"./book-open-D91H26Dq.js";import"./useSuspenseQuery-Bmt2-NKx.js";import"./use-active-upload-CGOT7g6R.js";import"./open-upload-window-DE9Q8gNs.js";import"./shallow-BH2jDtXM.js";import"./AddAPhoto-Bl3FQpaJ.js";import"./progress-bar-BMzArYUQ.js";import"./file-input-config-DrcTpI3-.js";function F(){return c({mutationFn:()=>U(),onSuccess:()=>{d(g("Sitemap generated"))},onError:i=>p(i)})}function U(){return u.post("sitemap/generate").then(i=>i.data)}function ve({children:i,defaultValues:r}){const{data:s}=m(),a=x.useMemo(()=>h(r??{},{...r,client:{branding:{favicon:s.client.branding.favicon,logo_light:s.client.branding.logo_light,logo_dark:s.client.branding.logo_dark,logo_light_mobile:s.client.branding.logo_light_mobile,logo_dark_mobile:s.client.branding.logo_dark_mobile,site_description:s.client.branding.site_description}},server:{app_name:s.server.app_name}}),[r,s]),l=j({defaultValues:a});return e.jsxs(k,{form:l,title:e.jsx(t,{message:"General"}),docsLink:y.settings.general,children:[e.jsx(A,{}),e.jsx(T,{}),e.jsx(D,{}),e.jsx(E,{}),e.jsx(I,{}),e.jsx(M,{}),i,e.jsx(B,{})]})}function A(){const{data:i}=m();if(!i)return null;let r=null;const s=i.server,a=s.newAppUrl&&s.newAppUrl!==s.app_url;return a&&(r=e.jsx("div",{className:"mt-20 text-xs text-danger",children:e.jsx(t,{values:{baseUrl:s.app_url,currentUrl:s.newAppUrl,b:l=>e.jsx("b",{children:l})},message:"Base site url is set as <b>:baseUrl</b> in configuration, but current url is <b>:currentUrl</b>. It is recommended to set the primary url you want to use in configuration file and then redirect all other url versions to this primary version via cpanel or .htaccess file."})})),e.jsxs(n,{className:"mb-24",title:e.jsx(t,{message:"Site URL"}),description:e.jsx("div",{children:e.jsx(t,{message:"The primary domain for your site."})}),link:e.jsx(w,{link:"https://support.vebto.com/hc/articles/35/primary-site-url",children:e.jsx(t,{message:"What is a primary site url?"})}),children:[e.jsx(b,{readOnly:!0,invalid:!!a,value:s.app_url,label:e.jsx(t,{message:"Primary site url"})}),r]})}function T(){return e.jsx(n,{className:"mb-24",title:e.jsx(t,{message:"Site name"}),description:e.jsx("div",{children:e.jsx(t,{message:"Short name for the site that will appear in browser tabs, seo tags, PWA app and other places."})}),children:e.jsx(f,{name:"server.app_name",label:e.jsx(t,{message:"Site name"})})})}function D(){return e.jsx(n,{className:"mb-24",title:e.jsx(t,{message:"Favicon"}),description:e.jsx("div",{children:e.jsx(t,{message:"This will generate different size favicons. Image should be at least 512x512 in size."})}),children:e.jsx("div",{className:"w-max",children:e.jsx(o,{type:"favicon"})})})}function E(){return e.jsx(n,{className:"mb-24",title:e.jsx(t,{message:"Light mode logo"}),description:e.jsx("div",{children:e.jsx(t,{message:"Logo used in light mode and when enough screen space is available. Default logo is 516x117px size."})}),children:e.jsx(o,{type:"logo_dark"})})}function I(){return e.jsx(n,{className:"mb-24",title:e.jsx(t,{message:"Dark mode logo"}),description:e.jsx("div",{children:e.jsx(t,{message:"Will show light mode logo, if left empty."})}),children:e.jsx(o,{type:"logo_light"})})}function M(){return e.jsx(n,{className:"mb-24",title:e.jsx(t,{message:"Compact logos"}),description:e.jsx("div",{children:e.jsx(t,{message:"Will show these logos if there's not enough space. For example on mobile or when screen is too small."})}),children:e.jsxs("div",{className:"flex items-center gap-24",children:[e.jsx(o,{type:"logo_dark_mobile",title:"Light mode"}),e.jsx(o,{type:"logo_light_mobile",title:"Dark mode"})]})})}function o({type:i,title:r}){var a;const{data:s}=m();return e.jsx(N,{className:"max-w-max",showEditButtonOnHover:!0,name:`client.branding.${i}`,uploadType:S.brandingImages,defaultValue:(a=s==null?void 0:s.defaults)==null?void 0:a.client.branding[i],label:r})}function B(){const i=F(),{base_url:r}=v(),s=`${r}/storage/sitemaps/sitemap-index.xml`,a=e.jsx(L,{href:s,children:s});return e.jsxs(n,{className:"mb-24",title:e.jsx(t,{message:"Sitemap"}),description:e.jsx("div",{children:e.jsx(t,{message:"Generate a sitemap to help search engines discover and index your site content."})}),children:[e.jsx(_,{variant:"outline",size:"xs",color:"primary",disabled:i.isPending,onClick:()=>{i.mutate()},children:e.jsx(t,{message:"Generate sitemap"})}),e.jsx("div",{className:"mt-14 text-xs text-muted",children:e.jsx(t,{message:"Once generated, sitemap url will be: :url",values:{url:a}})})]})}export{ve as Component};
