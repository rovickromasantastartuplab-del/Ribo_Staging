import{Y as K,a4 as H,a8 as z,j as t,a7 as T,ah as Y,aa as $,ai as q,aj as G}from"./client-DtfdVV77.js";import{C as J}from"./combobox-end-adornment-CWQ4Xgal.js";function Q(s,f){var m;const{children:U,items:W,isAsync:X,isLoading:l,isPending:C,isFetching:b,openMenuOnFocus:g=!0,endAdornmentIcon:h,onItemSelected:Z,maxItems:_,clearInputOnItemSelection:I,inputValue:ee,selectedValue:ne,onSelectionChange:te,allowCustomValue:v=!1,onInputValueChange:oe,defaultInputValue:ae,selectionMode:O="single",useOptionLabelAsInputValue:F,showEmptyMessage:se,floatingMaxHeight:L,hideEndAdornment:V=!1,blurReferenceOnItemSelection:A,clearSelectionOnInputClear:le,isOpen:ie,onOpenChange:re,prependListbox:w,listboxClassName:j,contentClassName:N,searchFieldClassName:S,onEndAdornmentClick:i,autoFocusFirstItem:ue=!0,focusLoopingMode:ce,...r}=s,o=H({...s,floatingMaxHeight:L,blurReferenceOnItemSelection:A,selectionMode:O,role:"listbox",virtualFocus:!0,clearSelectionOnInputClear:!0},f),{reference:y,listboxId:E,onInputChange:P,state:{isOpen:n,setIsOpen:u,inputValue:R,setInputValue:D,selectValues:c,selectedValues:a,setActiveCollection:M},collection:k}=o,d=a[0]?(m=k.get(a[0]))==null?void 0:m.textLabel:void 0,{handleListboxSearchFieldKeydown:B}=z(o),p=q(e=>{g&&!n&&u(!0),e.target.select()});return t.jsx(T,{prepend:w,className:j,contentClassName:N,listbox:o,mobileOverlay:Y,isLoading:l,isPending:C,onPointerDown:e=>{e.preventDefault()},children:t.jsx($,{inputRef:y,className:S,...r,endAdornment:V?null:t.jsx(G,{size:"md",tabIndex:-1,disabled:r.disabled,className:"pointer-events-auto",onPointerDown:e=>{e.preventDefault(),e.stopPropagation(),i?i():(M("all"),u(!n))},children:t.jsx(J,{isLoading:l||b,icon:h})}),"aria-expanded":n?"true":"false","aria-haspopup":"listbox","aria-controls":n?E:void 0,"aria-autocomplete":"list",autoComplete:"off",autoCorrect:"off",spellCheck:"false",onChange:P,value:F&&d?d:R,onBlur:e=>{if(v)c(e.target.value);else if(!I){const x=a[0];D(c.length&&x!=null?`${x}`:"")}},onFocus:p,onClick:p,onKeyDown:e=>B(e)})})}const me=K.forwardRef(Q);export{me as C};
