import{j as s,p as u,X as f,l as g,r as c,T as t,aj as x,L as m,a_ as h,ab as w,bf as v,aK as I,aL as N,ba as y,A as V,b9 as k,z as S,B as T}from"./client-DtfdVV77.js";import{D as z,E as L}from"./main-BGmGAxtx.js";import{D as A}from"./dashboard-icons-BJ4c3Z5i.js";import{F as E}from"./formatted-number-CIAFur2S.js";import{A as D}from"./Add-B1HfWgJf.js";import{T as b}from"./Tune-B3kaKuXY.js";function F({children:e,showSeparator:n=!0,gap:a="gap-0",className:o,padding:i="px-12 lg:px-16",fontSize:l="text-lg font-semibold",...d}){return s.jsx("div",{...d,className:u("flex h-56 flex-shrink-0 items-center",n&&"border-b",a,i,o,l),children:e})}function P(){const{data:e}=f(g.conversations.inboxViews),{views:n,pinnedViews:a,groupViews:o}=c.useMemo(()=>{const i=[],l=[],d=[];return e==null||e.views.forEach(r=>{r.pinned?i.push(r):r.isGroupView?d.push(r):l.push(r)}),{views:l,pinnedViews:i,groupViews:d}},[e==null?void 0:e.views]);return s.jsxs(c.Fragment,{children:[s.jsx(M,{}),s.jsxs("div",{className:"compact-scrollbar flex-auto overflow-y-auto pl-12",children:[s.jsx(p,{views:a}),s.jsxs(j,{name:"views",actions:s.jsx(x,{size:"xs",iconSize:"sm",elementType:m,to:"/dashboard/views",target:"_blank",children:s.jsx(b,{})}),children:[s.jsx(t,{message:"Views"}),s.jsx(p,{views:n,className:"pl-4"})]}),s.jsxs(j,{name:"groups",children:[s.jsx(t,{message:"Groups"}),o.length>0?s.jsx(p,{views:o,className:"pl-4"}):null]})]})]})}function M(){return s.jsxs(F,{showSeparator:!1,padding:"pl-24 pr-12",children:[s.jsx(t,{message:"Inbox"}),s.jsx(h,{label:s.jsx(t,{message:"Search conversations"}),children:s.jsx(x,{elementType:m,to:"/dashboard/conversations/search",size:"sm",radius:"rounded-full",className:"ml-auto text-muted",children:s.jsx(w,{})})}),s.jsx(h,{label:s.jsx(t,{message:"New conversation"}),children:s.jsx(x,{elementType:m,to:"/dashboard/conversations/new",size:"sm",radius:"rounded-full",className:"text-muted",children:s.jsx(D,{})})})]})}function j({name:e,children:n,actions:a}){const[o,i]=v(`inbox-${e}-expanded`,!0);return s.jsxs(c.Fragment,{children:[s.jsxs("div",{className:"group mb-2 flex items-center gap-8 pl-10 pr-14 pt-20",children:[s.jsx("div",{className:"mr-auto text-sm font-semibold",children:n[0]}),s.jsx("div",{className:"hidden group-hover:block",children:a}),s.jsx(x,{size:"xs",iconSize:"sm",onClick:()=>i(!o),children:s.jsx(I,{className:u("transition-transform",o&&"rotate-90")})})]}),o&&n[1]]})}function p({views:e,className:n}){return s.jsx("div",{className:u("cursor-pointer text-sm",n),children:e.map(a=>s.jsx(O,{view:a},a.id))})}function O({view:e}){const[n]=N(),a=n.get("viewId"),o=`${e.id}`===a||e.key&&e.key===a;return s.jsxs(y,{className:u("mr-12 flex h-40 items-center justify-between gap-8 rounded-lg px-12",o?"bg-primary/10 font-semibold hover:bg-primary/12":"hover:bg-hover"),to:`/dashboard/conversations?viewId=${e.key??e.id}`,end:!0,children:[s.jsx(A,{name:e.icon,size:"xs"}),s.jsx("span",{className:"text-overflow-ellipsis mr-12 block min-w-0 flex-auto overflow-hidden whitespace-nowrap",children:s.jsx(t,{message:e.name})}),e.count?s.jsx("div",{className:"ml-auto text-[11px] text-muted",children:s.jsx(E,{value:e.count})}):null]})}function _({location:e}){const{isMobileMode:n}=c.useContext(z),{conversationsTableViewsSidebarOpen:a,conversationPageViewsSidebarOpen:o}=L(),i=e==="conversationsTable"?a:o;return s.jsxs(c.Fragment,{children:[!n&&s.jsx(V,{initial:!1,mode:"wait",children:i&&s.jsx(B,{})}),s.jsx(k,{})]})}function B(){return s.jsxs(S.aside,{initial:{width:0,opacity:0},animate:{width:"",opacity:1},exit:{width:0,opacity:0},transition:{duration:.15},className:"inbox-views-sidebar dashboard-rounded-panel relative z-10 flex flex-shrink-0 flex-col",children:[s.jsx(P,{}),s.jsx("div",{className:"mt-auto border-t p-6",children:s.jsx(T,{size:"xs",elementType:m,to:"/dashboard/views",startIcon:s.jsx(b,{}),children:s.jsx(t,{message:"Manage views"})})})]})}export{_ as I,P as a,F as b};
