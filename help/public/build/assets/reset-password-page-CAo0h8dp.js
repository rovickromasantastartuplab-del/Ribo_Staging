import{h as u,i as l,t as c,m as d,k as p,a as x,d as j,j as s,T as e,aP as g,F as n,B as w,L as f}from"./client-DtfdVV77.js";import{G as h,A as b}from"./auth-layout-Pf6PSjuN.js";import{L as y}from"./external-link-Cxcw6nc_.js";import{h as F}from"./main-BGmGAxtx.js";import{o as N}from"./custom-menu-Dvq-fOnC.js";function P(r){return p.post("auth/reset-password",r).then(a=>a.data)}function R(r){const a=u();return l({mutationFn:P,onSuccess:()=>{a("/login",{replace:!0}),c(d("Your password has been reset!"))},onError:t=>N(t,r)})}function T(){const{token:r}=x(),a=j({defaultValues:{token:r}}),t=R(a),m=s.jsx(e,{message:"Reset your account password"}),i=s.jsx(e,{values:{a:o=>s.jsx(f,{className:y,to:"/register",children:o})},message:"Don't have an account? <a>Sign up.</a>"});return s.jsx(h,{children:s.jsxs(b,{heading:m,message:i,children:[s.jsx(F,{children:s.jsx(e,{message:"Reset Password"})}),s.jsxs(g,{form:a,onSubmit:o=>{t.mutate(o)},children:[s.jsx(n,{className:"mb-32",name:"email",type:"email",label:s.jsx(e,{message:"Email"}),required:!0}),s.jsx(n,{className:"mb-32",name:"password",type:"password",label:s.jsx(e,{message:"New password"}),required:!0}),s.jsx(n,{className:"mb-32",name:"password_confirmation",type:"password",label:s.jsx(e,{message:"Confirm password"}),required:!0}),s.jsx(w,{className:"block w-full",type:"submit",variant:"flat",color:"primary",size:"md",disabled:t.isPending,children:s.jsx(e,{message:"Reset password"})})]})]})})}export{T as Component};
