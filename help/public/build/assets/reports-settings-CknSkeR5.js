import{Z as x,Y as f,j as e,$ as j,_ as h,a5 as _,a1 as b,a9 as F,p as k,d as A,T as a,f as C,r as v,F as m}from"./client-DtfdVV77.js";import{A as g}from"./admin-config-DXsixO44.js";import{S as G}from"./settings-error-group-BnQc3270.js";import{A as S}from"./settings-layout-FQP6W4_q.js";import{D as N}from"./settings-links-CRsxvJIZ.js";import{S as $}from"./settings-panel-gMfbp8IE.js";import{u as D}from"./use-admin-settings-DArjpbC9.js";import"./dashboard-icons-BJ4c3Z5i.js";import"./library-icon-h4d3s9Ef.js";import"./messages-square-icon-D_3IR-rK.js";import"./main-BGmGAxtx.js";import"./custom-menu-Dvq-fOnC.js";import"./Delete-DWP7kvj0.js";import"./Home-iO0iebLw.js";import"./SupervisorAccount-Bkn2ibMi.js";import"./Translate-DPB2wdvD.js";import"./TextFields-CM1xUWDR.js";import"./use-admin-settings-page-nav-config-D58KRD8y.js";import"./datatable-page-with-header-layout-xcCtlWaX.js";import"./use-toggle-dashboard-left-sidebar-DxaOS7gK.js";import"./toggle-left-sidebar-icon-j-5uTef5.js";import"./file-upload-provider-B4w-VsYu.js";import"./uploaded-file-DOXWsty7.js";import"./pretty-bytes-bO14ePu9.js";import"./with-selector-DPNnjGhI.js";import"./useMutationState-Bmyxea6H.js";import"./blocker-dialog-B0Vc-LIE.js";import"./confirmation-dialog-BzXs9ksK.js";import"./external-link-Cxcw6nc_.js";import"./book-open-D91H26Dq.js";import"./useSuspenseQuery-Bmt2-NKx.js";const P=f.forwardRef((s,t)=>{const i=h(t),{fieldProps:r,inputProps:n}=_({...s,focusRef:i}),o=b(s);return e.jsx(F,{ref:t,fieldClassNames:o,...r,children:e.jsx("input",{type:"file",ref:i,...n,className:k(o.input,"py-8","file:bg-primary file:text-on-primary file:border-none file:rounded file:text-sm file:font-semibold file:px-10 file:h-24 file:mr-10")})})});function R({name:s,...t}){const{field:{onChange:i,onBlur:r,ref:n},fieldState:{invalid:o,error:l}}=x({name:s}),[d,u]=f.useState(""),y={onChange:c=>{var p;i((p=c.target.files)==null?void 0:p[0]),u(c.target.value)},onBlur:r,value:d,invalid:o,errorMessage:l==null?void 0:l.message};return e.jsx(P,{ref:n,...j(y,t)})}function ge(){var i,r;const{data:s}=D(),t=A({defaultValues:{files:{certificate:""},server:{analytics_property_id:s.server.analytics_property_id??""},client:{analytics:{tracking_code:((i=s.client.analytics)==null?void 0:i.tracking_code)??"",gchart_api_key:((r=s.client.analytics)==null?void 0:r.gchart_api_key)??""}}}});return e.jsx(S,{title:e.jsx(a,{message:"Analytics"}),form:t,children:e.jsx(w,{})})}function w(){const{clearErrors:s}=C();return e.jsx($,{layout:"vertical",title:e.jsx(a,{message:"Google Analytics"}),description:e.jsx(a,{message:"Configure Google Analytics integration for tracking site usage and displaying statistics."}),link:g.settings.googleAnalytics?e.jsx(N,{link:g.settings.googleAnalytics}):null,children:e.jsx(G,{separatorTop:!1,separatorBottom:!1,name:"analytics_group",children:t=>e.jsxs(v.Fragment,{children:[e.jsx(R,{size:"md",className:"mb-20",onChange:()=>s(),invalid:t,name:"files.certificate",accept:".json",label:e.jsx(a,{message:"Google service account key file (.json)"})}),e.jsx(m,{size:"sm",className:"mb-20",onChange:()=>s(),invalid:t,name:"server.analytics_property_id",type:"number",label:e.jsx(a,{message:"Google analytics property ID"})}),e.jsx(m,{size:"sm",className:"mb-20",onChange:()=>s(),invalid:t,name:"client.analytics.tracking_code",placeholder:"G-******",min:"1",max:"20",description:e.jsx(a,{message:"Google analytics measurement ID only, not the whole javascript snippet."}),label:e.jsx(a,{message:"Google tag manager measurement ID"})}),e.jsx(m,{size:"sm",name:"client.analytics.gchart_api_key",label:e.jsx(a,{message:"Google maps javascript API key"}),description:e.jsx(a,{message:"Only required in order to show world geochart on integrated analytics pages."})})]})})})}export{ge as Component};
