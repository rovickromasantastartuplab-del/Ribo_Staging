import{r as h,aN as N,j as u,p as R,L as H,ac as T,Y as V,aw as O,aj as _,ax as A,az as D}from"./client-DtfdVV77.js";import{$ as L}from"./useEffectEvent-Offmqu_S.js";import{C as q}from"./ChevronRight-C5OrfRtB.js";import{M as K}from"./MoreHoriz-Df3_bV9s.js";function P(r){let[n,s]=h.useState(r),e=h.useRef(null),o=L(()=>{if(!e.current)return;let l=e.current.next();if(l.done){e.current=null;return}n===l.value?o():s(l.value)});N(()=>{e.current&&o()});let i=L(l=>{e.current=l(n),o()});return[n,i]}function X(){return typeof window.ResizeObserver<"u"}function Y(r){const{ref:n,box:s,onResize:e}=r;h.useEffect(()=>{let o=n==null?void 0:n.current;if(o)if(X()){const i=new window.ResizeObserver(l=>{l.length&&e()});return i.observe(o,{box:s}),()=>{o&&i.unobserve(o)}}else return window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}},[e,n,s])}function F(r){const{isCurrent:n,sizeStyle:s,isMenuTrigger:e,isClickable:o,isDisabled:i,inactiveMuted:l,onSelected:I,className:k,isMenuItem:x,isLink:t,to:g,relative:w}=r,p=typeof r.children=="function"?r.children({isMenuItem:x}):r.children;if(x)return p;const z=e?{}:{tabIndex:t&&!i?0:void 0,role:t?"link":void 0,"aria-disabled":t?i:void 0,"aria-current":n&&t?"page":void 0,onClick:()=>I==null?void 0:I(),to:g,relative:w},E=g?H:"div";return u.jsxs("li",{className:R(`relative inline-flex min-w-0 flex-shrink-0 items-center justify-start transition-button ${s==null?void 0:s.font}`,(!o||i)&&"pointer-events-none",!n&&i&&"text-disabled",!n&&!i&&l&&"text-muted"),children:[u.jsx(E,{...z,className:R(k,"cursor-pointer overflow-hidden whitespace-nowrap rounded-button px-6",!e&&"py-2 hover:bg-hover",!e&&(t||g)&&"outline-none focus-visible:ring"),children:p}),n===!1&&u.jsx(q,{size:s==null?void 0:s.icon,className:R(i&&"text-disabled")})]})}const G=1,J=10;function ne(r){const{size:n="md",children:s,isDisabled:e,className:o,currentIsClickable:i,isNavigation:l,inactiveMuted:I=!0}=r,{trans:k}=T(),x=Q(n),t=[];V.Children.forEach(s,a=>{V.isValidElement(a)&&t.push(a)});const g=h.useRef(null),w=h.useRef(null),[p,z]=P(t.length),E=h.useCallback(()=>{const a=f=>{var C;const d=w.current;if(!d)return;const c=Array.from(d.children);if(!c.length)return;const v=d.offsetWidth,y=t.length>f;let m=0,b=0,$=J;if(m+=c.shift().offsetWidth,b++,y&&(m+=((C=c.shift())==null?void 0:C.offsetWidth)??0,$--),m>=v&&b--,c.length>0){const j=c.pop();j.style.overflow="visible",m+=j.offsetWidth,m<v&&b++,j.style.overflow=""}for(const j of c.reverse())m+=j.offsetWidth,m<v&&b++;return Math.max(G,Math.min($,b))};z(function*(){yield t.length;const f=a(t.length);yield f,f<t.length&&f>1&&(yield a(f))})},[w,s,z]);Y({ref:g,onResize:E}),N(E,[s]);let M=t;if(t.length>p){const a=t.length-1;M=[u.jsx(F,{sizeStyle:x,isMenuTrigger:!0,children:u.jsxs(O,{selectionMode:"single",selectedValue:a,children:[u.jsx(_,{"aria-label":"â€¦",disabled:e,size:x.btn,children:u.jsx(K,{})}),u.jsx(A,{children:t.map((v,y)=>{const m=a===y;return u.jsx(D,{to:v.props.to,value:y,onSelected:()=>{var b,$;m||($=(b=v.props).onSelected)==null||$.call(b)},children:h.cloneElement(v,{isMenuItem:!0})},y)})})]})},"menu")];const d=[...t];let c=p;p>1&&(M.unshift(d.shift()),c--),M.push(...d.slice(-c))}const B=M.length-1,S=M.map((a,f)=>{const d=f===B,c=!d||i;return h.cloneElement(a,{key:a.key||f,isCurrent:d,sizeStyle:x,isClickable:c,isDisabled:e,inactiveMuted:I,isLink:l&&a.key!=="menu"})}),W=l?"nav":"div";return u.jsx(W,{className:R(o,"breadcrumb-root w-full min-w-0"),"aria-label":k({message:"Breadcrumbs"}),ref:g,children:u.jsx("ol",{ref:w,className:R("flex flex-nowrap justify-start",x.minHeight),children:S})})}function Q(r){switch(r){case"sm":return{font:"text-sm",icon:"sm",btn:"sm",minHeight:"min-h-36"};case"lg":return{font:"text-lg",icon:"sm",btn:"md",minHeight:"min-h-42"};case"xl":return{font:"text-xl",icon:"sm",btn:"md",minHeight:"min-h-42"};default:return{font:"text-base",icon:"sm",btn:"md",minHeight:"min-h-42"}}}export{ne as B,F as a};
