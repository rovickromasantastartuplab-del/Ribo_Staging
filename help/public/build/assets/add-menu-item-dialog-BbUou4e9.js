const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./icon-list-DFxYit3p.js","./client-DtfdVV77.js","./use-filter-XfxMyUPQ.js","./main-BGmGAxtx.js","./custom-menu-Dvq-fOnC.js","./main-B9zyjXZz.css","./AccountTree-BVzukxeW.js","./Add-B1HfWgJf.js","./AddAPhoto-Bl3FQpaJ.js","./AddPhotoAlternate-BrU6uUCh.js","./AssignmentInd-D5m1j73o.js","./Translate-DPB2wdvD.js","./AlternateEmail-JgjChVK8.js","./PhonelinkLock-6ejR1HhJ.js","./FileUpload-C6VaMBta.js","./ArrowBack-DIhVch2U.js","./ArrowDownward-DHtsWMyK.js","./Subject-BqwsSXVC.js","./ArrowDropUp-Bo2AvQbZ.js","./ArrowForward-DlUghUiH.js","./ArrowRight-BrD9zeUx.js","./ArrowUpward-COT5Vlkx.js","./Article-CQpfLMan.js","./AttachFile-D1Gtc63k.js","./SentimentVerySatisfied-DzHFj715.js","./BarChart-CdZ81OvD.js","./MultipleStop-BsFzAEOj.js","./dashboard-icons-BJ4c3Z5i.js","./library-icon-h4d3s9Ef.js","./messages-square-icon-D_3IR-rK.js","./Delete-DWP7kvj0.js","./Home-iO0iebLw.js","./SupervisorAccount-Bkn2ibMi.js","./BrowserUpdated-B8idVEmY.js","./Chat-C94dcr0C.js","./ChatBubbleOutline-D_zVnkWb.js","./CheckBoxOutlineBlank-DU0ZdwTb.js","./ChevronLeft-IHWIEiah.js","./ChevronRight-C5OrfRtB.js","./OpenInFull-mOMLBQ1Z.js","./FormatListNumbered-BcAdH5KM.js","./Tablet-DFnu-M6b.js","./ConfirmationNumber-CY9CjtLz.js","./UploadFile-DLR78p2b.js","./Remove-zJbHEDiB.js","./DataObject-3cjjRxnv.js","./Download-44KjkU3h.js","./DragHandle-CczVUV80.js","./DragIndicator-CvftiD3i.js","./Edit-BaEHOLuK.js","./Email-DbuUu46B.js","./Event-DDJ424UR.js","./EventRepeat-MfV9dmSy.js","./FileDownload-DjsfzW8M.js","./FilterAlt-CRhKT7zD.js","./Undo-BcDh75at.js","./FormatColorFill-DNSNzsFD.js","./FullscreenExit-DqIV63hh.js","./Image-Be6lBBa0.js","./Help-DMvOY11L.js","./HelpOutline-DkAeNvPf.js","./HourglassEmpty-T3VQEBmq.js","./Info-maeeGW26.js","./VideoLibrary-DGhXJH2D.js","./KeyboardArrowUp-B9BC5Sar.js","./Link-WHWZ7SV6.js","./Lock-Dv_tThfr.js","./Login-DTH0heiT.js","./ViewDay-0YjWc40J.js","./Spellcheck-Bj2fiFlW.js","./MenuOpen-C_gqQJXO.js","./MoreHoriz-Df3_bV9s.js","./MoreVert-BVDYtk4z.js","./ToggleOn-DbVFGpQu.js","./OpenInNew-C06CZDpe.js","./Pause-nmM_0UY8.js","./PersonOff-PbZppYRT.js","./Power-BC4_tQD3.js","./PriorityHigh-BG38_UZP.js","./Public-BJppe_Yn.js","./PushPin-DEBAXBqb.js","./RadioButtonUnchecked-FxC3TMef.js","./RestartAlt-DTi82oFC.js","./Route-DzO-FrWL.js","./Schedule-BAyUsflh.js","./Send-BbKd9OAw.js","./Storage-BxPAG76v.js","./Sync-8LVFzqtm.js","./TextFields-CM1xUWDR.js","./ThumbDown-BB-li-Gi.js","./ThumbUp-CTCneb2T.js","./TrendingFlat-6ceQSLnV.js","./Tune-B3kaKuXY.js","./Visibility-BlnkCOzB.js","./envato-DSHUfLey.js","./permission-selector-CRaW7I2O.js","./accordion-Dmxnze9z.js","./accordtion-animation-BGCK95Hj.js","./uc-first-pSl3nM3z.js","./form-chip-field-C7l8nGPv.js","./chip-list-DHXDGW6X.js","./select-D9niWe2H.js","./combobox-end-adornment-CWQ4Xgal.js","./use-previous-BLaxBq_s.js","./skeleton-D178v0-U.js"])))=>i.map(i=>d[i]);
import{ac as x,Y as A,j as e,aa as N,A as T,r as d,z as I,C as F,bd as M,am as k,an as C,T as r,ap as _,al as b,X as v,F as g,m as p,f as z,b6 as R,av as V,aj as q,az as u,ay as O,u as Q,d as B,bg as P,aP as H,B as K}from"./client-DtfdVV77.js";import{c as S,X as D,d as U,e as W}from"./main-BGmGAxtx.js";import{b as X,p as $}from"./permission-selector-CRaW7I2O.js";import{F as E}from"./form-chip-field-C7l8nGPv.js";import{F as j}from"./select-D9niWe2H.js";import{E as G}from"./Edit-BaEHOLuK.js";import{u as Y}from"./use-previous-BLaxBq_s.js";import{S as J}from"./skeleton-D178v0-U.js";import{A as Z,a as f}from"./accordion-Dmxnze9z.js";import{u as ee}from"./use-filter-XfxMyUPQ.js";import{A as se}from"./Add-B1HfWgJf.js";import{u as ae}from"./uc-first-pSl3nM3z.js";const y={grid:"flex flex-wrap gap-24",button:"flex flex-col items-center rounded hover:bg-hover h-90 aspect-square"},ne=[...Array(60).keys()],te=A.lazy(()=>M(()=>import("./icon-list-DFxYit3p.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104]),import.meta.url));function re({onIconSelected:s}){const{trans:a}=x(),[l,o]=A.useState("");return e.jsxs("div",{className:"py-4",children:[e.jsx(N,{className:"mb-20",value:l,onChange:n=>{o(n.target.value)},placeholder:a({message:"Search icons..."})}),e.jsx(T,{mode:"wait",children:e.jsx(d.Suspense,{fallback:e.jsx(I.div,{...F,className:y.grid,children:ne.map((n,i)=>e.jsx("div",{className:y.button,children:e.jsx(J,{variant:"rect"})},i))}),children:e.jsx(I.div,{...F,className:y.grid,children:e.jsx(te,{searchQuery:l,onIconSelected:s})})})})]})}function le(){return e.jsxs(k,{size:"w-850",className:"min-h-dialog",children:[e.jsx(C,{children:e.jsx(r,{message:"Select icon"})}),e.jsx(_,{children:e.jsx(ie,{})})]})}function ie(){const{close:s}=b();return e.jsx(re,{onIconSelected:a=>{s(a)}})}function L(){const{data:s}=v(S.settings.menuEditorConfig());return s!=null&&s.config?s.config.available_routes.map(a=>({id:a,label:a,action:a,type:"route",target:"_self"})):[]}function Ne({formPathPrefix:s,hideRoleAndPermissionFields:a,children:l}){const{trans:o}=x(),n=i=>s?`${s}.${i}`:i;return e.jsxs(d.Fragment,{children:[e.jsx(g,{className:"mb-20",name:n("label"),label:e.jsx(r,{message:"Label"}),placeholder:o(p("No label...")),startAppend:e.jsx(oe,{prefixName:n})}),l,e.jsx(ce,{prefixName:n}),e.jsx(xe,{prefixName:n}),!a&&e.jsxs(d.Fragment,{children:[e.jsx(me,{prefixName:n}),e.jsx(ue,{prefixName:n}),e.jsx(de,{prefixName:n})]})]})}function oe({prefixName:s,...a}){const{watch:l,setValue:o}=z(),n=s("icon"),i=l(n),c=i&&R(i);return e.jsxs(V,{type:"modal",onClose:t=>{(t||t===null)&&o(n,t,{shouldDirty:!0})},children:[e.jsx(q,{className:"text-muted icon-sm",variant:"outline",size:"md",...a,children:c?e.jsx(c,{}):e.jsx(G,{})}),e.jsx(le,{})]})}function ce({prefixName:s}){const a=z(),l=a.watch(s("type")),o=Y(l),{data:n}=D(["menuItemCategories"]),i=(n==null?void 0:n.menuItemCategories)||[],c=i.find(m=>m.type===l),{trans:t}=x(),h=L();return d.useEffect(()=>{o&&o!==l&&a.getValues(s("type"))&&a.setValue(s("action"),"")},[l,o,a,s]),e.jsxs(d.Fragment,{children:[e.jsxs(j,{className:"mb-20",name:s("type"),selectionMode:"single",label:e.jsx(r,{message:"Link type"}),children:[e.jsx(u,{value:"link",children:e.jsx(r,{message:"External link"})}),e.jsx(u,{value:"route",children:e.jsx(r,{message:"Site page"})}),i.map(m=>e.jsx(u,{value:m.type,children:m.name},m.type))]}),l==="link"&&e.jsx(g,{className:"mb-20",required:!0,type:"url",name:s("action"),placeholder:t({message:"Enter a url..."}),label:e.jsx(r,{message:"Url"})}),l==="route"&&e.jsx(j,{className:"mb-20",required:!0,items:h,name:s("action"),label:e.jsx(r,{message:"Page"}),searchPlaceholder:t(p("Search pages")),showSearchField:!0,selectionMode:"single",children:m=>e.jsx(u,{value:m.id,children:m.label},m.id)}),c&&e.jsx(j,{className:"mb-20",required:!0,items:c.items,name:s("action"),showSearchField:!0,searchPlaceholder:t(p("Search...")),selectionMode:"single",label:e.jsx(r,{message:c.name}),children:m=>e.jsx(u,{value:m.action,children:e.jsx(r,{message:m.label})})})]})}function me({prefixName:s}){const{data:a}=D(["roles"]),l=(a==null?void 0:a.roles)||[],{trans:o}=x();return e.jsx(E,{className:"my-20",placeholder:o({message:"Add role..."}),label:e.jsx(r,{message:"Only show if user has role"}),name:s("roles"),chipSize:"sm",suggestions:l,valueKey:"id",displayWith:n=>{var i;return(i=l.find(c=>c.id===n.id))==null?void 0:i.name},children:n=>e.jsx(u,{value:n.id,capitalizeFirst:!0,children:e.jsx(r,{message:n.name})},n.id)})}function ue({prefixName:s}){var n;const a=v(S.permissions.index()),{trans:l}=x(),o=d.useMemo(()=>{var i;return X(((i=a.data)==null?void 0:i.permissions)||[],[])},[(n=a.data)==null?void 0:n.permissions]);return e.jsx(E,{label:e.jsx(r,{message:"Only show if user has permissions"}),placeholder:l({message:"Add permission..."}),chipSize:"sm",suggestions:o,name:s("permissions"),valueKey:"name",children:({groupName:i,items:c})=>e.jsx(O,{label:$(i),children:c.map(t=>e.jsx(u,{value:t.name,description:e.jsx(r,{message:t.description}),children:e.jsx(r,{message:t.display_name||t.name})},t.name))},i)})}function de({prefixName:s}){const{billing:a}=Q();return a.enable?e.jsxs(j,{selectionMode:"single",className:"mt-20",label:e.jsx(r,{message:"Subscription status"}),name:s("subscriptionStatus"),children:[e.jsx(u,{value:"subscribed",children:e.jsx(r,{message:"Only show if user is subscribed"})}),e.jsx(u,{value:"unsubscribed",children:e.jsx(r,{message:"Only show if user is not subscribed"})}),e.jsx(u,{value:null,children:e.jsx(r,{message:"Always show"})})]}):null}function xe({prefixName:s}){return e.jsxs(j,{className:"mt-20",selectionMode:"single",name:s("target"),label:e.jsx(r,{message:"Open link in"}),children:[e.jsx(u,{value:"_self",children:e.jsx(r,{message:"Same window"})}),e.jsx(u,{value:"_blank",children:e.jsx(r,{message:"New window"})})]})}function ke({title:s=e.jsx(r,{message:"Add menu item"})}){const{type:a}=b(),{data:l}=v(S.settings.menuEditorConfig()),o=L(),n=(l==null?void 0:l.categories)||[],i=a==="drawer"?"max-h-auto":"max-h-240 overflow-y-auto";return e.jsxs(k,{size:a==="drawer"?"md":"sm",children:[e.jsx(C,{children:s}),e.jsx(_,{children:e.jsxs(Z,{variant:"outline",children:[e.jsx(f,{label:e.jsx(r,{message:"Link"}),bodyClassName:i,children:e.jsx(je,{})}),e.jsx(f,{label:e.jsx(r,{message:"Route"}),bodyClassName:i,children:e.jsx(w,{items:o})}),n.map(c=>e.jsx(f,{bodyClassName:i,label:e.jsx(r,{message:c.name}),children:e.jsx(w,{items:c.items})},c.name))]})})]})}function je(){const s=B({defaultValues:{id:P(6),type:"link",target:"_blank"}}),{close:a}=b();return e.jsxs(H,{form:s,onSubmit:l=>{a(l)},children:[e.jsx(g,{required:!0,name:"label",label:e.jsx(r,{message:"Label"}),className:"mb-20"}),e.jsx(g,{required:!0,type:"url",name:"action",placeholder:"https://",label:e.jsx(r,{message:"Url"}),className:"mb-20"}),e.jsx("div",{className:"text-right",children:e.jsx(K,{type:"submit",variant:"flat",color:"primary",size:"xs",children:e.jsx(r,{message:"Add to menu"})})})]})}function w({items:s}){const{trans:a}=x(),{close:l}=b(),[o,n]=d.useState(""),{contains:i}=ee({sensitivity:"base"}),c=s.filter(t=>i(t.action??"",o));return e.jsxs(d.Fragment,{children:[e.jsx(N,{placeholder:a(p("Search...")),value:o,size:"sm",onChange:t=>n(t.target.value),className:"mb-12"}),e.jsx(U,{children:c.map(t=>e.jsx(W,{startIcon:e.jsx(se,{size:"sm"}),onSelected:()=>{if(t.label){const h=t.label.split("/").pop();t.label=h?ae(h):t.label,t.id=P(6)}t.target||(t.target="_self"),l(t)},children:t.label},t.id))})]})}export{ke as A,Ne as M,y as i};
