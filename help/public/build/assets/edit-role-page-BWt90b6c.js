import{ac as p,h as c,i as x,s as b,k as f,t as h,m as j,q as g,d as T,bc as y,j as e,b9 as R,L as C,T as n}from"./client-DtfdVV77.js";import{c as l}from"./main-BGmGAxtx.js";import{u}from"./use-required-params-BhaT_-q3.js";import{u as I}from"./useSuspenseQuery-Bmt2-NKx.js";import{B as q,a as m}from"./breadcrumb-CaNBY_Ut.js";import{T as v,a as L,b as S}from"./tabs-spjnXvK6.js";import{C as $}from"./crupdate-resource-layout-BeHzVG7e.js";import"./custom-menu-Dvq-fOnC.js";import"./useEffectEvent-Offmqu_S.js";import"./ChevronRight-C5OrfRtB.js";import"./MoreHoriz-Df3_bV9s.js";import"./datatable-page-with-header-layout-xcCtlWaX.js";import"./use-toggle-dashboard-left-sidebar-DxaOS7gK.js";import"./toggle-left-sidebar-icon-j-5uTef5.js";function B(){const{roleId:o}=u(["roleId"]),{trans:s}=p(),i=c();return x({mutationFn:a=>f.put(`roles/${o}`,a).then(t=>t.data),onSuccess:()=>{h(s(j("Role updated"))),g.invalidateQueries({queryKey:l.roles.invalidateKey}),i("/admin/roles")},onError:a=>b(a)})}const E=[{uri:"",label:{message:"Settings"}},{uri:"users",label:{message:"Users"}}];function W(){const{roleId:o}=u(["roleId"]),s=I(l.roles.get(o)),i=T({defaultValues:{name:s.data.role.name,type:s.data.role.type,description:s.data.role.description,permissions:s.data.role.permissions}}),a=B(),t=y("admin/roles/:roleId/edit/*"),d=t!=null&&t.pathname.endsWith("users")?1:0;return e.jsx($,{isLoading:a.isPending,form:i,onSubmit:r=>{a.mutate(r)},title:e.jsxs(q,{size:"xl",children:[e.jsx(m,{to:"/admin/roles",children:e.jsx(n,{message:"Roles"})}),e.jsx(m,{children:s.data.role.name})]}),tabs:e.jsx(v,{selectedTab:d,children:e.jsx(L,{className:"px-24",children:E.map(r=>e.jsx(S,{elementType:C,to:`/admin/roles/${o}/edit${r.uri?`/${r.uri}`:""}`,children:e.jsx(n,{...r.label})},r.uri))})}),children:e.jsx(R,{})})}export{W as Component};
