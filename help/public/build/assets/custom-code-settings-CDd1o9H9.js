const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ace-editor-B7vDiNsP.js","./client-DtfdVV77.js"])))=>i.map(i=>d[i]);
import{aL as p,m as l,j as t,T as u,d as h,f,r as d,Y as x,P as b,bd as j}from"./client-DtfdVV77.js";import{A as g}from"./admin-config-DXsixO44.js";import{A as C}from"./settings-layout-FQP6W4_q.js";import{u as T}from"./use-admin-settings-DArjpbC9.js";import{T as _,a as E,b as L}from"./tabs-spjnXvK6.js";import"./dashboard-icons-BJ4c3Z5i.js";import"./library-icon-h4d3s9Ef.js";import"./messages-square-icon-D_3IR-rK.js";import"./main-BGmGAxtx.js";import"./custom-menu-Dvq-fOnC.js";import"./Delete-DWP7kvj0.js";import"./Home-iO0iebLw.js";import"./SupervisorAccount-Bkn2ibMi.js";import"./Translate-DPB2wdvD.js";import"./TextFields-CM1xUWDR.js";import"./settings-links-CRsxvJIZ.js";import"./external-link-Cxcw6nc_.js";import"./book-open-D91H26Dq.js";import"./use-admin-settings-page-nav-config-D58KRD8y.js";import"./datatable-page-with-header-layout-xcCtlWaX.js";import"./use-toggle-dashboard-left-sidebar-DxaOS7gK.js";import"./toggle-left-sidebar-icon-j-5uTef5.js";import"./file-upload-provider-B4w-VsYu.js";import"./uploaded-file-DOXWsty7.js";import"./pretty-bytes-bO14ePu9.js";import"./with-selector-DPNnjGhI.js";import"./useMutationState-Bmyxea6H.js";import"./blocker-dialog-B0Vc-LIE.js";import"./confirmation-dialog-BzXs9ksK.js";import"./useSuspenseQuery-Bmt2-NKx.js";const P=x.lazy(()=>j(()=>import("./ace-editor-B7vDiNsP.js"),__vite__mapDeps([0,1]),import.meta.url)),c=[{name:"html",label:l("Custom HTML & JavaScript")},{name:"css",label:l("Custom CSS")}];function rt(){const[o,m]=p(),r=o.get("tab")||"html";let e=c.findIndex(s=>s.name===r);e=e===-1?0:e;const a=r==="html"?"html":"css",i=t.jsx(_,{selectedTab:e,onTabChange:s=>m({tab:c[s].name}),children:t.jsx(E,{className:"px-8",children:c.map(s=>t.jsx(L,{children:t.jsx(u,{...s.label})},s.name))})});return t.jsx(S,{mode:a,tabList:i},a)}function S({mode:o,tabList:m}){const{data:r}=T(),e=o==="css"?{custom_code:{css:r.custom_code.css}}:{custom_code:{html:r.custom_code.html}},a=h({defaultValues:e});return t.jsx(C,{form:a,title:t.jsx(u,{message:"Custom code"}),tabs:m,docsLink:g.settings.customCode,children:t.jsx("div",{className:"relative h-580 overflow-hidden rounded-panel border",children:t.jsx(A,{mode:o})})})}function A({mode:o}){const{setValue:m,getValues:r,setError:e,clearErrors:a}=f(),i=d.useRef(!0),s=o==="html"?"custom_code.html":"custom_code.css";return t.jsx(d.Suspense,{fallback:t.jsx(b,{isIndeterminate:!0}),children:t.jsx(P,{mode:o,onLoad:()=>{setTimeout(()=>i.current=!1,10)},onChange:n=>{if(!i.current)return m(s,n,{shouldDirty:!0})},defaultValue:r(s)||"",onIsValidChange:n=>{n?a(s):e(s,{type:"manual"})}})})}export{rt as Component};
