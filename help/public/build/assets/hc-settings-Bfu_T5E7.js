import{ac as U,i as V,s as $,t as W,m as n,k as q,d as Z,j as e,T as t,f as u,r as p,az as o,aR as K,F as c,e as x,aG as R,l as O,av as G,L as Q,al as J,be as X,am as Y,an as ee,B as d,ap as te,u as se}from"./client-DtfdVV77.js";import{A as ae}from"./admin-config-DXsixO44.js";import{A as ie}from"./attributes-manager-D-sW2vlt.js";import{s as ne,u as re}from"./settings-layout-FQP6W4_q.js";import{a as E}from"./settings-panel-gMfbp8IE.js";import{S as h,a as oe}from"./settings-section-button-CSsdbx0L.js";import{u as ce}from"./use-admin-settings-DArjpbC9.js";import{S as le}from"./simple-background-position-selector-D0fdRhCr.js";import{F as me}from"./image-selector-fVyS7PG4.js";import{A as de,a as pe}from"./accordion-Dmxnze9z.js";import{L as ge}from"./external-link-Cxcw6nc_.js";import{F as j}from"./select-D9niWe2H.js";import{A as he}from"./Add-B1HfWgJf.js";import{A as ue}from"./ArrowRight-BrD9zeUx.js";import{C as xe}from"./confirmation-dialog-BzXs9ksK.js";import{d as je}from"./download-file-from-url-hJ3EUwXO.js";import{o as be}from"./open-upload-window-DE9Q8gNs.js";import"./dashboard-icons-BJ4c3Z5i.js";import"./library-icon-h4d3s9Ef.js";import"./messages-square-icon-D_3IR-rK.js";import"./main-BGmGAxtx.js";import"./custom-menu-Dvq-fOnC.js";import"./Delete-DWP7kvj0.js";import"./Home-iO0iebLw.js";import"./SupervisorAccount-Bkn2ibMi.js";import"./Translate-DPB2wdvD.js";import"./TextFields-CM1xUWDR.js";import"./pretty-attribute-type-DnpvguCK.js";import"./DragIndicator-CvftiD3i.js";import"./Lock-Dv_tThfr.js";import"./use-sortable-CsHM4tcn.js";import"./isScrollable-BSEN4xi5.js";import"./use-droppable-CpvjuNXE.js";import"./uploaded-file-DOXWsty7.js";import"./useGlobalListeners-BGMP113F.js";import"./skeleton-D178v0-U.js";import"./group-array-by-5IjT7qk6.js";import"./settings-links-CRsxvJIZ.js";import"./book-open-D91H26Dq.js";import"./use-admin-settings-page-nav-config-D58KRD8y.js";import"./datatable-page-with-header-layout-xcCtlWaX.js";import"./use-toggle-dashboard-left-sidebar-DxaOS7gK.js";import"./toggle-left-sidebar-icon-j-5uTef5.js";import"./file-upload-provider-B4w-VsYu.js";import"./pretty-bytes-bO14ePu9.js";import"./with-selector-DPNnjGhI.js";import"./useMutationState-Bmyxea6H.js";import"./blocker-dialog-B0Vc-LIE.js";import"./OpenInFull-mOMLBQ1Z.js";import"./useSuspenseQuery-Bmt2-NKx.js";import"./radio-DP8xYP6t.js";import"./radio-group-C_T7jNq6.js";import"./use-active-upload-CGOT7g6R.js";import"./shallow-BH2jDtXM.js";import"./AddAPhoto-Bl3FQpaJ.js";import"./progress-bar-BMzArYUQ.js";import"./file-input-config-DrcTpI3-.js";import"./accordtion-animation-BGCK95Hj.js";import"./combobox-end-adornment-CWQ4Xgal.js";function fe(){const{trans:a}=U();return V({mutationFn:s=>we(s),onSuccess:()=>{W(a(n("Help center data imported")))},onError:s=>$(s)})}function we(a){const s=new FormData;return s.append("file",a.file.native),q.post("hc/actions/import",s).then(i=>i.data)}const r={home:{route:"hc",label:n("Homepage")},newTicket:{route:"hc/tickets/new",label:n("New ticket")},article:{route:`hc/articles/${ne}/preview`,label:n("Article")}},M=[{label:n("Header"),component:_e,route:r.home.route},{label:n("Landing page"),component:ye,route:r.home.route},{label:n("Article page"),component:ke,route:r.article.route},{label:n("New ticket page"),component:Le,route:r.newTicket.route},{label:n("Footer"),component:Ne,route:r.home.route},{label:n("Data"),component:Fe,route:r.home.route},{label:n("Livechat"),component:Ae,route:r.home.route}];function Et(){var l,g,m,b,f,w,v,k,L,S,_,T,y,N,F,A,C,D,z,I,P,H,B;const{data:a}=ce(),s=a.client,i=Z({defaultValues:{client:{articles:{default_order:((l=s.articles)==null?void 0:l.default_order)??"position|desc"},article:{hide_new_ticket_link:((g=s.article)==null?void 0:g.hide_new_ticket_link)??!1},hcLanding:{articles_per_category:((m=s.hcLanding)==null?void 0:m.articles_per_category)??10,children_per_category:((b=s.hcLanding)==null?void 0:b.children_per_category)??10,hide_small_categories:((f=s.hcLanding)==null?void 0:f.hide_small_categories)??!1,header:{variant:((v=(w=s.hcLanding)==null?void 0:w.header)==null?void 0:v.variant)??"simple",background:((L=(k=s.hcLanding)==null?void 0:k.header)==null?void 0:L.background)??"",backgroundPosition:((_=(S=s.hcLanding)==null?void 0:S.header)==null?void 0:_.backgroundPosition)??"",title:((y=(T=s.hcLanding)==null?void 0:T.header)==null?void 0:y.title)??"",subtitle:((F=(N=s.hcLanding)==null?void 0:N.header)==null?void 0:F.subtitle)??"",placeholder:((C=(A=s.hcLanding)==null?void 0:A.header)==null?void 0:C.placeholder)??""},content:{variant:((z=(D=s.hcLanding)==null?void 0:D.content)==null?void 0:z.variant)??"articleGrid"},show_footer:((I=s.hcLanding)==null?void 0:I.show_footer)??!1},hc:{newTicket:{appearance:((H=(P=s.hc)==null?void 0:P.newTicket)==null?void 0:H.appearance)??{}},showLivechat:((B=s.hc)==null?void 0:B.showLivechat)??!1}}}});return e.jsxs(h,{title:e.jsx(t,{message:"Help center"}),defaultRoute:r.home.route,availableRoutes:r,docsLink:ae.settings.helpCenter,children:[e.jsx(h.Content,{children:e.jsx(h.Form,{form:i,children:e.jsx(ve,{})})}),e.jsx(h.Preview,{})]})}function ve(){const a=re(s=>s.setPreviewRoute);return e.jsx(de,{variant:"outline",size:"lg",onExpandedChange:([s])=>{a(!s||s===-1?r.home.route:M[s].route)},children:M.map(s=>{const i=s.component;return e.jsx(pe,{label:e.jsx(t,{...s.label}),children:e.jsx(i,{})},s.label.message)})})}function ke(){return e.jsxs(p.Fragment,{children:[e.jsxs(j,{label:e.jsx(t,{message:"Default article order"}),name:"client.articles.default_order",className:"mb-24",selectionMode:"single",children:[e.jsx(o,{value:"position|desc",children:e.jsx(t,{message:"Position"})}),e.jsx(o,{value:"views|desc",children:e.jsx(t,{message:"Most viewed first"})}),e.jsx(o,{value:"was_helpful|desc",children:e.jsx(t,{message:"Most helpful first"})}),e.jsx(o,{value:"created_at|desc",children:e.jsx(t,{message:"Newest first"})}),e.jsx(o,{value:"title|asc",children:e.jsx(t,{message:"A to Z"})})]}),e.jsx(x,{name:"client.article.hide_new_ticket_link",children:e.jsx(t,{message:"Hide 'Submit a Request' link"})})]})}function Le(){const a=R({name:"client.hc.newTicket.appearance.attributeIds"}),{setValue:s}=u();return e.jsxs(p.Fragment,{children:[e.jsx(c,{label:e.jsx(t,{message:"Title"}),className:"mb-24",name:"client.hc.newTicket.appearance.title"}),e.jsx(c,{label:e.jsx(t,{message:"Submit button text"}),className:"mb-24",name:"client.hc.newTicket.appearance.submitButtonText"}),e.jsx(E,{margin:"mt-24 mb-12",size:"sm",className:"border-t pt-18",children:e.jsx(t,{message:"Fields"})}),e.jsx(ie,{addButtonLabel:e.jsx(t,{message:"Add field"}),queryOptions:O.attributes.normalizedList({type:"conversation",for:"agent"}),nonDeletableAttributeKeys:["subject","description"],selectedAttributeIds:a,onChange:i=>s("client.hc.newTicket.appearance.attributeIds",i,{shouldDirty:!0})}),e.jsx(E,{margin:"mt-24 mb-12",size:"sm",className:"border-t pt-18",children:e.jsx(t,{message:"Sidebar"})}),e.jsx(c,{label:e.jsx(t,{message:"Title"}),className:"mb-20",name:"client.hc.newTicket.appearance.sidebarTitle"}),e.jsxs(G,{type:"drawer",children:[e.jsx(oe,{size:"md",endIcon:e.jsx(ue,{className:"text-muted"}),children:e.jsx(t,{message:"Tips"})}),e.jsx(Se,{})]})]})}function Se(){const{close:a}=J(),{fields:s,append:i,remove:l}=X({name:"client.hc.newTicket.appearance.sidebarTips"});return e.jsxs(Y,{children:[e.jsx(ee,{actions:e.jsx(d,{size:"xs",variant:"outline",color:"primary",startIcon:e.jsx(he,{}),onClick:()=>i({title:"",content:""}),children:e.jsx(t,{message:"Add tip"})}),rightAdornment:e.jsx(d,{variant:"outline",size:"xs",onClick:a,children:e.jsx(t,{message:"Save & close"})}),children:e.jsx(t,{message:"Sidebar tips"})}),e.jsx(te,{children:s.map((g,m)=>e.jsxs("div",{className:m<s.length-1?"mb-24 border-b pb-24":void 0,children:[e.jsx(c,{label:e.jsx(t,{message:"Title"}),className:"mb-24",name:`client.hc.newTicket.appearance.sidebarTips.${m}.title`}),e.jsx(c,{label:e.jsx(t,{message:"Content"}),className:"mb-12",name:`client.hc.newTicket.appearance.sidebarTips.${m}.content`,inputElementType:"textarea",rows:2}),e.jsx(d,{color:"danger",size:"xs",onClick:()=>l(m),children:e.jsx(t,{message:"Delete"})})]},g.id))})]})}function _e(){return u(),e.jsxs(p.Fragment,{children:[e.jsxs(j,{className:"mb-24",selectionMode:"single",label:e.jsx(t,{message:"Header style"}),name:"client.hcLanding.header.variant",children:[e.jsx(o,{value:"simple",children:e.jsx(t,{message:"Simple"})}),e.jsx(o,{value:"colorful",children:e.jsx(t,{message:"Colorful"})})]}),e.jsx(me,{name:"client.hcLanding.header.background",className:"mb-12",label:e.jsx(t,{message:"Background image"}),uploadType:K.brandingImages,showRemoveButton:!0}),e.jsx(Te,{}),e.jsx(c,{label:e.jsx(t,{message:"Header title"}),size:"sm",className:"mb-24",name:"client.hcLanding.header.title",inputElementType:"textarea",rows:2}),e.jsx(c,{label:e.jsx(t,{message:"Header subtitle"}),size:"sm",className:"mb-24",inputElementType:"textarea",rows:2,name:"client.hcLanding.header.subtitle"}),e.jsx(c,{label:e.jsx(t,{message:"Search field placeholder"}),size:"sm",name:"client.hcLanding.header.placeholder",inputElementType:"textarea",rows:2})]})}function Te(){const{setValue:a,getValues:s}=u(),i=R({name:"client.hcLanding.header"});return e.jsx(le,{className:"mb-20",compactLabels:!0,value:i,disabled:!(i!=null&&i.background),onChange:l=>{console.log(l),a("client.hcLanding.header",{...s("client.hcLanding.header"),...l},{shouldDirty:!0})}})}function ye(){const a=u();return e.jsxs(p.Fragment,{children:[e.jsxs(j,{selectionMode:"single",label:e.jsx(t,{message:"Content style"}),name:"client.hcLanding.content.variant",children:[e.jsx(o,{value:"categoryGrid",children:e.jsx(t,{message:"Category grid"})}),e.jsx(o,{value:"articleGrid",children:e.jsx(t,{message:"Article grid"})}),e.jsx(o,{value:"multiProduct",children:e.jsx(t,{message:"Multiproduct"})})]}),e.jsx(c,{name:"client.hcLanding.children_per_category",label:e.jsx(t,{message:"Maximum categories to show"}),className:"my-24",type:"number",min:"1",max:"50"}),a.watch("client.hcLanding.content.variant")==="articleGrid"&&e.jsxs("div",{children:[e.jsx(c,{name:"client.hcLanding.articles_per_category",label:e.jsx(t,{message:"Maximum articles per section"}),type:"number",className:"mb-24",min:"1",max:"50"}),e.jsx(x,{name:"client.hcLanding.hide_small_categories",children:e.jsx(t,{message:"Hide empty categories"})})]})]})}function Ne(){return e.jsxs(p.Fragment,{children:[e.jsx(x,{name:"client.hcLanding.show_footer",children:e.jsx(t,{message:"Show footer"})}),e.jsx("div",{className:"mt-12 text-sm",children:e.jsx(t,{message:"Customize footer content from <a>menu manager</a>.",values:{a:a=>e.jsx(Q,{to:"/admin/settings/menus",target:"_blank",className:ge,children:a})}})})]})}function Fe(){return e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 text-sm",children:e.jsx(t,{message:"Import and export help center data (articles, categories, images, tags) in a .zip file for backup or migration."})}),e.jsxs("div",{className:"mt-10 flex items-center gap-10",children:[e.jsx(Ce,{}),e.jsx(De,{})]})]})}function Ae(){return e.jsx(x,{name:"client.hc.showLivechat",description:e.jsx(t,{message:"Show livechat launcher on all help center pages"}),children:e.jsx(t,{message:"Show livechat"})})}function Ce(){const a=fe();return e.jsxs(G,{type:"modal",children:[e.jsx(d,{variant:"outline",className:"mr-2",size:"xs",children:e.jsx(t,{message:"Import"})}),({close:s})=>e.jsx(xe,{isDanger:!0,title:e.jsx(t,{message:"Import help center data"}),body:e.jsxs("div",{children:[e.jsx(t,{message:"Are you sure you want to import help center data?"}),e.jsx("div",{className:"mt-8 font-bold",children:e.jsx(t,{message:"This will erase all existing articles and categories."})})]}),confirm:e.jsx(t,{message:"Import"}),isLoading:a.isPending,onConfirm:async()=>{const i=await be({extensions:["zip"]});a.mutate({file:i[0]},{onSuccess:()=>s()})}})]})}function De(){const{base_url:a}=se(),s=()=>{const i=`${a}/api/v1/hc/actions/export`;je(i,"hc-export.zip")};return e.jsx(d,{variant:"outline",size:"xs",onClick:()=>s(),children:e.jsx(t,{message:"Export"})})}export{Et as Component};
