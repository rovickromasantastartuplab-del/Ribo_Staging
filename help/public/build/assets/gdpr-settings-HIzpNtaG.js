import{d as p,j as e,T as o,f as d,e as x,az as a,be as j,r as g,aj as h,as as b,av as u,B as f}from"./client-DtfdVV77.js";import{A}from"./admin-config-DXsixO44.js";import{A as k}from"./settings-layout-FQP6W4_q.js";import{a as c}from"./settings-panel-gMfbp8IE.js";import{u as v}from"./use-admin-settings-DArjpbC9.js";import{A as C,a as F}from"./accordion-Dmxnze9z.js";import{F as P}from"./select-D9niWe2H.js";import{A as I}from"./Add-B1HfWgJf.js";import{M as l,A as y}from"./add-menu-item-dialog-BbUou4e9.js";import"./dashboard-icons-BJ4c3Z5i.js";import"./library-icon-h4d3s9Ef.js";import"./messages-square-icon-D_3IR-rK.js";import"./main-BGmGAxtx.js";import"./custom-menu-Dvq-fOnC.js";import"./Delete-DWP7kvj0.js";import"./Home-iO0iebLw.js";import"./SupervisorAccount-Bkn2ibMi.js";import"./Translate-DPB2wdvD.js";import"./TextFields-CM1xUWDR.js";import"./settings-links-CRsxvJIZ.js";import"./external-link-Cxcw6nc_.js";import"./book-open-D91H26Dq.js";import"./use-admin-settings-page-nav-config-D58KRD8y.js";import"./datatable-page-with-header-layout-xcCtlWaX.js";import"./use-toggle-dashboard-left-sidebar-DxaOS7gK.js";import"./toggle-left-sidebar-icon-j-5uTef5.js";import"./file-upload-provider-B4w-VsYu.js";import"./uploaded-file-DOXWsty7.js";import"./pretty-bytes-bO14ePu9.js";import"./with-selector-DPNnjGhI.js";import"./useMutationState-Bmyxea6H.js";import"./blocker-dialog-B0Vc-LIE.js";import"./confirmation-dialog-BzXs9ksK.js";import"./useSuspenseQuery-Bmt2-NKx.js";import"./accordtion-animation-BGCK95Hj.js";import"./combobox-end-adornment-CWQ4Xgal.js";import"./permission-selector-CRaW7I2O.js";import"./uc-first-pSl3nM3z.js";import"./form-chip-field-C7l8nGPv.js";import"./chip-list-DHXDGW6X.js";import"./Edit-BaEHOLuK.js";import"./use-previous-BLaxBq_s.js";import"./skeleton-D178v0-U.js";import"./use-filter-XfxMyUPQ.js";function Ae(){var n,t,r,m;const{data:i}=v(),s=p({defaultValues:{client:{cookie_notice:{enable:((n=i.client.cookie_notice)==null?void 0:n.enable)??!1,button:((t=i.client.cookie_notice)==null?void 0:t.button)??{},position:((r=i.client.cookie_notice)==null?void 0:r.position)??"bottom"},registration:{policies:((m=i.client.registration)==null?void 0:m.policies)??[]}}}});return e.jsxs(k,{form:s,title:e.jsx(o,{message:"GDPR"}),docsLink:A.settings.gdpr,children:[e.jsx(N,{}),e.jsx(S,{})]})}function N(){const{watch:i}=d(),s=i("client.cookie_notice.enable");return e.jsxs("div",{className:"mb-44",children:[e.jsxs(c,{margin:"mb-24",size:"md",children:[e.jsx(o,{message:"Cookie Notice"}),e.jsx(o,{message:"Configure the cookie consent notice shown to visitors from the European Union."})]}),e.jsx(x,{name:"client.cookie_notice.enable",children:e.jsx(o,{message:"Enable cookie notice"})}),s&&e.jsxs("div",{className:"mt-20 rounded-panel border p-20",children:[e.jsxs("div",{className:"mb-20 border-b pb-6",children:[e.jsx("div",{className:"mb-20 border-b pb-10 text-sm font-medium",children:e.jsx(o,{message:"Information button"})}),e.jsx("div",{className:"mb-20",children:e.jsx(l,{hideRoleAndPermissionFields:!0,formPathPrefix:"client.cookie_notice.button"})})]}),e.jsxs(P,{name:"client.cookie_notice.position",selectionMode:"single",label:e.jsx(o,{message:"Cookie notice position"}),children:[e.jsx(a,{value:"top",children:e.jsx(o,{message:"Top"})}),e.jsx(a,{value:"bottom",children:e.jsx(o,{message:"Bottom"})})]})]})]})}function S(){const{fields:i,append:s,remove:n}=j({name:"client.registration.policies"});return e.jsxs(g.Fragment,{children:[e.jsxs(c,{margin:"my-24",size:"md",children:[e.jsx(o,{message:"Registration Policies"}),e.jsx(o,{message:"Create policies that will be shown on the registration page. Users will be required to accept them by toggling a checkbox."})]}),e.jsx(C,{variant:"outline",children:i.map((t,r)=>e.jsx(F,{label:t.label,chevronPosition:"left",endAppend:e.jsx(h,{variant:"text",color:"danger",size:"sm",onClick:()=>n(r),children:e.jsx(b,{})}),children:e.jsx(l,{hideRoleAndPermissionFields:!0,formPathPrefix:`client.registration.policies.${r}`})},t.id))}),e.jsxs(u,{type:"modal",onClose:t=>{t&&s(t)},children:[e.jsx(f,{className:"mt-12",variant:"link",color:"primary",startIcon:e.jsx(I,{}),size:"sm",children:e.jsx(o,{message:"Add another policy"})}),e.jsx(y,{title:e.jsx(o,{message:"Add policy"})})]})]})}export{Ae as Component};
