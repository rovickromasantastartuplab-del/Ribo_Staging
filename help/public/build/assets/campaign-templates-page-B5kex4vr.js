import{l as d,j as e,aj as h,L as p,T as t,av as m,B as n,h as j,al as g,d as f,i as v,s as y,k as b,q as w,am as C,an as N,ap as k,aP as F,F as T,aq as D,p as q}from"./client-DtfdVV77.js";import{u as B}from"./useSuspenseQuery-Bmt2-NKx.js";import{A}from"./ArrowBack-DIhVch2U.js";function Q(){const s=B(d.campaigns.templates);return e.jsx("div",{className:"dashboard-stable-scrollbar h-full overflow-auto",children:e.jsxs("div",{className:"container mx-auto mt-40 px-24 pb-24",children:[e.jsxs("div",{className:"items-center justify-between gap-24 md:flex",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-24",children:[e.jsx(h,{elementType:p,to:"..",relative:"path",children:e.jsx(A,{})}),e.jsx("h1",{className:"text-3xl font-medium",children:e.jsx(t,{message:"Choose a template for your campaign"})})]}),e.jsx("h2",{className:"mt-2 text-muted max-md:my-20",children:e.jsx(t,{message:"All templates are 100% customizable so choose one then make it your own."})})]}),e.jsxs(m,{type:"modal",children:[e.jsx(n,{variant:"flat",color:"primary",children:e.jsx(t,{message:"Start with blank template"})}),e.jsx(c,{})]})]}),e.jsx("div",{className:"mt-20 grid grid-cols-1 gap-24 md:mt-40 md:grid-cols-3",children:s.data.templates.map(a=>e.jsxs(m,{type:"modal",children:[e.jsx("button",{children:e.jsx(L,{name:a.name,label:a.label})}),e.jsx(c,{template:a})]},a.name))})]})})}function L({name:s,label:a}){const r=`${s.replace(/([A-Z])/g,"-$1").toLowerCase()}`;return e.jsx(S,{image:e.jsx("img",{src:`images/campaigns/templates/${r}.png`,alt:""}),label:e.jsx(t,{message:a})})}function S({image:s,label:a,className:r}){return e.jsxs("div",{className:q("flex cursor-pointer flex-col rounded border transition-shadow hover:shadow-lg",r),children:[e.jsx("div",{className:"flex h-[374px] flex-auto justify-center bg-gradient-to-t from-primary/10 p-30",children:e.jsx("div",{className:"self-center shadow-md",children:s})}),e.jsx("div",{className:"flex h-50 flex-shrink-0 items-center justify-center border-t px-12",children:e.jsx("h2",{className:"min-w-0 overflow-hidden text-ellipsis whitespace-nowrap text-sm font-semibold",children:a})})]})}function c({template:s}){const a=j(),{formId:r,close:o}=g(),x=f({defaultValues:{name:(s==null?void 0:s.name)??""}}),l=v({mutationFn:i=>b.post("lc/campaigns",{conditions:[],content:[],width:240,height:156,...s,...i}).then(u=>u.data),onSuccess:i=>{w.invalidateQueries({queryKey:d.campaigns.invalidateKey}),o(),a(`../${i.campaign.id}/edit`,{relative:"path"})},onError:i=>y(i)});return e.jsxs(C,{children:[e.jsx(N,{children:e.jsx(t,{message:"Create campaign"})}),e.jsx(k,{children:e.jsx(F,{id:r,form:x,onSubmit:i=>l.mutate(i),children:e.jsx(T,{required:!0,name:"name",autoFocus:!0,label:e.jsx(t,{message:"Name"})})})}),e.jsxs(D,{children:[e.jsx(n,{type:"button",onClick:()=>o(),children:e.jsx(t,{message:"Cancel"})}),e.jsx(n,{type:"submit",disabled:l.isPending,variant:"flat",color:"primary",form:r,children:e.jsx(t,{message:"Create"})})]})]})}export{Q as Component,c as CreateCampaignDialog};
