import{d as c,j as t,B as g,T as s,r as x,b5 as j,aR as h,b3 as y,i as f,s as b,k as v,q as S,t as C,m as E}from"./client-DtfdVV77.js";import{h as B,g as p}from"./main-BGmGAxtx.js";import{A as I}from"./article-editor-page-BJ_YtRa2.js";import{u as n}from"./use-required-params-BhaT_-q3.js";import{u as T}from"./useSuspenseQuery-Bmt2-NKx.js";import{B as q,a}from"./breadcrumb-CaNBY_Ut.js";import"./custom-menu-Dvq-fOnC.js";import"./Undo-BcDh75at.js";import"./tiptap-editor-context-CeN7pXcf.js";import"./list-buttons-CxLBLRRO.js";import"./FormatListNumbered-BcAdH5KM.js";import"./index-uUjpwT6n.js";import"./with-selector-DPNnjGhI.js";import"./select-D9niWe2H.js";import"./combobox-end-adornment-CWQ4Xgal.js";import"./Link-WHWZ7SV6.js";import"./color-picker-dialog-CeCHU4u7.js";import"./Color-DrXN9ww8.js";import"./FormatColorFill-DNSNzsFD.js";import"./image-button-DUyjpM_5.js";import"./image-up-hBoBC5iJ.js";import"./use-active-upload-CGOT7g6R.js";import"./file-upload-provider-B4w-VsYu.js";import"./uploaded-file-DOXWsty7.js";import"./pretty-bytes-bO14ePu9.js";import"./open-upload-window-DE9Q8gNs.js";import"./shallow-BH2jDtXM.js";import"./MoreVert-BVDYtk4z.js";import"./PriorityHigh-BG38_UZP.js";import"./datatable-page-with-header-layout-xcCtlWaX.js";import"./use-toggle-dashboard-left-sidebar-DxaOS7gK.js";import"./toggle-left-sidebar-icon-j-5uTef5.js";import"./ArrowBack-DIhVch2U.js";import"./index-BCY5Ekxi.js";import"./core-l5OAWFa0.js";import"./index-Y7xUBCAo.js";import"./Edit-BaEHOLuK.js";import"./dashboard-sidenav-q-Yy9ZLk.js";import"./toggle-right-sidebar-icon-DuD5EnU1.js";import"./useEffectEvent-Offmqu_S.js";import"./ChevronRight-C5OrfRtB.js";import"./MoreHoriz-Df3_bV9s.js";function yt(){const{snippetId:o}=n(["snippetId"]),r=T(p.snippets.get(o)),e=w(),i=c({defaultValues:{title:r.data.snippet.title}}),m=()=>{e.mutate(i.getValues())},d=t.jsxs(q,{size:"xl",children:[t.jsx(a,{to:"../knowledge",children:t.jsx(s,{message:"Knowledge"})}),t.jsx(a,{to:"../knowledge/snippets",children:t.jsx(s,{message:"Snippets"})}),t.jsx(a,{children:t.jsx(s,{message:"Edit"})})]}),u=t.jsx(g,{type:"submit",variant:"flat",color:"primary",size:"xs",disabled:e.isPending,onClick:()=>m(),children:t.jsx(s,{message:"Save"})});return t.jsxs(x.Fragment,{children:[t.jsx(B,{children:t.jsx(s,{message:"Edit snippet"})}),t.jsx(j,{...i,children:t.jsx(I,{imageUploadType:h.articleImages,title:d,saveButton:u,initialContent:r.data.snippet.body,onChange:l=>{i.setValue("body",l,{shouldDirty:!0})}})})]})}function w(){const o=y(),{snippetId:r}=n(["snippetId"]);return f({mutationFn:e=>v.put(`lc/ai-agent/snippets/${r}`,e).then(i=>i.data),onError:e=>b(e),onSuccess:async()=>{await S.invalidateQueries({queryKey:p.snippets.invalidateKey}),C(E("Snippet updated")),o("../..",{relative:"path"})}})}export{yt as Component};
