import{ac as p,a as d,h as c,i as f,q as l,t as x,m as j,k as y,d as T,j as t,T as o}from"./client-DtfdVV77.js";import{o as n,h}from"./main-BGmGAxtx.js";import{C}from"./crupdate-trigger-form-Cb1GierU.js";import{D as Q}from"./paginated-resources-DUi9UwyN.js";import{o as q}from"./custom-menu-Dvq-fOnC.js";import{C as I}from"./crupdate-resource-layout-BeHzVG7e.js";import{u as b}from"./use-required-params-BhaT_-q3.js";import{u as m}from"./useSuspenseQuery-Bmt2-NKx.js";import{B as E,a as g}from"./breadcrumb-CaNBY_Ut.js";import"./use-tags-BV0JpuMa.js";import"./form-chip-field-C7l8nGPv.js";import"./chip-list-DHXDGW6X.js";import"./select-D9niWe2H.js";import"./combobox-end-adornment-CWQ4Xgal.js";import"./Add-B1HfWgJf.js";import"./permission-selector-CRaW7I2O.js";import"./accordion-Dmxnze9z.js";import"./accordtion-animation-BGCK95Hj.js";import"./uc-first-pSl3nM3z.js";import"./group-array-by-5IjT7qk6.js";import"./datatable-page-with-header-layout-xcCtlWaX.js";import"./use-toggle-dashboard-left-sidebar-DxaOS7gK.js";import"./toggle-left-sidebar-icon-j-5uTef5.js";import"./useEffectEvent-Offmqu_S.js";import"./ChevronRight-C5OrfRtB.js";import"./MoreHoriz-Df3_bV9s.js";function F(i){const{trans:r}=p(),{triggerId:a}=d(),s=c();return f({mutationFn:e=>P(a,e),onSuccess:()=>{l.invalidateQueries({queryKey:Q("triggers")}),s("/admin/triggers"),x(r(j("Trigger updated")))},onError:e=>q(e,i)})}function P(i,r){return y.put(`triggers/${i}`,r).then(a=>a.data)}function tr(){const{triggerId:i}=b(["triggerId"]),r=m(n.triggers.get(i)),a=m(n.triggers.config()),s=T({defaultValues:{name:r.data.trigger.name,description:r.data.trigger.description,conditions:r.data.trigger.config.conditions,actions:r.data.trigger.config.actions}}),e=F(s);return t.jsxs(I,{onSubmit:u=>e.mutate(u),form:s,title:t.jsxs(E,{size:"xl",children:[t.jsx(g,{to:"../triggers",children:t.jsx(o,{message:"Triggers"})}),t.jsx(g,{children:r.data.trigger.name})]}),isLoading:e.isPending,wrapInContainer:!0,children:[t.jsx(h,{children:t.jsx(o,{message:"Edit trigger"})}),t.jsx(C,{config:a.data})]})}export{tr as Component};
