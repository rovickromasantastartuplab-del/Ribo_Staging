import{d as F,j as e,T as t,e as b,r as i,az as y,f as v,aG as S,F as c}from"./client-DtfdVV77.js";import{A as C}from"./admin-config-DXsixO44.js";import{S as T}from"./settings-error-group-BnQc3270.js";import{A as E}from"./settings-layout-FQP6W4_q.js";import{D as P}from"./settings-links-CRsxvJIZ.js";import{S as k}from"./settings-panel-gMfbp8IE.js";import{u as z}from"./use-admin-settings-DArjpbC9.js";import{F as G}from"./select-D9niWe2H.js";import"./dashboard-icons-BJ4c3Z5i.js";import"./library-icon-h4d3s9Ef.js";import"./messages-square-icon-D_3IR-rK.js";import"./main-BGmGAxtx.js";import"./custom-menu-Dvq-fOnC.js";import"./Delete-DWP7kvj0.js";import"./Home-iO0iebLw.js";import"./SupervisorAccount-Bkn2ibMi.js";import"./Translate-DPB2wdvD.js";import"./TextFields-CM1xUWDR.js";import"./use-admin-settings-page-nav-config-D58KRD8y.js";import"./datatable-page-with-header-layout-xcCtlWaX.js";import"./use-toggle-dashboard-left-sidebar-DxaOS7gK.js";import"./toggle-left-sidebar-icon-j-5uTef5.js";import"./file-upload-provider-B4w-VsYu.js";import"./uploaded-file-DOXWsty7.js";import"./pretty-bytes-bO14ePu9.js";import"./with-selector-DPNnjGhI.js";import"./useMutationState-Bmyxea6H.js";import"./blocker-dialog-B0Vc-LIE.js";import"./confirmation-dialog-BzXs9ksK.js";import"./external-link-Cxcw6nc_.js";import"./book-open-D91H26Dq.js";import"./useSuspenseQuery-Bmt2-NKx.js";import"./combobox-end-adornment-CWQ4Xgal.js";function de({children:s,actions:r}){var o,l,m,p,h,g,x,d,j;const{data:a}=z(),n={client:{captcha:{provider:((o=a.client.captcha)==null?void 0:o.provider)??"turnstile",enable:{contact:((m=(l=a.client.captcha)==null?void 0:l.enable)==null?void 0:m.contact)??!1,register:((h=(p=a.client.captcha)==null?void 0:p.enable)==null?void 0:h.register)??!1},g_site_key:((g=a.client.captcha)==null?void 0:g.g_site_key)??"",g_secret_key:((x=a.client.captcha)==null?void 0:x.g_secret_key)??"",t_site_key:((d=a.client.captcha)==null?void 0:d.t_site_key)??"",t_secret_key:((j=a.client.captcha)==null?void 0:j.t_secret_key)??""}}};r==null||r.forEach(u=>{var f,_;n.client.captcha.enable[u]=((_=(f=a.client.captcha)==null?void 0:f.enable)==null?void 0:_[u])??!1});const A=F({defaultValues:n});return e.jsxs(E,{title:e.jsx(t,{message:"Captcha"}),form:A,children:[e.jsx(N,{children:s}),e.jsx(D,{})]})}function N({children:s}){return e.jsxs(k,{className:"mb-24",title:e.jsx(t,{message:"Enable captcha"}),description:e.jsx(t,{message:"Select which pages should be protected by captcha."}),link:C.settings.captcha?e.jsx(P,{link:C.settings.captcha,children:e.jsx(t,{message:"What is captcha?"})}):null,children:[s,e.jsx(b,{className:"mb-20",name:"client.captcha.enable.contact",description:e.jsx(t,{message:'Enable captcha integration for "contact us" page.'}),children:e.jsx(t,{message:"Contact page"})}),e.jsx(b,{name:"client.captcha.enable.register",description:e.jsx(t,{message:"Enable captcha integration for registration page."}),children:e.jsx(t,{message:"Registration page"})})]})}function D(){return e.jsx(k,{title:e.jsx(t,{message:"Provider & credentials"}),description:e.jsx(t,{message:"Select captcha provider and enter your API credentials."}),children:e.jsx(T,{separatorTop:!1,separatorBottom:!1,name:"captcha_group",children:s=>e.jsxs(i.Fragment,{children:[e.jsxs(G,{size:"sm",name:"client.captcha.provider",label:e.jsx(t,{message:"Captcha provider"}),className:"mb-20",children:[e.jsx(y,{value:"recaptcha",children:e.jsx(t,{message:"Google reCAPTCHA"})}),e.jsx(y,{value:"turnstile",children:e.jsx(t,{message:"Cloudflare Turnstile"})})]}),e.jsx(H,{isInvalid:s})]})})})}function H({isInvalid:s}){const{clearErrors:r}=v(),a=S({name:"client.captcha.provider"});return a==="turnstile"?e.jsxs(i.Fragment,{children:[e.jsx(c,{size:"sm",className:"mb-20",onChange:()=>{r()},invalid:s,name:"client.captcha.t_site_key",label:e.jsx(t,{message:"Turnstile site key"})}),e.jsx(c,{size:"sm",onChange:()=>{r()},invalid:s,name:"client.captcha.t_secret_key",label:e.jsx(t,{message:"Turnstile secret key"})})]},a):e.jsxs(i.Fragment,{children:[e.jsx(c,{size:"sm",className:"mb-20",onChange:()=>{r()},invalid:s,name:"client.captcha.g_site_key",label:e.jsx(t,{message:"Google reCAPTCHA site key"})}),e.jsx(c,{size:"sm",onChange:()=>{r()},invalid:s,name:"client.captcha.g_secret_key",label:e.jsx(t,{message:"Google reCAPTCHA secret key"})})]},a)}export{de as Component};
