import{a as y,i as x,s as f,q as p,t as h,m as j,k as P,h as v,d as b,j as t,B as C,T as i,b5 as q,aR as B}from"./client-DtfdVV77.js";import{c as u}from"./main-BGmGAxtx.js";import{D as E}from"./paginated-resources-DUi9UwyN.js";import{A as T}from"./article-editor-page-BJ_YtRa2.js";import{P as I}from"./page-meta-tags-B6Ej9u6-.js";import{u as Q}from"./use-required-params-BhaT_-q3.js";import{u as S}from"./useSuspenseQuery-Bmt2-NKx.js";import{B as D,a as n}from"./breadcrumb-CaNBY_Ut.js";import"./custom-menu-Dvq-fOnC.js";import"./Undo-BcDh75at.js";import"./tiptap-editor-context-CeN7pXcf.js";import"./list-buttons-CxLBLRRO.js";import"./FormatListNumbered-BcAdH5KM.js";import"./index-uUjpwT6n.js";import"./with-selector-DPNnjGhI.js";import"./select-D9niWe2H.js";import"./combobox-end-adornment-CWQ4Xgal.js";import"./Link-WHWZ7SV6.js";import"./color-picker-dialog-CeCHU4u7.js";import"./Color-DrXN9ww8.js";import"./FormatColorFill-DNSNzsFD.js";import"./image-button-DUyjpM_5.js";import"./image-up-hBoBC5iJ.js";import"./use-active-upload-CGOT7g6R.js";import"./file-upload-provider-B4w-VsYu.js";import"./uploaded-file-DOXWsty7.js";import"./pretty-bytes-bO14ePu9.js";import"./open-upload-window-DE9Q8gNs.js";import"./shallow-BH2jDtXM.js";import"./MoreVert-BVDYtk4z.js";import"./PriorityHigh-BG38_UZP.js";import"./datatable-page-with-header-layout-xcCtlWaX.js";import"./use-toggle-dashboard-left-sidebar-DxaOS7gK.js";import"./toggle-left-sidebar-icon-j-5uTef5.js";import"./ArrowBack-DIhVch2U.js";import"./index-BCY5Ekxi.js";import"./core-l5OAWFa0.js";import"./index-Y7xUBCAo.js";import"./Edit-BaEHOLuK.js";import"./dashboard-sidenav-q-Yy9ZLk.js";import"./toggle-right-sidebar-icon-DuD5EnU1.js";import"./useEffectEvent-Offmqu_S.js";import"./ChevronRight-C5OrfRtB.js";import"./MoreHoriz-Df3_bV9s.js";function F(r){const{pageId:a}=y(),e=`custom-pages/${a}`;return x({mutationFn:o=>K(o,e),onError:o=>f(o),onSuccess:async()=>{await p.invalidateQueries({queryKey:u.customPages.invalidateKey}),await p.invalidateQueries({queryKey:E(e)}),h(j("Page updated"))}})}function K(r,a){return P.put(`${a}`,r).then(e=>e.data)}function qt(){const{pageId:r}=Q(["pageId"]),a=S(u.customPages.get(r)),e=a.data.page,o=v(),m=F(),s=b({defaultValues:{title:e.title,slug:e.slug,body:e.body}}),d=()=>{m.mutate(s.getValues(),{onSuccess:()=>o("../..",{relative:"path"})})},c=t.jsx(C,{variant:"flat",color:"primary",size:"xs",onClick:()=>d(),disabled:m.isPending,children:t.jsx(i,{message:"Save"})}),l=t.jsxs(D,{size:"xl",children:[t.jsx(n,{to:"../..",relative:"path",children:t.jsx(i,{message:"Custom pages"})}),t.jsx(n,{children:t.jsx(i,{message:"Edit"})})]});return t.jsxs(t.Fragment,{children:[t.jsx(I,{query:a}),t.jsx(q,{...s,children:t.jsx(T,{title:l,saveButton:c,imageUploadType:B.articleImages,initialContent:e.body,onChange:g=>{s.setValue("body",g,{shouldDirty:!0})}})})]})}export{qt as Component};
