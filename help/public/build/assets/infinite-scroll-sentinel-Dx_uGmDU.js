import{r as i,j as e,p as l,B as E,T as w,A as I,z as R,C as k,P as L}from"./client-DtfdVV77.js";function V({query:{isInitialLoading:d,fetchNextPage:t,isFetchingNextPage:s,hasNextPage:n},children:j,loaderMarginTop:v="mt-24",style:C,className:b,variant:S="infiniteScroll",loadMoreExtraContent:M,size:o="sm"}){const x=i.useRef(null),a=s||d,[c,y]=i.useState(0),u=S==="loadMore"&&c<3?"loadMore":"infiniteScroll",m=i.useRef(!1);i.useEffect(()=>{const f=x.current;if(!f||u==="loadMore")return;const p=new IntersectionObserver(([A])=>{if(A.isIntersecting){if(!m.current)return;n&&!a&&(m.current=!1,t())}else m.current=!0});return p.observe(f),()=>{p.unobserve(f)}},[t,n,a,u]);let r;return j?r=s?j:null:u==="loadMore"?r=!d&&n&&e.jsxs("div",{className:l("flex items-center gap-8",v),children:[M,e.jsx(E,{size:o==="md"?"sm":"xs",className:l(o==="sm"?"min-h-24 min-w-96":"min-h-36 min-w-112"),variant:"outline",color:"primary",onClick:()=>{t(),y(c+1)},disabled:a,children:c>=2&&!s?e.jsx(w,{message:"Load all"}):e.jsx(w,{message:"Show more"})})]}):r=e.jsx(I,{children:s&&e.jsx(R.div,{className:l("flex w-full justify-center",v),...k,children:e.jsx(L,{size:o,isIndeterminate:!0,"aria-label":"loading"})})}),e.jsxs("div",{style:C,className:l("w-full",b,n&&"min-h-36"),role:"presentation",children:[e.jsx("div",{ref:x,"aria-hidden":!0}),r]})}export{V as I};
