const v={listen:(n,e)=>{const t=o=>{var s,i,d;if(o.data.source==="ai-agent-preview")switch(o.data.type){case"previewLoaded":(s=e.onPreviewLoaded)==null||s.call(e);break;case"conversationIdChanged":(i=e.onConversationIdChanged)==null||i.call(e,o.data.value);break;case"conversationReset":(d=e.onConversationReset)==null||d.call(e);break}};return n.addEventListener("message",t),()=>{n.removeEventListener("message",t)}},postConversationIdChanged:(n,e)=>{r(n,"conversationIdChanged",e)},postConversationReset:n=>{r(n,"conversationReset",null)},postLoaded:n=>{r(n,"previewLoaded",null)}};function r(n,e,t){n.postMessage({source:"ai-agent-preview",type:e,value:t},"*")}export{v as a};
