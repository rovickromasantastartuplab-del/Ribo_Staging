import{j as t}from"./ui-C-VW1P-5.js";import{Q as z}from"./QRCodeComponent-CRXf3pHS.js";import{u as B,e as H}from"./app-BQKKzqf3.js";import"./vendor-CxtKjBZA.js";import"./utils-DCj7OOX3.js";function Q({invoice:d,items:o,taxesData:C,settings:N,color:x,qr_invoice:W,qrCodeSvg:R,styles:a}){var j,y,m,f,b,u,A,T,$,w,_;const{t:r}=B(),{logoDark:h}=H(),k=x==="ffffff"||x==="fbdd03"||x==="c1d82f"||x==="46de98"||x==="40c7d0"||x==="fac168"?"#000000":"#ffffff",l=x==="ffffff"?"#000000":`#${x}`,g=((j=d.payments)==null?void 0:j.reduce((e,i)=>{const p=Number(i.amount)||0;return i.status==="completed"?e+p:e},0))||0,D=Math.max(0,(Number(d.total_amount)||0)-g),n=e=>{var i;return typeof e=="string"&&e.startsWith("<")?e:((i=window.appSettings)==null?void 0:i.formatCurrency(Number(e)))||`$${Number(e)}`},s=(e,i="")=>typeof e=="string"&&e.startsWith("<")?e:e||i;return t.jsxs("div",{style:{width:"100%",margin:"0 auto",background:"#ffffff",boxShadow:"0 0 10px #ddd",fontFamily:"Lato, sans-serif",borderRight:`40px solid #${x}`,...a==null?void 0:a.invoicePreviewMain},children:[t.jsx("div",{style:{padding:"15px 30px"},children:t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsx("tbody",{children:t.jsxs("tr",{style:{verticalAlign:"top"},children:[t.jsxs("td",{style:{padding:"0",verticalAlign:"top"},children:[t.jsx("h3",{style:{textTransform:"uppercase",fontSize:"40px",fontWeight:"bold",color:`#${l}`,margin:"0 0 10px 0"},children:r("INVOICE")}),t.jsx("table",{style:{width:"70%",borderCollapse:"collapse"},children:t.jsxs("tbody",{children:[t.jsx("tr",{children:t.jsxs("td",{style:{padding:"0",fontSize:"13px",fontWeight:"600"},children:[r("Number"),": ",s(d.invoice_number)]})}),t.jsx("tr",{children:t.jsxs("td",{style:{padding:"0",fontSize:"13px",fontWeight:"600"},children:[r("Invoice Date"),": ",s(d.invoice_date),t.jsx("br",{}),r("Due Date"),": ",s(d.due_date)]})})]})})]}),t.jsx("td",{style:{padding:"0",verticalAlign:"top",textAlign:"right"},children:h&&t.jsx("img",{src:N.invoiceLogo||h,style:{maxWidth:"150px",maxHeight:"150px"},alt:"Logo"})})]})})})}),t.jsx("div",{style:{padding:"15px 30px 0"},children:t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsx("tbody",{children:t.jsxs("tr",{style:{verticalAlign:"top"},children:[t.jsxs("td",{style:{padding:"0",verticalAlign:"top"},children:[t.jsxs("strong",{children:[r("From"),":"]}),t.jsxs("p",{style:{margin:"0",lineHeight:"1.5"},children:[s((y=d.creator)==null?void 0:y.name)&&t.jsxs(t.Fragment,{children:[s(d.creator.name),t.jsx("br",{})]}),s((m=d.creator)==null?void 0:m.email)&&t.jsx(t.Fragment,{children:s(d.creator.email)})]})]}),t.jsx("td",{style:{padding:"0",verticalAlign:"top"},children:t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsx("tbody",{children:t.jsx("tr",{children:t.jsx("td",{colSpan:2,style:{padding:"0"},children:W==="on"&&t.jsx("div",{style:{maxWidth:"114px",maxHeight:"114px",marginLeft:"auto",marginTop:"0",background:"#ffffff"},children:t.jsx(z,{text:window.location.href,size:114})})})})})})})]})})})}),t.jsx("div",{style:{padding:"15px 30px 0"},children:t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsxs("td",{style:{verticalAlign:"top"},children:[t.jsxs("strong",{style:{marginBottom:"10px",display:"block"},children:[r("Bill To"),":"]}),t.jsxs("p",{style:{margin:"0",lineHeight:"1.5"},children:[s(((f=d.account)==null?void 0:f.name)||((b=d.contact)==null?void 0:b.name)),t.jsx("br",{}),s(((u=d.account)==null?void 0:u.email)||((A=d.contact)==null?void 0:A.email)),t.jsx("br",{}),s(((T=d.account)==null?void 0:T.phone)||(($=d.contact)==null?void 0:$.phone)),t.jsx("br",{}),s(d.billing_address),t.jsx("br",{}),s(d.billing_postal_code),t.jsx("br",{}),s(d.billing_city)," ",s(d.billing_state)," ",s(d.billing_country)]})]}),t.jsxs("td",{style:{verticalAlign:"top",textAlign:"right"},children:[t.jsxs("strong",{style:{marginBottom:"10px",display:"block"},children:[r("Ship To"),":"]}),t.jsxs("p",{style:{margin:"0",lineHeight:"1.5"},children:[s((w=d.creator)==null?void 0:w.name),t.jsx("br",{}),s((_=d.creator)==null?void 0:_.email),t.jsx("br",{})]})]})]})})})}),t.jsx("div",{style:{padding:"30px 25px 30px 25px",paddingRight:"0"},children:t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsxs("tbody",{children:[t.jsxs("tr",{style:{background:`#${x}`,color:k},children:[t.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:r("Item")}),t.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:r("Quantity")}),t.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:r("Rate")}),t.jsxs("th",{style:{padding:"0.75rem",textAlign:"left"},children:[r("Tax")," (%)"]}),t.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:r("Discount")}),t.jsxs("th",{style:{padding:"0.75rem",textAlign:"left"},children:[r("Price")," ",t.jsx("small",{style:{display:"block",fontSize:"12px"},children:r("before tax & discount")})]})]}),o.length>0?o.map((e,i)=>{var p;return t.jsxs("tr",{style:{borderTop:`1px solid ${l}`},children:[t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:s(e.name)}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:s(e.quantity)}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:n(e.price)}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:(p=e.itemTax)==null?void 0:p.map((c,S)=>t.jsxs("span",{children:[t.jsx("span",{children:c.name})," ",t.jsxs("span",{children:["(",c.rate,")"]}),t.jsx("br",{}),t.jsx("span",{children:c.price})]},S))}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:e.discount?n(e.discount):"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:n(typeof e.price=="string"&&e.price.startsWith("<")?e.price:Number(e.price||0)*Number(e.quantity||0))})]},i)}):t.jsxs("tr",{style:{borderTop:`1px solid ${l}`},children:[t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:"-"})]}),t.jsxs("tr",{style:{borderTop:`1px solid ${l}`,borderBottom:`1px solid ${l}`},children:[t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:r("Total")}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:o.reduce((e,i)=>e+Number(i.quantity||0),0)}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:n(o.reduce((e,i)=>e+Number(i.price||0),0))}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:n(d.total_tax||0)}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:n(d.total_discount||0)}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:n(d.sub_total||0)})]}),t.jsx("tr",{children:t.jsx("td",{colSpan:6,style:{border:"none",padding:"0"},children:t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsxs("tbody",{children:[d.total_discount>0&&t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:[r("Discount"),":"]}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:n(d.total_discount)})]}),Object.entries(C||{}).map(([e,i])=>t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:[e,":"]}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:n(i)})]},e)),t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:[r("Paid"),":"]}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:n(g)})]}),t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:[r("Due"),":"]}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:n(D)})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:t.jsxs("strong",{children:[r("Total"),":"]})}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:t.jsx("strong",{children:n(d.total_amount||0)})})]})]})})})})]})})})]})}export{Q as default};
