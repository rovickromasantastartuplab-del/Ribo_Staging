import{j as t}from"./ui-C-VW1P-5.js";import{Q as H}from"./QRCodeComponent-CRXf3pHS.js";import{u as F,e as I}from"./app-BQKKzqf3.js";import"./vendor-CxtKjBZA.js";import"./utils-DCj7OOX3.js";function z({invoice:e,items:g,taxesData:C,settings:k,color:n,qr_invoice:D,qrCodeSvg:L,styles:p}){var j,m,y,f,b,u,A,T,$,w,_;const{t:l}=F(),{logoDark:h}=I(),N=n==="ffffff"||n==="fbdd03"||n==="c1d82f"||n==="46de98"||n==="40c7d0"||n==="fac168"?"#000000":"#ffffff",r=n==="ffffff"?"#000000":`#${n}`,c=((j=e.payments)==null?void 0:j.reduce((d,x)=>{const o=Number(x.amount)||0;return x.status==="completed"?d+o:d},0))||0,B=Math.max(0,(Number(e.total_amount)||0)-c),i=d=>{var x;return typeof d=="string"&&d.startsWith("<")?d:((x=window.appSettings)==null?void 0:x.formatCurrency(Number(d)))||`$${Number(d)}`},s=(d,x="")=>typeof d=="string"&&d.startsWith("<")?d:d||x;return t.jsxs("div",{style:{width:"100%",margin:"0 auto",background:"#ffffff",boxShadow:"0 0 10px #ddd",fontFamily:"Lato, sans-serif",...p==null?void 0:p.invoicePreviewMain},children:[t.jsxs("div",{style:{borderTop:`15px solid #${n}`,background:"#f8f8f8",width:"100%"},children:[t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"15px 30px",verticalAlign:"top"},children:h&&t.jsx("img",{src:k.invoiceLogo||h,style:{maxWidth:"150px",maxHeight:"150px"},alt:"Logo"})}),t.jsx("td",{style:{padding:"15px 30px",verticalAlign:"top",textAlign:"right"},children:t.jsx("h3",{style:{textTransform:"uppercase",fontSize:"40px",fontWeight:"bold",margin:"0"},children:l("INVOICE")})})]})})}),t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"15px 30px",verticalAlign:"top"},children:[t.jsxs("strong",{children:[l("From"),":"]}),t.jsxs("p",{style:{margin:"0",lineHeight:"1.5"},children:[s((m=e.creator)==null?void 0:m.name)&&t.jsxs(t.Fragment,{children:[s(e.creator.name),t.jsx("br",{})]}),s((y=e.creator)==null?void 0:y.email)&&t.jsx(t.Fragment,{children:s(e.creator.email)})]})]}),t.jsx("td",{style:{padding:"15px 30px",verticalAlign:"top"},children:t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"0"}}),t.jsxs("td",{style:{padding:"0",textAlign:"right"},children:[l("Number"),": ",s(e.invoice_number)]})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"0"}}),t.jsxs("td",{style:{padding:"0",textAlign:"right"},children:[l("Invoice Date"),": ",s(e.invoice_date),t.jsx("br",{}),l("Due Date"),": ",s(e.due_date)]})]}),t.jsx("tr",{children:t.jsx("td",{colSpan:2,style:{padding:"0"},children:D==="on"&&t.jsx("div",{style:{maxWidth:"114px",maxHeight:"114px",marginLeft:"auto",marginTop:"15px",background:"#ffffff"},children:t.jsx(H,{text:window.location.href,size:114})})})})]})})})]})})})]}),t.jsxs("div",{style:{padding:"30px 25px 30px 25px",borderBottom:`15px solid #${n}`},children:[t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsxs("td",{style:{verticalAlign:"top"},children:[t.jsxs("strong",{style:{marginBottom:"10px",display:"block"},children:[l("Bill To"),":"]}),t.jsxs("p",{style:{margin:"0",lineHeight:"1.5"},children:[s(((f=e.account)==null?void 0:f.name)||((b=e.contact)==null?void 0:b.name)),t.jsx("br",{}),s(((u=e.account)==null?void 0:u.email)||((A=e.contact)==null?void 0:A.email)),t.jsx("br",{}),s(((T=e.account)==null?void 0:T.phone)||(($=e.contact)==null?void 0:$.phone)),t.jsx("br",{}),s(e.billing_address),t.jsx("br",{}),s(e.billing_postal_code),t.jsx("br",{}),s(e.billing_city)," ",s(e.billing_state)," ",s(e.billing_country)]})]}),t.jsxs("td",{style:{verticalAlign:"top",textAlign:"right"},children:[t.jsxs("strong",{style:{marginBottom:"10px",display:"block"},children:[l("Ship To"),":"]}),t.jsxs("p",{style:{margin:"0",lineHeight:"1.5"},children:[s((w=e.creator)==null?void 0:w.name),t.jsx("br",{}),s((_=e.creator)==null?void 0:_.email),t.jsx("br",{})]})]})]})})}),t.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"30px"},children:t.jsxs("tbody",{children:[t.jsxs("tr",{style:{background:`#${n}`,color:N},children:[t.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:l("Item")}),t.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:l("Quantity")}),t.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:l("Rate")}),t.jsxs("th",{style:{padding:"0.75rem",textAlign:"left"},children:[l("Tax")," (%)"]}),t.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:l("Discount")}),t.jsxs("th",{style:{padding:"0.75rem",textAlign:"left"},children:[l("Price")," ",t.jsx("small",{style:{display:"block",fontSize:"12px"},children:l("before tax & discount")})]})]}),g.length>0?g.map((d,x)=>{var o;return t.jsxs("tr",{style:{borderTop:`1px solid ${r}`},children:[t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${r}`},children:s(d.name)}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${r}`},children:s(d.quantity)}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${r}`},children:i(d.price)}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${r}`},children:(o=d.itemTax)==null?void 0:o.map((a,W)=>t.jsxs("span",{children:[t.jsx("span",{children:a.name})," ",t.jsxs("span",{children:["(",a.rate,")"]}),t.jsx("br",{}),t.jsx("span",{children:a.price})]},W))}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${r}`},children:d.discount?i(d.discount):"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${r}`},children:i(typeof d.price=="string"&&d.price.startsWith("<")?d.price:Number(d.price)*Number(d.quantity))})]},x)}):t.jsxs("tr",{style:{borderTop:`1px solid ${r}`},children:[t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${r}`},children:"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${r}`},children:"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${r}`},children:"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${r}`},children:"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${r}`},children:"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${r}`},children:"-"})]}),t.jsxs("tr",{style:{borderTop:`1px solid ${r}`,borderBottom:`1px solid ${r}`},children:[t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${r}`},children:l("Total")}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${r}`},children:e.totalQuantity||0}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${r}`},children:i(e.totalRate||0)}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${r}`},children:i(e.totalTaxPrice||0)}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${r}`},children:e.discount_apply===1?i(e.totalDiscount||0):"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${r}`},children:i(e.sub_total||0)})]}),t.jsx("tr",{children:t.jsx("td",{colSpan:6,style:{border:"none",padding:"0"},children:t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsxs("tbody",{children:[e.total_discount>0&&t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:[l("Discount"),":"]}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:i(e.total_discount)})]}),Object.entries(C||{}).map(([d,x])=>t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:[d,":"]}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:i(x)})]},d)),t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:[l("Paid"),":"]}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:i(c)})]}),t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:[l("Due"),":"]}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:i(B)})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:t.jsxs("strong",{children:[l("Total"),":"]})}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:t.jsx("strong",{children:i(e.total_amount||0)})})]})]})})})})]})})]})]})}export{z as default};
