import{r as N,j as e}from"./ui-C-VW1P-5.js";import{P as ps,f as ds}from"./page-template-CDM26U5Q.js";import{u as z,t as C,C as I,c as R,B as g,S,ai as ae,a as L,b as q,L as $,I as U,p as hs,D as fs,l as js,n as ys,o as Ns,K as bs,m as vs,P as ws,X as gs,T as Ps}from"./app-BQKKzqf3.js";import{S as _s}from"./switch-T0u5R7d_.js";import{T as Cs,a as ks,b as ms}from"./tabs-9Vil1K0K.js";import{C as Fs}from"./CrudDeleteModal-Bjo4FQXD.js";import{u as me,S as Es}from"./cashfree-modal-fix-C2SZzvlS.js";import{C as Ms}from"./copy-D-hAzd4M.js";import{C as xs}from"./circle-check-big-ClvvRvVa.js";import{L as B}from"./loader-circle-DlS76Sc1.js";import{C as F}from"./credit-card-CmRw-oUn.js";import{E as V}from"./external-link-nVhYE8Jw.js";import{W as ie,C as oe,B as Ts}from"./wallet-G_F5INNy.js";import{A,a as O}from"./alert-Bt8OE1Tt.js";import{I as de}from"./info-ZEKNfV81.js";import{C as D}from"./circle-alert-Ba7f7jIF.js";import{T as zs}from"./tag-Cr3RI_n7.js";import{a as le,C as us,S as As,B as Os}from"./store-W0ENpN1D.js";import{S as Is}from"./square-pen-DbvvCy40.js";import{I as ce}from"./indian-rupee-D8_RKA6E.js";import{Z as Rs}from"./zap-CYBGuK61.js";import{C as Ds}from"./clock-DRJ3azky.js";import{H as Bs}from"./hard-drive-CBRsIzd1.js";import{M as Ls}from"./mail-DI9tSiFs.js";import{U as qs}from"./users-CrY8npWB.js";import"./vendor-CxtKjBZA.js";import"./textarea-BvlD1v8z.js";import"./select-ivmaqUw7.js";import"./index-IS-ASe-l.js";import"./chevron-up-5kET5X99.js";import"./react-country-flag.esm-B_SRkH7q.js";import"./language-BbwPiY59.js";import"./language-switcher-BX314FqS.js";import"./refresh-cw-BnxOCyDc.js";import"./globe-BSt65iB3.js";import"./settings-G3vQs6CU.js";import"./chevron-right-C7M1oeKV.js";import"./dollar-sign-BO1aYhXH.js";import"./package-BHhWwbAI.js";import"./calendar-BZ7v_rN9.js";import"./phone-B9JuG5Em.js";import"./trending-up-BUQ_r1Kz.js";import"./user-B-NTs7Zv.js";import"./use-favicon-D-Hpb8YY.js";import"./utils-DCj7OOX3.js";import"./react-stripe.esm-DQmMnBY3.js";function Ks({planId:t,planPrice:v,couponCode:d,billingCycle:h,paypalClientId:p,currency:P,onSuccess:w,onCancel:f}){const{t:s}=z(),a=N.useRef(null),{processPayment:m}=me({onSuccess:w,onError:n=>C.error(n)});return N.useEffect(()=>{if(!p||!a.current)return;const n=document.createElement("script");return n.src=`https://www.paypal.com/sdk/js?client-id=${p}&currency=${P.toUpperCase()}&disable-funding=credit,card`,n.async=!0,n.onload=()=>{window.paypal&&a.current&&window.paypal.Buttons({createOrder:(c,j)=>j.order.create({purchase_units:[{amount:{value:v.toString(),currency_code:P.toUpperCase()}}]}),onApprove:(c,j)=>j.order.capture().then(b=>{m("paypal",{planId:t,billingCycle:h,couponCode:d,order_id:c.orderID,payment_id:b.id})}),onError:c=>{console.error("PayPal error:",c),c.message&&c.message.includes("declined")?C.error(s("Card was declined. Please try a different payment method.")):C.error(s("Payment failed. Please try again."))},onCancel:()=>{f()}}).render(a.current)},document.head.appendChild(n),()=>{document.head.contains(n)&&document.head.removeChild(n)}},[p,t,h,d,P]),p?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{ref:a})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:s("PayPal not configured")})}function $s({planId:t,planPrice:v,couponCode:d,billingCycle:h,bankDetails:p,onSuccess:P,onCancel:w}){const{t:f}=z(),[s,a]=N.useState(!1),m=c=>{navigator.clipboard.writeText(c),C.success(f("Copied to clipboard"))},n=()=>{a(!0),S.post(route("bank.payment"),{plan_id:t,billing_cycle:h,coupon_code:d,amount:v},{onSuccess:()=>{C.success(f("Payment request submitted successfully")),P()},onError:()=>{C.error(f("Failed to submit payment request"))},onFinish:()=>{a(!1)}})};return e.jsxs("div",{className:"space-y-4",children:[e.jsx(I,{children:e.jsxs(R,{className:"p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:f("Bank Transfer Details")}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("div",{className:"whitespace-pre-line",children:p}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("span",{className:"font-medium",children:[f("Amount"),": ",window.appSettings.formatCurrency(v)]}),e.jsxs(g,{variant:"outline",size:"sm",onClick:()=>m(v.toString()),children:[e.jsx(Ms,{className:"h-3 w-3 mr-1"}),f("Copy")]})]})]})]})}),e.jsx(I,{className:"border-orange-200 bg-orange-50",children:e.jsx(R,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(xs,{className:"h-5 w-5 text-orange-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-orange-800",children:[e.jsx("p",{className:"font-medium mb-1",children:f("Important Instructions")}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsxs("li",{children:["• ",f("Transfer the exact amount shown above")]}),e.jsxs("li",{children:["• ",f("Include your order reference in the transfer description")]}),e.jsxs("li",{children:["• ",f("Your plan will be activated after payment verification")]}),e.jsxs("li",{children:["• ",f("Verification may take 1-3 business days")]})]})]})]})})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:w,className:"flex-1",children:f("Cancel")}),e.jsx(g,{onClick:n,disabled:s,className:"flex-1",children:f(s?"Processing...":"I have made the payment")})]})]})}function Us({planId:t,planPrice:v,couponCode:d,billingCycle:h,razorpayKey:p,currency:P="INR",onSuccess:w,onCancel:f}){const{t:s}=z();N.useEffect(()=>{if(window&&window.Razorpay)return;const m=document.createElement("script");return m.src="https://checkout.razorpay.com/v1/checkout.js",m.async=!0,m.onerror=()=>{C.error(s("Failed to load Razorpay checkout. Please try again."))},document.body.appendChild(m),()=>{document.body.contains(m)&&document.body.removeChild(m)}},[]);const a=async()=>{var m,n;try{const c=await ae.post(route("razorpay.create-order"),{plan_id:t,billing_cycle:h,coupon_code:d});if(c.data.error){C.error(c.data.error);return}const{order_id:j,amount:b}=c.data;if(!j||!b){C.error(s("Invalid response from server"));return}const u={key:p,amount:b,currency:P,name:"VCardGo",description:"Plan Subscription",order_id:j,handler:function(x){ae.post(route("razorpay.verify-payment"),{razorpay_payment_id:x.razorpay_payment_id,razorpay_order_id:x.razorpay_order_id,razorpay_signature:x.razorpay_signature,plan_id:t,billing_cycle:h,coupon_code:d}).then(()=>{w()}).catch(i=>{var y,T;const o=((T=(y=i.response)==null?void 0:y.data)==null?void 0:T.error)||s("Payment verification failed");C.error(o)})},prefill:{name:"",email:"",contact:""},theme:{color:"#3B82F6"},modal:{ondismiss:f}};if(!window.Razorpay){C.error(s("Razorpay SDK not loaded"));return}new window.Razorpay(u).open()}catch(c){const j=((n=(m=c.response)==null?void 0:m.data)==null?void 0:n.error)||s("Failed to initialize payment");C.error(j),console.error("Razorpay error:",c)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s("You will be redirected to Razorpay to complete your payment.")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:f,className:"flex-1",children:s("Cancel")}),e.jsx(g,{onClick:a,className:"flex-1",children:s("Pay with Razorpay")})]})]})}function Xs({planId:t,planPrice:v,couponCode:d,billingCycle:h,accessToken:p,currency:P="BRL",onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),n=async()=>{var c,j;try{m(!0);const b=await ae.post(route("mercadopago.create-preference"),{plan_id:t,billing_cycle:h,coupon_code:d||void 0},{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});b.data.redirect_url?window.location.href=b.data.redirect_url:(C.error(s("Failed to create payment preference")),m(!1))}catch(b){const u=((j=(c=b.response)==null?void 0:c.data)==null?void 0:j.error)||b.message||s("Failed to create payment preference");C.error(u),m(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s("You will be redirected to MercadoPago to complete your payment.")}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx(g,{variant:"outline",onClick:f,className:"flex-1",disabled:a,children:s("Cancel")}),e.jsx(g,{onClick:n,className:"flex-1",disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"h-4 w-4 mr-2 animate-spin"}),s("Processing...")]}):s("Pay with MercadoPago")})]})]})}function Ys({planId:t,planPrice:v,couponCode:d,billingCycle:h,paystackKey:p,currency:P,onSuccess:w,onCancel:f}){const{t:s}=z(),a=N.useRef(!1),{processPayment:m}=me({onSuccess:w,onError:n=>C.error(n)});return N.useEffect(()=>{if(!p||a.current)return;const n=document.createElement("script");return n.src="https://js.paystack.co/v1/inline.js",n.async=!0,n.onload=()=>{a.current=!0;const c=document.querySelector("[data-radix-dialog-overlay]");c&&(c.style.display="none"),window.PaystackPop.setup({key:p,email:"user@example.com",amount:Math.round(Number(v)*100),currency:P.toUpperCase(),callback:function(b){c&&(c.style.display=""),m("paystack",{planId:t,billingCycle:h,couponCode:d,payment_id:b.reference})},onClose:function(){c&&(c.style.display=""),f()}}).openIframe()},document.head.appendChild(n),()=>{document.head.contains(n)&&document.head.removeChild(n)}},[p,t,h,d,P]),p?e.jsx("div",{className:"p-4 text-center",children:e.jsx("p",{children:s("Redirecting to Paystack...")})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:s("Paystack not configured")})}function Hs({planId:t,planPrice:v,couponCode:d,billingCycle:h,flutterwaveKey:p,currency:P,onSuccess:w,onCancel:f}){const{t:s}=z(),a=N.useRef(!1),{processPayment:m}=me({onSuccess:w,onError:n=>C.error(n)});return N.useEffect(()=>{if(!p||a.current)return;const n=document.createElement("script");return n.src="https://checkout.flutterwave.com/v3.js",n.async=!0,n.onload=()=>{a.current=!0,window.FlutterwaveCheckout({public_key:p,tx_ref:`plan_${t}_${Date.now()}`,amount:v,currency:P.toUpperCase(),payment_options:"card,mobilemoney,ussd",customer:{email:"user@example.com",phone_number:"",name:"Customer"},customizations:{title:"Plan Subscription",description:"Payment for subscription plan",logo:""},callback:function(c){c.status==="successful"?m("flutterwave",{planId:t,billingCycle:h,couponCode:d,payment_id:c.transaction_id,tx_ref:c.tx_ref}):(C.error(s("Payment was not completed")),f())},onclose:function(){f()}})},document.head.appendChild(n),()=>{document.head.contains(n)&&document.head.removeChild(n)}},[p,t,h,d,P]),p?e.jsx("div",{className:"p-4 text-center",children:e.jsx("p",{children:s("Redirecting to Flutterwave...")})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:s("Flutterwave not configured")})}function Ws({planId:t,couponCode:v,billingCycle:d,planPrice:h,paytabsClientKey:p,currency:P,onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),n=async()=>{var c,j,b,u,l,x;m(!0);try{const i={plan_id:t,billing_cycle:d,coupon_code:v||null,payment_id:`pt_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,transaction_id:`txn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,_token:(c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content")},o=await ae.post(route("paytabs.payment"),i,{headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},timeout:3e4});if(o.data.success&&o.data.redirect_url)C.success(s("Redirecting to PayTabs payment page...")),setTimeout(()=>{window.location.href=o.data.redirect_url},1e3);else throw new Error(o.data.message||"Payment initialization failed")}catch(i){console.error("PayTabs payment error:",i);let o=s("Payment failed. Please try again.");((j=i.response)==null?void 0:j.status)===400?o=((b=i.response.data)==null?void 0:b.message)||s("Invalid payment request. Please check your details."):((u=i.response)==null?void 0:u.status)===500?o=s("Server error. Please try again later."):(x=(l=i.response)==null?void 0:l.data)!=null&&x.message?o=i.response.data.message:i.message?o=i.message:i.code==="ECONNABORTED"&&(o=s("Request timeout. Please try again.")),C.error(o),m(!1)}};return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PayTabs Payment")]})}),e.jsx(R,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(V,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:s("Secure Payment with PayTabs")}),e.jsx("p",{className:"text-sm text-blue-700",children:s("You will be redirected to PayTabs secure payment page to complete your transaction.")})]})]})}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Plan"),":"]}),e.jsx("span",{className:"text-sm text-gray-900",children:s("Subscription Plan")})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Billing Cycle"),":"]}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:d})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Amount"),":"]}),e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[P," ",h]})]}),v&&e.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t",children:[e.jsxs("span",{className:"text-sm font-medium text-green-600",children:[s("Coupon Applied"),":"]}),e.jsx("span",{className:"text-sm text-green-700 font-medium",children:v})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(g,{type:"button",variant:"outline",onClick:f,className:"flex-1",disabled:a,children:s("Cancel")}),e.jsx(g,{type:"button",onClick:n,disabled:a,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay {{amount}}",{amount:`${P} ${h}`})]})})]})]})})]})}function Js({planId:t,couponCode:v,billingCycle:d,planPrice:h,skrillMerchantId:p,currency:P,onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(""),j=async b=>{if(b.preventDefault(),!n){C.error(s("Please enter your email address"));return}m(!0);try{const u={plan_id:t,billing_cycle:d,coupon_code:v||null,payment_id:`skrill_${Date.now()}`,transaction_id:`txn_${Date.now()}`,email:n};S.post(route("skrill.payment"),u,{onSuccess:()=>{C.success(s("Payment successful!")),w()},onError:l=>{console.error("Skrill payment error:",l),C.error(s("Payment failed. Please try again."))},onFinish:()=>{m(!1)}})}catch(u){console.error("Skrill payment error:",u),C.error(s("Payment failed. Please try again.")),m(!1)}};return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5"}),s("Skrill Payment")]})}),e.jsx(R,{children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"email",children:s("Email Address")}),e.jsx(U,{id:"email",type:"email",value:n,onChange:b=>c(b.target.value),placeholder:s("Enter your email address"),required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("You will be redirected to Skrill to complete the payment")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(g,{type:"button",variant:"outline",onClick:f,className:"flex-1",children:s("Cancel")}),e.jsx(g,{type:"submit",disabled:a,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:`${P} ${h}`})})]})]})})]})}function Vs({planId:t,couponCode:v,billingCycle:d,planPrice:h,currency:p,onSuccess:P,onCancel:w}){const{t:f}=z(),[s,a]=N.useState(!1),m=n=>{var u;n.preventDefault(),a(!0);const c=document.createElement("form");c.method="POST",c.action=route("coingate.payment");const j=(u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content");if(j){const l=document.createElement("input");l.type="hidden",l.name="_token",l.value=j,c.appendChild(l)}Object.entries({plan_id:t,billing_cycle:d,coupon_code:v||"",crypto_currency:"BTC"}).forEach(([l,x])=>{const i=document.createElement("input");i.type="hidden",i.name=l,i.value=String(x),c.appendChild(i)}),document.body.appendChild(c),c.submit()};return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5 text-orange-500"}),f("CoinGate Cryptocurrency Payment")]})}),e.jsxs(R,{children:[e.jsxs(A,{className:"mb-4",children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx(O,{children:f("You will be redirected to CoinGate to complete your cryptocurrency payment securely.")})]}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:f("Plan")}),e.jsxs("span",{className:"text-sm",children:[f(d)," ",f("billing")]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:f("Amount")}),e.jsxs("span",{className:"text-lg font-bold",children:[p," ",h]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:f("Final cryptocurrency amount will be calculated at checkout based on current exchange rates")})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(de,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:f("Payment Process:")}),e.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[e.jsx("li",{children:f('Click "Pay with Crypto" to proceed to CoinGate')}),e.jsx("li",{children:f("Complete payment using your selected cryptocurrency")}),e.jsx("li",{children:f("You will be redirected back after payment completion")})]})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(g,{type:"button",variant:"outline",onClick:w,className:"flex-1",disabled:s,children:f("Cancel")}),e.jsx(g,{type:"submit",disabled:s,className:"flex-1 bg-orange-600 hover:bg-orange-700",children:s?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),f("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"mr-2 h-4 w-4"}),f("Pay with Crypto")]})})]})]})]})]})}function Gs({planId:t,couponCode:v,billingCycle:d,planPrice:h,payfastMerchantId:p,currency:P,onSuccess:w,onCancel:f}){var x;const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState({firstName:"",lastName:"",email:""}),[j,b]=N.useState({}),u=()=>{const i={};return n.firstName.trim()||(i.firstName=s("First name is required")),n.lastName.trim()||(i.lastName=s("Last name is required")),n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(i.email=s("Please enter a valid email address")):i.email=s("Email is required"),i},l=async i=>{var y;i.preventDefault();const o=u();if(b(o),Object.keys(o).length>0){C.error(s("Please fix the errors below"));return}if(h<5){C.error(s("Minimum payment amount is R5.00"));return}m(!0);try{const M=await(await fetch(route("payfast.payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||""},body:JSON.stringify({plan_id:t,billing_cycle:d,coupon_code:v,customer_details:n})})).json();if(M.success){const K=document.createElement("form");K.method="POST",K.action=M.action,K.innerHTML=M.inputs,document.body.appendChild(K),K.submit()}else C.error(M.error||s("Payment failed")),m(!1)}catch(T){console.error("PayFast payment error:",T),C.error(s("Payment failed. Please try again.")),m(!1)}};return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Payfast Payment")]})}),e.jsx(R,{children:e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsx("input",{type:"hidden",name:"_token",value:((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""}),e.jsx("input",{type:"hidden",name:"plan_id",value:t}),e.jsx("input",{type:"hidden",name:"billing_cycle",value:d}),e.jsx("input",{type:"hidden",name:"coupon_code",value:v||""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"firstName",children:s("First Name")}),e.jsx(U,{id:"firstName",name:"customer_details[firstName]",value:n.firstName,onChange:i=>{c(o=>({...o,firstName:i.target.value})),j.firstName&&b(o=>({...o,firstName:""}))},placeholder:s("Enter first name"),className:j.firstName?"border-red-500":"",required:!0}),j.firstName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:j.firstName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"lastName",children:s("Last Name")}),e.jsx(U,{id:"lastName",name:"customer_details[lastName]",value:n.lastName,onChange:i=>{c(o=>({...o,lastName:i.target.value})),j.lastName&&b(o=>({...o,lastName:""}))},placeholder:s("Enter last name"),className:j.lastName?"border-red-500":"",required:!0}),j.lastName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:j.lastName})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"email",children:s("Email Address")}),e.jsx(U,{id:"email",name:"customer_details[email]",type:"email",value:n.email,onChange:i=>{c(o=>({...o,email:i.target.value})),j.email&&b(o=>({...o,email:""}))},placeholder:s("Enter email address"),className:j.email?"border-red-500":"",required:!0}),j.email&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:j.email}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("You will be redirected to Payfast to complete the payment")})]}),h<5&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:s("PayFast requires a minimum payment of R5.00. Current amount: {{currency}} {{amount}}",{currency:P,amount:h})})]}),e.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:s("Amount")}),e.jsxs("span",{className:"text-sm font-bold",children:[P," ",h]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s("Secure payment processing via PayFast")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(g,{type:"button",variant:"outline",onClick:f,className:"flex-1",children:s("Cancel")}),e.jsx(g,{type:"submit",disabled:a||h<5,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:`${P} ${h}`})})]})]})})]})}function Ss({planId:t,couponCode:v,billingCycle:d,planPrice:h,toyyibpayCategoryCode:p,currency:P,onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState({name:"",email:"",phone:""}),[j,b]=N.useState({}),u=()=>{const i={};return n.name.trim()||(i.name=s("Full name is required")),n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(i.email=s("Please enter a valid email address")):i.email=s("Email address is required"),n.phone.trim()?n.phone.length<10&&(i.phone=s("Please enter a valid Malaysian phone number")):i.phone=s("Phone number is required"),b(i),Object.keys(i).length===0},l=async i=>{var o;if(i.preventDefault(),!u()){C.error(s("Please fix the form errors"));return}m(!0),b({});try{const y={plan_id:t,billing_cycle:d,coupon_code:v||"",billName:`Plan Subscription - ${t}`,billDescription:`${d} subscription for ${n.name}`,billAmount:h,billTo:n.name.trim(),billEmail:n.email.trim(),billPhone:n.phone.trim()},T=document.createElement("form");T.method="POST",T.action=route("toyyibpay.payment");const M=document.createElement("input");M.type="hidden",M.name="_token",M.value=((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||"",T.appendChild(M),Object.entries(y).forEach(([K,J])=>{const H=document.createElement("input");H.type="hidden",H.name=K,H.value=J.toString(),T.appendChild(H)}),document.body.appendChild(T),T.submit()}catch(y){console.error("ToyyibPay payment error:",y),C.error(s("Payment failed. Please try again.")),m(!1)}},x=i=>{const o=i.replace(/[^0-9]/g,"");return o.startsWith("60")?o.slice(0,12):o.startsWith("0")?"60"+o.slice(1,11):"60"+o.slice(0,10)};return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("toyyibPay Payment")]})}),e.jsxs(R,{children:[e.jsxs(A,{className:"mb-4",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to toyyibPay to complete your payment securely via FPX (Malaysian Online Banking)")})]}),e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs($,{htmlFor:"name",children:[s("Full Name")," *"]}),e.jsx(U,{id:"name",value:n.name,onChange:i=>{c(o=>({...o,name:i.target.value})),j.name&&b(o=>({...o,name:""}))},placeholder:s("Enter your full name"),className:j.name?"border-red-500":"",required:!0}),j.name&&e.jsx("p",{className:"text-sm text-red-500",children:j.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs($,{htmlFor:"email",children:[s("Email Address")," *"]}),e.jsx(U,{id:"email",type:"email",value:n.email,onChange:i=>{c(o=>({...o,email:i.target.value})),j.email&&b(o=>({...o,email:""}))},placeholder:s("Enter your email address"),className:j.email?"border-red-500":"",required:!0}),j.email&&e.jsx("p",{className:"text-sm text-red-500",children:j.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs($,{htmlFor:"phone",children:[s("Phone Number")," *"]}),e.jsx(U,{id:"phone",value:n.phone,onChange:i=>{const o=x(i.target.value);c(y=>({...y,phone:o})),j.phone&&b(y=>({...y,phone:""}))},placeholder:"60123456789",className:j.phone?"border-red-500":"",maxLength:12,required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Malaysian format: 60123456789 (numbers only)")}),j.phone&&e.jsx("p",{className:"text-sm text-red-500",children:j.phone})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(F,{className:"h-4 w-4 text-primary"}),e.jsx("p",{className:"text-sm font-medium",children:s("Payment Method: FPX (Online Banking)")})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Secure payment via Malaysian banks including Maybank, CIMB, Public Bank, RHB, and more")})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s("Total Amount"),":"]}),e.jsxs("span",{className:"text-lg font-bold",children:[P," ",h.toFixed(2)]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{type:"button",variant:"outline",onClick:f,className:"flex-1",disabled:a,children:s("Cancel")}),e.jsx(g,{type:"submit",disabled:a,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),s("Pay Now")]})})]})]})]})]})]})}function Zs({planId:t,couponCode:v,billingCycle:d,planPrice:h,paytrMerchantId:p,currency:P,onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(!1),[j,b]=N.useState(""),u=N.useRef(null),[l,x]=N.useState({name:"",email:"",phone:"",address:""});N.useEffect(()=>{const o=y=>{y.origin==="https://www.paytr.com"&&(y.data==="success"?(c(!1),w()):y.data==="fail"&&(c(!1),C.error(s("Payment failed"))))};return window.addEventListener("message",o),()=>window.removeEventListener("message",o)},[w,s]);const i=async o=>{var y,T;if(o.preventDefault(),!l.name||!l.email||!l.phone){C.error(s("Please fill in required customer details"));return}m(!0);try{const M=await ae.post(route("paytr.create-token"),{plan_id:t,billing_cycle:d,coupon_code:v,user_name:l.name,user_email:l.email,user_phone:l.phone,user_address:l.address});if(M.data.success)b(M.data.iframe_url),c(!0);else throw new Error(M.data.error||"Token creation failed")}catch(M){console.error("PayTR payment error:",M),C.error(((T=(y=M.response)==null?void 0:y.data)==null?void 0:T.error)||s("Payment failed. Please try again."))}finally{m(!1)}};return n?e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PayTR Payment")]}),e.jsx(g,{variant:"outline",size:"sm",onClick:()=>c(!1),children:s("Back")})]})}),e.jsxs(R,{children:[e.jsx("div",{className:"w-full h-[600px] border rounded-lg overflow-hidden",children:e.jsx("iframe",{ref:u,src:j,width:"100%",height:"100%",frameBorder:"0",scrolling:"auto",title:"PayTR Payment"})}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:s("Complete your payment in the secure PayTR iframe above")})]})]}):e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PayTR Payment")]})}),e.jsx(R,{children:e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs($,{htmlFor:"name",children:[s("Full Name")," *"]}),e.jsx(U,{id:"name",value:l.name,onChange:o=>x(y=>({...y,name:o.target.value})),placeholder:s("Enter full name"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs($,{htmlFor:"email",children:[s("Email Address")," *"]}),e.jsx(U,{id:"email",type:"email",value:l.email,onChange:o=>x(y=>({...y,email:o.target.value})),placeholder:s("Enter email address"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs($,{htmlFor:"phone",children:[s("Phone Number")," *"]}),e.jsx(U,{id:"phone",value:l.phone,onChange:o=>x(y=>({...y,phone:o.target.value})),placeholder:"+905xxxxxxxxx",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Turkish phone number format: +905xxxxxxxxx")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"address",children:s("Address")}),e.jsx(U,{id:"address",value:l.address,onChange:o=>x(y=>({...y,address:o.target.value})),placeholder:s("Enter address (optional)")})]}),e.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium",children:s("Secure Payment via PayTR")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s("Credit Card, Debit Card - Real-time payment processing")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(g,{type:"button",variant:"outline",onClick:f,className:"flex-1",children:s("Cancel")}),e.jsx(g,{type:"submit",disabled:a,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:`${h} ${P}`})})]})]})})]})}function Qs({planId:t,couponCode:v,billingCycle:d,planPrice:h,mollieApiKey:p,currency:P,onSuccess:w,onCancel:f}){var b;const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState({firstName:"",lastName:"",email:""}),j=u=>{if(!n.firstName||!n.lastName||!n.email){u.preventDefault(),alert(s("Please fill in all customer details"));return}m(!0)};return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Mollie Payment")]})}),e.jsx(R,{children:e.jsxs("form",{action:route("mollie.payment"),method:"POST",onSubmit:j,className:"space-y-4",children:[e.jsx("input",{type:"hidden",name:"_token",value:((b=document.querySelector('meta[name="csrf-token"]'))==null?void 0:b.getAttribute("content"))||""}),e.jsx("input",{type:"hidden",name:"plan_id",value:t}),e.jsx("input",{type:"hidden",name:"billing_cycle",value:d}),e.jsx("input",{type:"hidden",name:"coupon_code",value:v||""}),e.jsx("input",{type:"hidden",name:"payment_id",value:`mollie_${Date.now()}`}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"firstName",children:s("First Name")}),e.jsx(U,{id:"firstName",name:"customer_details[firstName]",value:n.firstName,onChange:u=>c(l=>({...l,firstName:u.target.value})),placeholder:s("Enter first name"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"lastName",children:s("Last Name")}),e.jsx(U,{id:"lastName",name:"customer_details[lastName]",value:n.lastName,onChange:u=>c(l=>({...l,lastName:u.target.value})),placeholder:s("Enter last name"),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"email",children:s("Email Address")}),e.jsx(U,{id:"email",name:"customer_details[email]",type:"email",value:n.email,onChange:u=>c(l=>({...l,email:u.target.value})),placeholder:s("Enter email address"),required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(g,{type:"button",variant:"outline",onClick:f,className:"flex-1",children:s("Cancel")}),e.jsx(g,{type:"submit",disabled:a,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:`€${h}`})})]})]})})]})}function er({planId:t,planPrice:v,couponCode:d,billingCycle:h,cashfreeAppId:p,mode:P="sandbox",currency:w="INR",onSuccess:f,onCancel:s}){const{t:a}=z();N.useEffect(()=>{if(window&&window.Cashfree)return;const n=document.createElement("script");return n.src="https://sdk.cashfree.com/js/v3/cashfree.js",n.async=!0,n.onerror=()=>{C.error(a("Failed to load Cashfree SDK. Please try again."))},document.body.appendChild(n),()=>{document.body.contains(n)&&document.body.removeChild(n)}},[P]);const m=async()=>{var n,c,j;try{const b=await ae.post(route("cashfree.create-session"),{plan_id:t,billing_cycle:h,coupon_code:d,_token:(n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content")});if(b.data.error){C.error(b.data.error);return}const{payment_session_id:u,order_id:l,amount:x,mode:i}=b.data;if(!u||!l){C.error(a("Invalid response from server"));return}if(!i){C.error(a("Payment mode not configured"));return}if(!window.Cashfree){C.error(a("Cashfree SDK not loaded"));return}const o=i==="production"?"PROD":"SANDBOX";try{const M=window.Cashfree({mode:o})}catch(M){C.error("Failed to initialize Cashfree: "+M.message);return}const y=window.Cashfree({mode:o}),T={paymentSessionId:u,returnUrl:window.location.origin+route("dashboard"),redirectTarget:"_modal",mode:o,style:{zIndex:99999}};y.checkout(T).then(M=>{var K,J;if(M.error){C.error(M.error.message||a("Payment failed"));return}M.paymentDetails?ae.post(route("cashfree.verify-payment"),{order_id:l,cf_payment_id:(K=M.paymentDetails)==null?void 0:K.paymentId,plan_id:t,billing_cycle:h,coupon_code:d,_token:(J=document.querySelector('meta[name="csrf-token"]'))==null?void 0:J.getAttribute("content")}).then(H=>{f()}).catch(H=>{var Z,E;const X=((E=(Z=H.response)==null?void 0:Z.data)==null?void 0:E.error)||a("Payment verification failed");C.error(X)}):C.error(a("Payment status unclear"))}).catch(M=>{C.error(M.message||a("Payment initialization failed"))})}catch(b){const u=((j=(c=b.response)==null?void 0:c.data)==null?void 0:j.error)||a("Failed to initialize payment");C.error(u)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a("You will be redirected to Cashfree to complete your payment.")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:s,className:"flex-1",children:a("Cancel")}),e.jsx(g,{onClick:m,className:"flex-1",children:a("Pay with Cashfree")})]})]})}function sr({planId:t,planPrice:v,couponCode:d,billingCycle:h,iyzipayPublicKey:p,currency:P="USD",onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(null),[j,b]=N.useState(null),u=async()=>{var x;if(!p){c(s("Iyzipay configuration is missing"));return}m(!0),c(null);try{const o=await(await fetch(route("iyzipay.create-form"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:t,billing_cycle:h,coupon_code:d})})).json();if(o.success)window.location.href=o.redirect_url;else throw new Error(o.error||s("Failed to create payment form"))}catch(i){console.error("Iyzipay payment error:",i),c(i instanceof Error?i.message:s("Payment initialization failed"))}finally{m(!1)}},l=x=>new Intl.NumberFormat("en-US",{style:"currency",currency:P}).format(x);return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Iyzipay Payment")]})}),e.jsxs(R,{className:"space-y-4",children:[n&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:l(v)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),d&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",d]})]}),a?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(B,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:s("Redirecting to payment page...")})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to Iyzipay secure payment page to complete your payment.")})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:f,disabled:a,className:"flex-1",children:s("Cancel")}),e.jsx(g,{onClick:u,disabled:a||!p,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),s("Pay with Iyzipay")]})})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Iyzipay - Secure payment processing")})]})]})}function rr({planId:t,planPrice:v,couponCode:d,billingCycle:h,benefitPublicKey:p,currency:P="BHD",onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(null),j=async()=>{var u;if(!p){c(s("Benefit payment configuration is missing"));return}m(!0),c(null);try{const x=await(await fetch(route("benefit.create-session"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:t,billing_cycle:h,coupon_code:d})})).json();if(x.success)window.location.href=x.payment_url;else throw new Error(x.error||s("Failed to create payment session"))}catch(l){console.error("Benefit payment error:",l),c(l instanceof Error?l.message:s("Payment initialization failed")),m(!1)}},b=u=>new Intl.NumberFormat("en-BH",{style:"currency",currency:P,minimumFractionDigits:3}).format(u);return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Benefit Payment")]})}),e.jsxs(R,{className:"space-y-4",children:[n&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:b(v)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),d&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",d]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to Benefit to complete your payment securely. Benefit is the leading payment gateway in Bahrain.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("Benefit Debit Cards")]}),e.jsxs("li",{children:["• ",s("Visa Credit/Debit Cards")]}),e.jsxs("li",{children:["• ",s("Mastercard Credit/Debit Cards")]}),e.jsxs("li",{children:["• ",s("Benefit Pay Mobile Wallet")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:f,disabled:a,className:"flex-1",children:s("Cancel")}),e.jsx(g,{onClick:j,disabled:a||!p,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with Benefit")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Benefit - Bahrain's trusted payment gateway")})]})]})}function ar({planId:t,planPrice:v,couponCode:d,billingCycle:h,ozowSiteKey:p,currency:P="ZAR",onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(null),j=async()=>{var u;if(!p){c(s("Ozow not configured"));return}m(!0),c(null);try{const x=await(await fetch(route("ozow.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:t,billing_cycle:h,coupon_code:d})})).json();if(x.success)window.location.href=x.payment_url;else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("Ozow payment error:",l),c(l instanceof Error?l.message:s("Payment initialization failed")),m(!1)}},b=u=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:P}).format(u);return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Ozow Payment")]})}),e.jsxs(R,{className:"space-y-4",children:[n&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:b(v)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),d&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",d]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to Ozow to complete your payment securely. Ozow is South Africa's trusted instant payment gateway.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Banks")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Standard Bank"}),e.jsx("li",{children:"• FNB"}),e.jsx("li",{children:"• ABSA"}),e.jsx("li",{children:"• Nedbank"}),e.jsx("li",{children:"• Capitec Bank"}),e.jsx("li",{children:"• And more South African banks"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:f,disabled:a,className:"flex-1",children:s("Cancel")}),e.jsx(g,{onClick:j,disabled:a||!p,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with Ozow")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Ozow - South Africa's instant payment gateway")})]})]})}function tr({planId:t,planPrice:v,couponCode:d,billingCycle:h,easebuzzMerchantKey:p,currency:P="INR",onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(null),j=async()=>{var u;if(!p){c(s("Easebuzz not configured"));return}m(!0),c(null);try{const x=await(await fetch(route("easebuzz.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:t,billing_cycle:h,coupon_code:d})})).json();if(x.success)window.location.href=x.payment_url;else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("Easebuzz payment error:",l),c(l instanceof Error?l.message:s("Payment initialization failed")),m(!1)}},b=u=>new Intl.NumberFormat("en-IN",{style:"currency",currency:P}).format(u);return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Easebuzz Payment")]})}),e.jsxs(R,{className:"space-y-4",children:[n&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:b(v)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),d&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",d]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to Easebuzz to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Net Banking"}),e.jsx("li",{children:"• UPI"}),e.jsx("li",{children:"• Wallets"}),e.jsx("li",{children:"• EMI Options"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:f,disabled:a,className:"flex-1",children:s("Cancel")}),e.jsx(g,{onClick:j,disabled:a||!p,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with Easebuzz")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Easebuzz - Secure payment processing")})]})]})}function nr({planId:t,planPrice:v,couponCode:d,billingCycle:h,khaltiPublicKey:p,currency:P="NPR",onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(null),j=async()=>{var i;if(!p){c(s("Khalti not configured"));return}m(!0),c(null);try{const y=await(await fetch(route("khalti.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((i=document.querySelector('meta[name="csrf-token"]'))==null?void 0:i.getAttribute("content"))||""},body:JSON.stringify({plan_id:t,billing_cycle:h,coupon_code:d})})).json();if(y.success)b(y);else throw new Error(y.error||s("Payment creation failed"))}catch(o){console.error("Khalti payment error:",o),c(o instanceof Error?o.message:s("Payment initialization failed")),m(!1)}},b=i=>{if(window.KhaltiCheckout)u(i);else{const o=document.createElement("script");o.src="https://khalti.s3.ap-south-1.amazonaws.com/KPG/dist/2020.12.17.0.0.0/khalti-checkout.iffe.js",o.onload=()=>{u(i)},document.head.appendChild(o)}},u=i=>{const o={publicKey:i.public_key,productIdentity:i.product_identity,productName:i.product_name,productUrl:i.product_url,paymentPreference:["KHALTI","EBANKING","MOBILE_BANKING","CONNECT_IPS","SCT"],eventHandler:{onSuccess(T){l(T.token,T.amount)},onError(T){console.error("Khalti payment error:",T),c(s("Payment failed")),m(!1)},onClose(){m(!1)}}};new window.KhaltiCheckout(o).show({amount:i.amount})},l=(i,o)=>{S.post(route("khalti.payment"),{plan_id:t,billing_cycle:h,coupon_code:d,token:i,amount:o/100},{onSuccess:()=>{C.success(s("Payment successful")),w()},onError:y=>{console.error("Payment processing error:",y),c(Object.values(y).flat().join(", ")),m(!1)}})},x=i=>new Intl.NumberFormat("en-NP",{style:"currency",currency:P}).format(i);return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Khalti Payment")]})}),e.jsxs(R,{className:"space-y-4",children:[n&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:x(v)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),d&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",d]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:s("Khalti is Nepal's most popular digital wallet and payment gateway.")})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsx("li",{children:"• Khalti Wallet"}),e.jsx("li",{children:"• eBanking"}),e.jsx("li",{children:"• Mobile Banking"}),e.jsx("li",{children:"• Connect IPS"}),e.jsx("li",{children:"• SCT Cards"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:f,disabled:a,className:"flex-1",children:s("Cancel")}),e.jsx(g,{onClick:j,disabled:a||!p,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),s("Pay with Khalti")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Khalti - Nepal's digital wallet")})]})]})}function lr({planId:t,planPrice:v,couponCode:d,billingCycle:h,authorizenetMerchantId:p,currency:P="USD",isSandbox:w=!1,supportedCountries:f=["US","CA","GB","AU"],supportedCurrencies:s=["USD","CAD","CHF","DKK","EUR","GBP","NOK","PLN","SEK","AUD","NZD"],onSuccess:a,onCancel:m}){const{t:n}=z(),[c,j]=N.useState(!1),[b,u]=N.useState(null),[l,x]=N.useState({}),[i,o]=N.useState({card_number:"",expiry_month:"",expiry_year:"",cvv:"",cardholder_name:""}),y=k=>{const Y=k.replace(/\s/g,"");return/^[0-9]{13,19}$/.test(Y)},T=k=>/^(0[1-9]|1[0-2])$/.test(k),M=k=>{if(!/^[0-9]{2}$/.test(k))return!1;const Y=new Date().getFullYear()%100,W=parseInt(k);return W>=Y&&W<=Y+20},K=k=>/^[0-9]{3,4}$/.test(k),J=k=>k.trim().length>=2&&k.trim().length<=50,H=k=>{const Y=k.replace(/\s/g,""),W=Y.match(/.{1,4}/g);return W?W.join(" "):Y},X=(k,Y)=>{let W=Y;k==="card_number"?W=H(Y.replace(/\s/g,"").slice(0,19)):k==="expiry_month"?W=Y.replace(/\D/g,"").slice(0,2):k==="expiry_year"?W=Y.replace(/\D/g,"").slice(0,2):k==="cvv"&&(W=Y.replace(/\D/g,"").slice(0,4)),o(Q=>({...Q,[k]:W})),l[k]&&x(Q=>({...Q,[k]:""}))},Z=()=>{const k={};return y(i.card_number)||(k.card_number=n("Please enter a valid card number (13-19 digits)")),T(i.expiry_month)||(k.expiry_month=n("Please enter a valid month (01-12)")),M(i.expiry_year)||(k.expiry_year=n("Please enter a valid year (current year or later)")),K(i.cvv)||(k.cvv=n("Please enter a valid CVV (3-4 digits)")),J(i.cardholder_name)||(k.cardholder_name=n("Please enter a valid cardholder name (2-50 characters)")),x(k),Object.keys(k).length===0},E=async()=>{if(!p){u(n("AuthorizeNet not configured"));return}if(!Z()){u(n("Please correct the errors below"));return}j(!0),u(null),S.post(route("authorizenet.payment"),{plan_id:t,billing_cycle:h,coupon_code:d,...i},{onSuccess:()=>{C.success(n("Payment successful")),a()},onError:k=>{console.error("Payment processing error:",k),u(Object.values(k).flat().join(", ")),j(!1)}})},G=k=>new Intl.NumberFormat("en-US",{style:"currency",currency:P}).format(k);return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),n("AuthorizeNet Payment")]})}),e.jsxs(R,{className:"space-y-4",children:[b&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:b})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:n("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:G(v)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[n("Billing Cycle"),": ",n(h)]}),d&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[n("Coupon Applied"),": ",d]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx($,{htmlFor:"cardholder_name",children:n("Cardholder Name")}),e.jsx(U,{id:"cardholder_name",value:i.cardholder_name,onChange:k=>X("cardholder_name",k.target.value),placeholder:n("Enter cardholder name"),className:l.cardholder_name?"border-red-500":""}),l.cardholder_name&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.cardholder_name})]}),e.jsxs("div",{children:[e.jsx($,{htmlFor:"card_number",children:n("Card Number")}),e.jsx(U,{id:"card_number",value:i.card_number,onChange:k=>X("card_number",k.target.value),placeholder:"1234 5678 9012 3456",maxLength:23,className:l.card_number?"border-red-500":""}),l.card_number&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.card_number})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx($,{htmlFor:"expiry_month",children:n("Month")}),e.jsx(U,{id:"expiry_month",value:i.expiry_month,onChange:k=>X("expiry_month",k.target.value),placeholder:"MM",maxLength:2,className:l.expiry_month?"border-red-500":""}),l.expiry_month&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.expiry_month})]}),e.jsxs("div",{children:[e.jsx($,{htmlFor:"expiry_year",children:n("Year")}),e.jsx(U,{id:"expiry_year",value:i.expiry_year,onChange:k=>X("expiry_year",k.target.value),placeholder:"YY",maxLength:2,className:l.expiry_year?"border-red-500":""}),l.expiry_year&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.expiry_year})]}),e.jsxs("div",{children:[e.jsx($,{htmlFor:"cvv",children:n("CVV")}),e.jsx(U,{id:"cvv",value:i.cvv,onChange:k=>X("cvv",k.target.value),placeholder:"123",maxLength:4,className:l.cvv?"border-red-500":""}),l.cvv&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.cvv})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:m,disabled:c,className:"flex-1",children:n("Cancel")}),e.jsx(g,{onClick:E,disabled:c||!p,className:"flex-1",children:c?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),n("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),n("Pay with AuthorizeNet")]})})]}),e.jsxs("div",{className:"space-y-2",children:[w&&e.jsxs(A,{children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx(O,{children:n("Test Mode: This is a sandbox transaction. No real money will be charged.")})]}),e.jsxs("div",{className:"text-xs text-muted-foreground text-center space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(xs,{className:"h-3 w-3 text-green-500"}),n("Powered by AuthorizeNet - Secure payment processing")]}),e.jsxs("div",{children:[n("Supported currencies"),": ",s.join(", ")]}),e.jsxs("div",{children:[n("Supported countries"),": ",f.join(", ")]})]})]})]})]})}function cr({planId:t,planPrice:v,couponCode:d,billingCycle:h,fedapayPublicKey:p,currency:P="XOF",onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(null),j=async()=>{var u;if(!p){c(s("FedaPay not configured"));return}m(!0),c(null);try{const x=await(await fetch(route("fedapay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:t,billing_cycle:h,coupon_code:d})})).json();if(x.success)window.location.href=x.payment_url;else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("FedaPay payment error:",l),c(l instanceof Error?l.message:s("Payment initialization failed")),m(!1)}},b=u=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:P}).format(u);return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("FedaPay Payment")]})}),e.jsxs(R,{className:"space-y-4",children:[n&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:b(v)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),d&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",d]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to FedaPay to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"• Mobile Money (MTN, Moov, Orange)"}),e.jsx("li",{children:"• Visa/Mastercard"}),e.jsx("li",{children:"• Bank Transfers"}),e.jsx("li",{children:"• Digital Wallets"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:f,disabled:a,className:"flex-1",children:s("Cancel")}),e.jsx(g,{onClick:j,disabled:a||!p,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with FedaPay")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by FedaPay - West Africa's payment gateway")})]})]})}function ir({planId:t,planPrice:v,couponCode:d,billingCycle:h,payhereMerchantId:p,currency:P="LKR",onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(null),j=async()=>{var u;if(!p){c(s("PayHere not configured"));return}m(!0),c(null);try{const x=await(await fetch(route("payhere.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:t,billing_cycle:h,coupon_code:d})})).json();if(x.success){const i=document.createElement("form");i.method="POST",i.action=x.payment_url,Object.keys(x.payment_data).forEach(o=>{const y=document.createElement("input");y.type="hidden",y.name=o,y.value=x.payment_data[o],i.appendChild(y)}),document.body.appendChild(i),i.submit()}else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("PayHere payment error:",l),c(l instanceof Error?l.message:s("Payment initialization failed")),m(!1)}},b=u=>new Intl.NumberFormat("en-LK",{style:"currency",currency:P}).format(u);return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PayHere Payment")]})}),e.jsxs(R,{className:"space-y-4",children:[n&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:b(v)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),d&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",d]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to PayHere to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[e.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-orange-800 space-y-1",children:[e.jsx("li",{children:"• Visa/Mastercard"}),e.jsx("li",{children:"• Lanka QR"}),e.jsx("li",{children:"• eZ Cash"}),e.jsx("li",{children:"• mCash"}),e.jsx("li",{children:"• Bank Transfers"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:f,disabled:a,className:"flex-1",children:s("Cancel")}),e.jsx(g,{onClick:j,disabled:a||!p,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with PayHere")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by PayHere - Sri Lanka's payment gateway")})]})]})}function or({planId:t,planPrice:v,couponCode:d,billingCycle:h,cinetpaySiteId:p,currency:P="XOF",onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(null),j=async()=>{var u;if(!p){c(s("CinetPay not configured"));return}m(!0),c(null);try{const x=await(await fetch(route("cinetpay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:t,billing_cycle:h,coupon_code:d})})).json();if(x.success&&x.payment_url)window.location.href=x.payment_url;else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("CinetPay payment error:",l),c(l instanceof Error?l.message:s("Payment initialization failed")),m(!1)}},b=u=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:P}).format(u);return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("CinetPay Payment")]})}),e.jsxs(R,{className:"space-y-4",children:[n&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:b(v)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),d&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",d]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to CinetPay to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[e.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[e.jsx("li",{children:"• Mobile Money (Orange, MTN, Moov)"}),e.jsx("li",{children:"• Visa/Mastercard"}),e.jsx("li",{children:"• Bank Transfers"}),e.jsx("li",{children:"• Digital Wallets"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:f,disabled:a,className:"flex-1",children:s("Cancel")}),e.jsx(g,{onClick:j,disabled:a||!p,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with CinetPay")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by CinetPay - African payment gateway")})]})]})}function dr({planId:t,planPrice:v,couponCode:d,billingCycle:h,paiementMerchantId:p,currency:P="XOF",onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(null),j=async()=>{var u;if(!p){c(s("Paiement Pro not configured"));return}m(!0),c(null);try{const x=await(await fetch(route("paiement.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:t,billing_cycle:h,coupon_code:d})})).json();if(x.success){const i=x.payment_response.url;window.location.href=i}else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("Paiement Pro payment error:",l),c(l instanceof Error?l.message:s("Payment initialization failed")),m(!1)}},b=u=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:P}).format(u);return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Paiement Pro Payment")]})}),e.jsxs(R,{className:"space-y-4",children:[n&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:b(v)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),d&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",d]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Mobile Money"}),e.jsx("li",{children:"• Bank Cards"}),e.jsx("li",{children:"• Bank Transfers"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:f,disabled:a,className:"flex-1",children:s("Cancel")}),e.jsx(g,{onClick:j,disabled:a||!p,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with Paiement Pro")]})})]})]})]})}function mr({planId:t,planPrice:v,couponCode:d,billingCycle:h,nepalstePublicKey:p,currency:P="NPR",onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(null),j=async()=>{var u;if(!p){c(s("Nepalste not configured"));return}m(!0),c(null);try{const x=await(await fetch(route("nepalste.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:t,billing_cycle:h,coupon_code:d})})).json();if(x.success){const i=document.createElement("form");i.method="POST",i.action=x.payment_url,Object.keys(x.payment_data).forEach(o=>{const y=document.createElement("input");y.type="hidden",y.name=o,y.value=typeof x.payment_data[o]=="object"?JSON.stringify(x.payment_data[o]):x.payment_data[o],i.appendChild(y)}),document.body.appendChild(i),i.submit()}else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("Nepalste payment error:",l),c(l instanceof Error?l.message:s("Payment initialization failed")),m(!1)}},b=u=>new Intl.NumberFormat("en-NP",{style:"currency",currency:P}).format(u);return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Nepalste Payment")]})}),e.jsxs(R,{className:"space-y-4",children:[n&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:b(v)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),d&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",d]})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[e.jsx("h4",{className:"font-medium text-red-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[e.jsx("li",{children:"• eSewa"}),e.jsx("li",{children:"• Khalti"}),e.jsx("li",{children:"• IME Pay"}),e.jsx("li",{children:"• Bank Transfers"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:f,disabled:a,className:"flex-1",children:s("Cancel")}),e.jsx(g,{onClick:j,disabled:a||!p,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with Nepalste")]})})]})]})]})}function ur({planId:t,planPrice:v,couponCode:d,billingCycle:h,yookassaShopId:p,currency:P="RUB",onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(null),j=async()=>{var u;if(!p){c(s("YooKassa not configured"));return}m(!0),c(null);try{const x=await(await fetch(route("yookassa.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:t,billing_cycle:h,coupon_code:d})})).json();if(x.success)window.location.href=x.payment_url;else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("YooKassa payment error:",l),c(l instanceof Error?l.message:s("Payment initialization failed")),m(!1)}},b=u=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:P}).format(u);return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("YooKassa Payment")]})}),e.jsxs(R,{className:"space-y-4",children:[n&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:b(v)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),d&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",d]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsx("li",{children:"• Bank Cards"}),e.jsx("li",{children:"• YooMoney"}),e.jsx("li",{children:"• Qiwi"}),e.jsx("li",{children:"• Sberbank Online"}),e.jsx("li",{children:"• Alfa-Click"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:f,disabled:a,className:"flex-1",children:s("Cancel")}),e.jsx(g,{onClick:j,disabled:a||!p,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with YooKassa")]})})]})]})]})}function hr({planId:t,planPrice:v,couponCode:d,billingCycle:h,aamarpayStoreId:p,currency:P="BDT",onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(null),j=async()=>{var u;if(!p){c(s("Aamarpay not configured"));return}m(!0),c(null);try{const l=document.createElement("form");l.method="POST",l.action=route("aamarpay.create-payment");const x=document.createElement("input");x.type="hidden",x.name="_token",x.value=((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||"",l.appendChild(x);const i=document.createElement("input");i.type="hidden",i.name="plan_id",i.value=t.toString(),l.appendChild(i);const o=document.createElement("input");if(o.type="hidden",o.name="billing_cycle",o.value=h,l.appendChild(o),d){const y=document.createElement("input");y.type="hidden",y.name="coupon_code",y.value=d,l.appendChild(y)}document.body.appendChild(l),l.submit()}catch(l){console.error("Aamarpay payment error:",l),c(l instanceof Error?l.message:s("Payment initialization failed")),m(!1)}},b=u=>new Intl.NumberFormat("bn-BD",{style:"currency",currency:P}).format(u);return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Aamarpay Payment")]})}),e.jsxs(R,{className:"space-y-4",children:[n&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:b(v)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),d&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",d]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"• bKash"}),e.jsx("li",{children:"• Nagad"}),e.jsx("li",{children:"• Rocket"}),e.jsx("li",{children:"• Bank Cards"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:f,disabled:a,className:"flex-1",children:s("Cancel")}),e.jsx(g,{onClick:j,disabled:a||!p,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with Aamarpay")]})})]})]})]})}function xr({planId:t,planPrice:v,couponCode:d,billingCycle:h,midtransSecretKey:p,currency:P="IDR",onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(null),j=async()=>{var i;if(!p){c(s("Midtrans not configured"));return}m(!0),c(null);try{const y=await(await fetch(route("midtrans.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((i=document.querySelector('meta[name="csrf-token"]'))==null?void 0:i.getAttribute("content"))||""},body:JSON.stringify({plan_id:t,billing_cycle:h,coupon_code:d})})).json();if(y.success)b(y.snap_token,y.order_id);else throw new Error(y.error||s("Payment creation failed"))}catch(o){console.error("Midtrans payment error:",o),c(o instanceof Error?o.message:s("Payment initialization failed")),m(!1)}},b=(i,o)=>{if(window.snap)u(i,o);else{const y=document.createElement("script");y.src="https://app.sandbox.midtrans.com/snap/snap.js",y.setAttribute("data-client-key",p),y.onload=()=>{u(i,o)},y.onerror=()=>{c(s("Failed to load Midtrans script")),m(!1)},document.head.appendChild(y)}},u=(i,o)=>{window.snap.pay(i,{onSuccess:y=>{l(y,o)},onPending:y=>{m(!1)},onError:y=>{c(s("Payment failed")),m(!1)},onClose:()=>{m(!1)}})},l=(i,o)=>{S.post(route("midtrans.payment"),{plan_id:t,billing_cycle:h,coupon_code:d,transaction_status:i.transaction_status,order_id:o},{onSuccess:()=>{w()},onError:y=>{console.error("Payment processing error:",y),c(Object.values(y).flat().join(", ")),m(!1)}})},x=i=>new Intl.NumberFormat("id-ID",{style:"currency",currency:P}).format(i);return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Midtrans Payment")]})}),e.jsxs(R,{className:"space-y-4",children:[n&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:x(v)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),d&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",d]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Bank Transfer"}),e.jsx("li",{children:"• E-Wallets (GoPay, OVO, DANA)"}),e.jsx("li",{children:"• Convenience Stores"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:f,disabled:a,className:"flex-1",children:s("Cancel")}),e.jsx(g,{onClick:j,disabled:a||!p,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),s("Pay with Midtrans")]})})]})]})]})}function pr({planId:t,planPrice:v,couponCode:d,billingCycle:h,paymentwallPublicKey:p,currency:P="USD",onSuccess:w,onCancel:f}){var y;const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(null),[j,b]=N.useState(!1),[u,l]=N.useState(null),x=N.useRef(null);N.useEffect(()=>{(()=>{if(window.Brick){b(!0);return}const M=document.createElement("script");M.src="https://api.paymentwall.com/brick/build/brick-default.1.5.0.min.js",M.async=!0,M.onload=()=>{b(!0)},M.onerror=()=>{c(s("Failed to load PaymentWall payment form"))},document.head.appendChild(M)})()},[s]),N.useEffect(()=>{j&&p&&!u&&i()},[j,p,u]);const i=async()=>{var T;try{const K=await(await fetch(route("paymentwall.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((T=document.querySelector('meta[name="csrf-token"]'))==null?void 0:T.getAttribute("content"))||""},body:JSON.stringify({plan_id:t,billing_cycle:h,coupon_code:d})})).json();if(K.success&&K.brick_config){const J=K.brick_config,H=new window.Brick({public_key:J.public_key,amount:J.amount,currency:J.currency,container:"paymentwall-form-container",action:route("paymentwall.process"),form:{merchant:"PaymentWall",product:J.plan_name,pay_button:s("Pay Now"),show_zip:!0,show_cardholder:!0}});H.showPaymentForm(X=>{w()},X=>{console.error("Payment error:",X),X&&X.length>0?c(X[0].message||s("Payment failed")):c(s("Payment failed")),m(!1)}),l(H)}else throw new Error(K.error||s("Failed to initialize payment form"))}catch(M){console.error("PaymentWall initialization error:",M),c(M instanceof Error?M.message:s("Payment initialization failed"))}},o=T=>new Intl.NumberFormat("en-US",{style:"currency",currency:P}).format(T);return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PaymentWall Payment")]})}),e.jsxs(R,{className:"space-y-4",children:[n&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:o(v)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),d&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",d]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{id:"paymentwall-form-container",ref:x,className:"min-h-[300px]",children:!j&&e.jsxs("div",{className:"flex items-center justify-center h-32",children:[e.jsx(B,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{children:s("Loading payment form...")})]})}),e.jsxs("form",{id:"brick-form",style:{display:"none"},children:[e.jsx("input",{type:"hidden",name:"plan_id",value:t}),e.jsx("input",{type:"hidden",name:"billing_cycle",value:h}),e.jsx("input",{type:"hidden",name:"coupon_code",value:d||""}),e.jsx("input",{type:"hidden",name:"_token",value:((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||""})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Secure Payment")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• SSL Encrypted & PCI DSS Compliant"}),e.jsx("li",{children:"• Multiple Payment Methods Supported"}),e.jsx("li",{children:"• Powered by PaymentWall"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:f,disabled:a,className:"flex-1",children:s("Cancel")}),!j&&e.jsxs(g,{disabled:!0,className:"flex-1",children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Loading...")]})]})]})]})}function fr({planId:t,planPrice:v,couponCode:d,billingCycle:h,sspaySecretKey:p,currency:P="MYR",onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(null),j=async()=>{var u;if(!p){c(s("SSPay not configured"));return}m(!0),c(null);try{const x=await(await fetch(route("sspay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:t,billing_cycle:h,coupon_code:d})})).json();if(x.success){const i=document.createElement("form");i.method="POST",i.action=x.payment_url,Object.keys(x.payment_data).forEach(o=>{const y=document.createElement("input");y.type="hidden",y.name=o,y.value=x.payment_data[o],i.appendChild(y)}),document.body.appendChild(i),i.submit()}else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("SSPay payment error:",l),c(l instanceof Error?l.message:s("Payment initialization failed")),m(!1)}},b=u=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:P}).format(u);return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("SSPay Payment")]})}),e.jsxs(R,{className:"space-y-4",children:[n&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:b(v)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),d&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",d]})]}),e.jsxs("div",{className:"bg-teal-50 p-4 rounded-lg border border-teal-200",children:[e.jsx("h4",{className:"font-medium text-teal-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-teal-800 space-y-1",children:[e.jsx("li",{children:"• Online Banking"}),e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• E-Wallets"}),e.jsx("li",{children:"• FPX"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:f,disabled:a,className:"flex-1",children:s("Cancel")}),e.jsx(g,{onClick:j,disabled:a||!p,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with SSPay")]})})]})]})]})}function jr({planId:t,planPrice:v,couponCode:d,billingCycle:h,tapSecretKey:p,currency:P="USD",onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(null),j=async()=>{var u;if(!p){c(s("Tap not configured"));return}m(!0),c(null);try{const l=document.createElement("form");l.method="POST",l.action=route("tap.create-payment");const x=document.createElement("input");x.type="hidden",x.name="_token",x.value=((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||"",l.appendChild(x);const i=document.createElement("input");i.type="hidden",i.name="plan_id",i.value=t.toString(),l.appendChild(i);const o=document.createElement("input");if(o.type="hidden",o.name="billing_cycle",o.value=h,l.appendChild(o),d){const y=document.createElement("input");y.type="hidden",y.name="coupon_code",y.value=d,l.appendChild(y)}document.body.appendChild(l),l.submit()}catch(l){console.error("Tap payment error:",l),c(l instanceof Error?l.message:s("Payment initialization failed")),m(!1)}},b=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:P}).format(u);return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Tap Payment")]})}),e.jsxs(R,{className:"space-y-4",children:[n&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:b(v)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),d&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",d]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to Tap to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Apple Pay"}),e.jsx("li",{children:"• Google Pay"}),e.jsx("li",{children:"• KNET"}),e.jsx("li",{children:"• Benefit Pay"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:f,disabled:a,className:"flex-1",children:s("Cancel")}),e.jsx(g,{onClick:j,disabled:a||!p,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with Tap")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Tap - Secure payment processing")})]})]})}function yr({planId:t,planPrice:v,couponCode:d,billingCycle:h,xenditApiKey:p,currency:P="PHP",onSuccess:w,onCancel:f}){const{t:s}=z(),[a,m]=N.useState(!1),[n,c]=N.useState(null),j=async()=>{var u;if(!p){c(s("Xendit not configured"));return}m(!0),c(null);try{const x=await(await fetch(route("xendit.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:t,billing_cycle:h,coupon_code:d})})).json();if(x.success)window.location.href=x.payment_url;else throw new Error(x.error||s("Payment creation failed"))}catch(l){console.error("Xendit payment error:",l),c(l instanceof Error?l.message:s("Payment initialization failed")),m(!1)}},b=u=>new Intl.NumberFormat("id-ID",{style:"currency",currency:P}).format(u);return e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Xendit Payment")]})}),e.jsxs(R,{className:"space-y-4",children:[n&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:n})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:b(v)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),d&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",d]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to Xendit to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Bank Transfer"}),e.jsx("li",{children:"• E-Wallets (OVO, DANA, LinkAja)"}),e.jsx("li",{children:"• Virtual Accounts"}),e.jsx("li",{children:"• Retail Outlets"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:f,disabled:a,className:"flex-1",children:s("Cancel")}),e.jsx(g,{onClick:j,disabled:a||!p,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),s("Pay with Xendit")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Xendit - Secure payment processing")})]})]})}function Nr({plan:t,billingCycle:v,paymentMethods:d,currencySymbol:h="$",onSuccess:p,onCancel:P}){const{t:w}=z(),[f,s]=N.useState(""),[a,m]=N.useState(""),[n,c]=N.useState(null),[j,b]=N.useState(!1),[u,l]=N.useState(!1),[x,i]=N.useState(Number(t.price));N.useEffect(()=>{i(Number(t.price))},[t.price]);const o=x,y=n?n.type==="percentage"?o*n.value/100:n.value:0,T=Math.max(0,o-y),M=async()=>{var E;if(!a.trim()){C.error(w("Please enter a coupon code"));return}b(!0);try{const G=await fetch(route("coupons.validate"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((E=document.querySelector('meta[name="csrf-token"]'))==null?void 0:E.getAttribute("content"))||""},body:JSON.stringify({coupon_code:a,plan_id:t.id,amount:o})}),k=await G.json();G.ok&&k.valid?(c(k.coupon),k.message?C.success(w(k.message)):C.success(w("Coupon applied successfully"))):(k.message?C.error(w(k.message)):C.error(w("Invalid coupon code")),c(null))}catch(G){G.message?C.error(w(G.message)):C.error(w("Failed to validate coupon")),c(null)}finally{b(!1)}},K=()=>{c(null),m("")},J=()=>{if(!f){C.error(w("Please select a payment method"));return}l(!0)},H=()=>{l(!1),s("")},X=d.filter(E=>E.enabled),Z=()=>{var G,k,Y,W,Q,te,ee,ne,r,_,se,re,ue,he,xe,pe,fe,je,ye,Ne,be,ve,we,ge,Pe,_e,Ce,ke,Fe,Ee,Me,Te,ze,Ae,Oe,Ie,Re,De,Be,Le,qe,Ke,$e,Ue,Xe,Ye,He,We,Je,Ve,Ge,Se,Ze,Qe,es,ss,rs,as,ts,ns,ls,cs,is,os;const E={planId:t.id,couponCode:a,billingCycle:v,onSuccess:p,onCancel:H};switch(f){case"stripe":return e.jsx(Es,{...E,stripeKey:((G=t.paymentMethods)==null?void 0:G.stripe_key)||""});case"paypal":return console.log("PayPal case - plan.paymentMethods:",t.paymentMethods),e.jsx(Ks,{...E,planPrice:T,paypalClientId:((k=t.paymentMethods)==null?void 0:k.paypal_client_id)||"",currency:((Y=t.paymentMethods)==null?void 0:Y.currency)||"USD"});case"bank":return e.jsx($s,{...E,planPrice:Number(t.price),bankDetails:((W=t.paymentMethods)==null?void 0:W.bank_detail)||""});case"razorpay":return e.jsx(Us,{...E,planPrice:Number(t.price),razorpayKey:((Q=t.paymentMethods)==null?void 0:Q.razorpay_key)||"",currency:((te=t.paymentMethods)==null?void 0:te.currency)||"INR"});case"mercadopago":return e.jsx(Xs,{...E,planPrice:Number(t.price),accessToken:((ee=t.paymentMethods)==null?void 0:ee.mercadopago_access_token)||"",currency:((ne=t.paymentMethods)==null?void 0:ne.currency)||"BRL"});case"paystack":return e.jsx(Ys,{...E,planPrice:Number(t.price),paystackKey:((r=t.paymentMethods)==null?void 0:r.paystack_public_key)||"",currency:((_=t.paymentMethods)==null?void 0:_.currency)||"NGN"});case"flutterwave":return e.jsx(Hs,{...E,planPrice:Number(t.price),flutterwaveKey:((se=t.paymentMethods)==null?void 0:se.flutterwave_public_key)||"",currency:((re=t.paymentMethods)==null?void 0:re.currency)||"NGN"});case"paytabs":return e.jsx(Ws,{...E,planPrice:Number(t.price),paytabsClientKey:"",currency:((ue=t.paymentMethods)==null?void 0:ue.currency)||"USD"});case"skrill":return e.jsx(Js,{...E,planPrice:Number(t.price),skrillMerchantId:((he=t.paymentMethods)==null?void 0:he.skrill_merchant_id)||"",currency:((xe=t.paymentMethods)==null?void 0:xe.currency)||"USD"});case"coingate":return e.jsx(Vs,{...E,planPrice:Number(t.price),coinGateApiToken:((pe=t.paymentMethods)==null?void 0:pe.coingate_api_token)||"",currency:((fe=t.paymentMethods)==null?void 0:fe.currency)||"USD"});case"payfast":return e.jsx(Gs,{...E,planPrice:Number(t.price),payfastMerchantId:((je=t.paymentMethods)==null?void 0:je.payfast_merchant_id)||"",currency:((ye=t.paymentMethods)==null?void 0:ye.currency)||"ZAR"});case"toyyibpay":return e.jsx(Ss,{...E,planPrice:Number(t.price),toyyibpayCategoryCode:((Ne=t.paymentMethods)==null?void 0:Ne.toyyibpay_category_code)||"",currency:((be=t.paymentMethods)==null?void 0:be.currency)||"MYR"});case"paytr":return e.jsx(Zs,{...E,planPrice:Number(t.price),paytrMerchantId:((ve=t.paymentMethods)==null?void 0:ve.paytr_merchant_id)||"",currency:((we=t.paymentMethods)==null?void 0:we.currency)||"TRY"});case"mollie":return e.jsx(Qs,{...E,planPrice:Number(t.price),mollieApiKey:((ge=t.paymentMethods)==null?void 0:ge.mollie_api_key)||"",currency:((Pe=t.paymentMethods)==null?void 0:Pe.currency)||"EUR"});case"cashfree":return e.jsx(er,{...E,planPrice:Number(t.price),cashfreeAppId:((_e=t.paymentMethods)==null?void 0:_e.cashfree_public_key)||"",mode:((Ce=t.paymentMethods)==null?void 0:Ce.cashfree_mode)||"sandbox",currency:((ke=t.paymentMethods)==null?void 0:ke.currency)||"INR"});case"iyzipay":return e.jsx(sr,{...E,planPrice:Number(t.price),iyzipayPublicKey:((Fe=t.paymentMethods)==null?void 0:Fe.iyzipay_public_key)||"",currency:((Ee=t.paymentMethods)==null?void 0:Ee.currency)||"USD"});case"benefit":return e.jsx(rr,{...E,planPrice:Number(t.price),benefitPublicKey:((Me=t.paymentMethods)==null?void 0:Me.benefit_public_key)||"",currency:((Te=t.paymentMethods)==null?void 0:Te.currency)||"BHD"});case"ozow":return e.jsx(ar,{...E,planPrice:Number(t.price),ozowSiteKey:((ze=t.paymentMethods)==null?void 0:ze.ozow_site_key)||"",currency:((Ae=t.paymentMethods)==null?void 0:Ae.currency)||"ZAR"});case"easebuzz":return e.jsx(tr,{...E,planPrice:Number(t.price),easebuzzMerchantKey:((Oe=t.paymentMethods)==null?void 0:Oe.easebuzz_merchant_key)||"",currency:((Ie=t.paymentMethods)==null?void 0:Ie.currency)||"INR"});case"khalti":return e.jsx(nr,{...E,planPrice:Number(t.price),khaltiPublicKey:((Re=t.paymentMethods)==null?void 0:Re.khalti_public_key)||"",currency:((De=t.paymentMethods)==null?void 0:De.currency)||"NPR"});case"authorizenet":return e.jsx(lr,{...E,planPrice:Number(t.price),authorizenetMerchantId:((Be=t.paymentMethods)==null?void 0:Be.authorizenet_merchant_id)||"",currency:((Le=t.paymentMethods)==null?void 0:Le.currency)||"USD"});case"fedapay":return e.jsx(cr,{...E,planPrice:Number(t.price),fedapayPublicKey:((qe=t.paymentMethods)==null?void 0:qe.fedapay_public_key)||"",currency:((Ke=t.paymentMethods)==null?void 0:Ke.currency)||"XOF"});case"payhere":return e.jsx(ir,{...E,planPrice:Number(t.price),payhereMerchantId:(($e=t.paymentMethods)==null?void 0:$e.payhere_merchant_id)||"",currency:((Ue=t.paymentMethods)==null?void 0:Ue.currency)||"LKR"});case"cinetpay":return e.jsx(or,{...E,planPrice:Number(t.price),cinetpaySiteId:((Xe=t.paymentMethods)==null?void 0:Xe.cinetpay_site_id)||"",currency:((Ye=t.paymentMethods)==null?void 0:Ye.currency)||"XOF"});case"paiement":return e.jsx(dr,{...E,planPrice:Number(t.price),paiementMerchantId:((He=t.paymentMethods)==null?void 0:He.paiement_merchant_id)||"",currency:((We=t.paymentMethods)==null?void 0:We.currency)||"XOF"});case"nepalste":return e.jsx(mr,{...E,planPrice:Number(t.price),nepalstePublicKey:((Je=t.paymentMethods)==null?void 0:Je.nepalste_public_key)||"",currency:((Ve=t.paymentMethods)==null?void 0:Ve.currency)||"NPR"});case"yookassa":return e.jsx(ur,{...E,planPrice:Number(t.price),yookassaShopId:((Ge=t.paymentMethods)==null?void 0:Ge.yookassa_shop_id)||"",currency:((Se=t.paymentMethods)==null?void 0:Se.currency)||"RUB"});case"aamarpay":return e.jsx(hr,{...E,planPrice:Number(t.price),aamarpayStoreId:((Ze=t.paymentMethods)==null?void 0:Ze.aamarpay_store_id)||"",currency:((Qe=t.paymentMethods)==null?void 0:Qe.currency)||"BDT"});case"midtrans":return e.jsx(xr,{...E,planPrice:Number(t.price),midtransSecretKey:((es=t.paymentMethods)==null?void 0:es.midtrans_secret_key)||"",currency:((ss=t.paymentMethods)==null?void 0:ss.currency)||"IDR"});case"paymentwall":return e.jsx(pr,{...E,planPrice:Number(t.price),paymentwallPublicKey:((rs=t.paymentMethods)==null?void 0:rs.paymentwall_public_key)||"",currency:((as=t.paymentMethods)==null?void 0:as.currency)||"USD"});case"sspay":return e.jsx(fr,{...E,planPrice:Number(t.price),sspaySecretKey:((ts=t.paymentMethods)==null?void 0:ts.sspay_secret_key)||"",currency:((ns=t.paymentMethods)==null?void 0:ns.currency)||"MYR"});case"tap":return e.jsx(jr,{...E,planPrice:Number(t.price),tapSecretKey:((ls=t.paymentMethods)==null?void 0:ls.tap_secret_key)||"",currency:((cs=t.paymentMethods)==null?void 0:cs.currency)||"USD"});case"xendit":return e.jsx(yr,{...E,planPrice:Number(t.price),xenditApiKey:((is=t.paymentMethods)==null?void 0:is.xendit_api_key)||"",currency:((os=t.paymentMethods)==null?void 0:os.currency)||"PHP"});default:return null}};return u?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium",children:w("Complete Payment")}),e.jsx(g,{variant:"outline",size:"sm",onClick:H,children:w("Back")})]}),Z()]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(I,{children:e.jsx(R,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:t.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[w(v)," ",w("subscription")]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold",children:[h," ",t.price]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["/",w(v)]})]})]})})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx($,{children:w("Select Payment Method")}),X.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:w("No payment methods available")}):e.jsx("div",{className:"space-y-2",children:X.map((E,G)=>e.jsx(I,{className:`cursor-pointer transition-colors ${f===E.id?"border-primary bg-primary/5":"hover:border-gray-300"}`,onClick:()=>s(E.id),children:e.jsx(R,{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-primary",children:E.icon}),e.jsx("span",{className:"font-medium",children:E.name}),f===E.id&&e.jsx(hs,{variant:"secondary",className:"ml-auto",children:w("Selected")})]})})},`${E.id}-${G}`))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs($,{htmlFor:"coupon",children:[w("Coupon Code")," (",w("Optional"),")"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(U,{id:"coupon",value:a,onChange:E=>m(E.target.value),placeholder:w("Enter coupon code"),className:"pr-10",disabled:!!n}),e.jsx(zs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}),n?e.jsx(g,{type:"button",variant:"outline",onClick:K,children:w("Remove")}):e.jsx(g,{type:"button",variant:"outline",onClick:M,disabled:!a.trim()||j,children:j?e.jsx(B,{className:"h-4 w-4 animate-spin"}):w("Apply")})]}),n&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-green-700 font-medium",children:[w("Coupon Applied"),": ",n.code]}),e.jsxs("span",{className:"text-green-600",children:["-",n.type==="percentage"?`${n.value}%`:`${h}${n.value}`]})]})})]}),e.jsx(I,{children:e.jsx(R,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:w("Subtotal")}),e.jsxs("span",{children:[h,o]})]}),n&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:w("Discount")}),e.jsxs("span",{children:["-",h,y]})]}),e.jsx("div",{className:"border-t pt-2",children:e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:w("Total")}),e.jsxs("span",{children:[h,T.toFixed(2)]})]})})]})})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:P,className:"flex-1",children:w("Cancel")}),e.jsxs(g,{onClick:J,disabled:X.length===0,className:"flex-1",children:[w("Pay")," ",h," ",T]})]})]})}function br({isOpen:t,onClose:v,plan:d,billingCycle:h,paymentMethods:p,currencySymbol:P}){const{t:w}=z(),f=()=>{v(),window.location.reload()},s=p.filter(a=>a.enabled);return e.jsx(fs,{open:t,onOpenChange:v,children:e.jsxs(js,{className:"max-w-md max-h-[90vh] flex flex-col",children:[e.jsx(ys,{className:"flex-shrink-0",children:e.jsx(Ns,{children:w("Subscribe to {{planName}}",{planName:d.name})})}),e.jsx("div",{className:"overflow-y-auto flex-1 pr-2",children:e.jsx(Nr,{plan:d,billingCycle:h,paymentMethods:s,currencySymbol:P,onSuccess:f,onCancel:v})})]})})}function ha({plans:t,billingCycle:v="monthly",hasDefaultPlan:d,isAdmin:h=!1,currentPlan:p,userTrialUsed:P,paymentMethods:w=[],currency:f,currencySymbol:s}){const{t:a}=z(),{flash:m}=bs().props,[n,c]=N.useState(t),[j,b]=N.useState(v),[u,l]=N.useState(!1),[x,i]=N.useState(null),[o,y]=N.useState(!1),[T,M]=N.useState(null),{processing:K}=vs();N.useEffect(()=>{c(t)},[t]),N.useEffect(()=>{if(T&&o){const r=n.find(_=>_.id===T.id);r&&r.price!==T.price&&M({...r,paymentMethods:T.paymentMethods})}},[n,o]),N.useEffect(()=>{m!=null&&m.error&&C.error(m.error),m!=null&&m.success&&C.success(m.success)},[m]);const J=r=>{b(r),S.get(route("plans.index"),{billing_cycle:r},{preserveState:!0})},H=r=>{C.loading(a("Submitting plan request...")),S.post(route("plans.request"),{plan_id:r,billing_cycle:j},{onSuccess:_=>{C.dismiss(),_.props.flash.success?C.success(a(_.props.flash.success)):_.props.flash.error&&C.error(a(_.props.flash.error))},onError:_=>{C.dismiss(),typeof _=="string"?C.error(_):C.error(`Failed to submit plan request: ${Object.values(_).join(", ")}`)}})},X=r=>{C.loading(a("Starting trial...")),S.post(route("plans.trial"),{plan_id:r},{onSuccess:_=>{C.dismiss(),_.props.flash.success?C.success(a(_.props.flash.success)):_.props.flash.error&&C.error(a(_.props.flash.error))},onError:_=>{C.dismiss(),typeof _=="string"?C.error(_):C.error(`Failed to start trial: ${Object.values(_).join(", ")}`)}})},Z=async r=>{const _=n.find(se=>se.id===r);if(_)try{const re=await(await fetch(route("payment.methods"))).json();M({..._,paymentMethods:re}),y(!0)}catch{C.error(a("Failed to load payment methods"))}},E=r=>{const _=[];return((r==null?void 0:r.is_bank_enabled)===!0||(r==null?void 0:r.is_bank_enabled)==="1")&&_.push({id:"bank",name:a("Bank Transfer"),icon:e.jsx(Ts,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_stripe_enabled)===!0||(r==null?void 0:r.is_stripe_enabled)==="1")&&_.push({id:"stripe",name:a("Stripe"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_paypal_enabled)===!0||(r==null?void 0:r.is_paypal_enabled)==="1")&&_.push({id:"paypal",name:a("PayPal"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_razorpay_enabled)===!0||(r==null?void 0:r.is_razorpay_enabled)==="1")&&_.push({id:"razorpay",name:a("Razorpay"),icon:e.jsx(ce,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_mercadopago_enabled)===!0||(r==null?void 0:r.is_mercadopago_enabled)==="1")&&_.push({id:"mercadopago",name:a("MercadoPago"),icon:e.jsx(ie,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_paystack_enabled)===!0||(r==null?void 0:r.is_paystack_enabled)==="1")&&_.push({id:"paystack",name:a("Paystack"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_flutterwave_enabled)===!0||(r==null?void 0:r.is_flutterwave_enabled)==="1")&&_.push({id:"flutterwave",name:a("Flutterwave"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_paytabs_enabled)===!0||(r==null?void 0:r.is_paytabs_enabled)==="1")&&_.push({id:"paytabs",name:a("PayTabs"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_skrill_enabled)===!0||(r==null?void 0:r.is_skrill_enabled)==="1")&&_.push({id:"skrill",name:a("Skrill"),icon:e.jsx(ie,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_coingate_enabled)===!0||(r==null?void 0:r.is_coingate_enabled)==="1")&&_.push({id:"coingate",name:a("CoinGate"),icon:e.jsx(oe,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_payfast_enabled)===!0||(r==null?void 0:r.is_payfast_enabled)==="1")&&_.push({id:"payfast",name:a("Payfast"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_tap_enabled)===!0||(r==null?void 0:r.is_tap_enabled)==="1")&&_.push({id:"tap",name:a("Tap"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_xendit_enabled)===!0||(r==null?void 0:r.is_xendit_enabled)==="1")&&_.push({id:"xendit",name:a("Xendit"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_paytr_enabled)===!0||(r==null?void 0:r.is_paytr_enabled)==="1")&&_.push({id:"paytr",name:a("PayTR"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_mollie_enabled)===!0||(r==null?void 0:r.is_mollie_enabled)==="1")&&_.push({id:"mollie",name:a("Mollie"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_toyyibpay_enabled)===!0||(r==null?void 0:r.is_toyyibpay_enabled)==="1")&&_.push({id:"toyyibpay",name:a("toyyibPay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_cashfree_enabled)===!0||(r==null?void 0:r.is_cashfree_enabled)==="1")&&_.push({id:"cashfree",name:a("Cashfree"),icon:e.jsx(ce,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_khalti_enabled)===!0||(r==null?void 0:r.is_khalti_enabled)==="1")&&_.push({id:"khalti",name:a("Khalti"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_iyzipay_enabled)===!0||(r==null?void 0:r.is_iyzipay_enabled)==="1")&&_.push({id:"iyzipay",name:a("Iyzipay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_benefit_enabled)===!0||(r==null?void 0:r.is_benefit_enabled)==="1")&&_.push({id:"benefit",name:a("Benefit"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_ozow_enabled)===!0||(r==null?void 0:r.is_ozow_enabled)==="1")&&_.push({id:"ozow",name:a("Ozow"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_easebuzz_enabled)===!0||(r==null?void 0:r.is_easebuzz_enabled)==="1")&&_.push({id:"easebuzz",name:a("Easebuzz"),icon:e.jsx(ce,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_authorizenet_enabled)===!0||(r==null?void 0:r.is_authorizenet_enabled)==="1")&&_.push({id:"authorizenet",name:a("AuthorizeNet"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_fedapay_enabled)===!0||(r==null?void 0:r.is_fedapay_enabled)==="1")&&_.push({id:"fedapay",name:a("FedaPay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_payhere_enabled)===!0||(r==null?void 0:r.is_payhere_enabled)==="1")&&_.push({id:"payhere",name:a("PayHere"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_cinetpay_enabled)===!0||(r==null?void 0:r.is_cinetpay_enabled)==="1")&&_.push({id:"cinetpay",name:a("CinetPay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_paiement_enabled)===!0||(r==null?void 0:r.is_paiement_enabled)==="1")&&_.push({id:"paiement",name:a("Paiement Pro"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_nepalste_enabled)===!0||(r==null?void 0:r.is_nepalste_enabled)==="1")&&_.push({id:"nepalste",name:a("Nepalste"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_yookassa_enabled)===!0||(r==null?void 0:r.is_yookassa_enabled)==="1")&&_.push({id:"yookassa",name:a("YooKassa"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_aamarpay_enabled)===!0||(r==null?void 0:r.is_aamarpay_enabled)==="1")&&_.push({id:"aamarpay",name:a("Aamarpay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_midtrans_enabled)===!0||(r==null?void 0:r.is_midtrans_enabled)==="1")&&_.push({id:"midtrans",name:a("Midtrans"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_paymentwall_enabled)===!0||(r==null?void 0:r.is_paymentwall_enabled)==="1")&&_.push({id:"paymentwall",name:a("PaymentWall"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_sspay_enabled)===!0||(r==null?void 0:r.is_sspay_enabled)==="1")&&_.push({id:"sspay",name:a("SSPay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),_},G=r=>p&&p.id===r.id&&p.expires_at&&new Date(p.expires_at)>new Date?e.jsxs(g,{disabled:!0,className:"w-full bg-green-100 text-green-800 border-green-200",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),a("Already Subscribed")]}):r.is_current?e.jsxs(g,{disabled:!0,className:"w-full",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),a("Current Plan")]}):r.is_trial_available&&!P?e.jsxs("div",{className:"space-y-2",children:[e.jsxs(g,{onClick:()=>X(r.id),disabled:K,variant:"outline",className:"w-full",children:[e.jsx(Rs,{className:"h-4 w-4 mr-2"}),a("Start {{days}} Day Trial",{days:r.trial_days})]}),e.jsx(g,{onClick:()=>Z(r.id),disabled:K,className:"w-full",children:a("Subscribe Now")})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs(g,{onClick:()=>H(r.id),disabled:K,variant:"outline",className:"w-full",children:[e.jsx(Ds,{className:"h-4 w-4 mr-2"}),a("Request Plan")]}),e.jsx(g,{onClick:()=>Z(r.id),disabled:K||p&&p.id===r.id&&p.expires_at&&new Date(p.expires_at)>new Date,className:"w-full",children:p&&p.id===r.id&&p.expires_at&&new Date(p.expires_at)>new Date?a("Already Subscribed"):a("Subscribe Now")})]}),k=(r,_)=>r.features.includes(_),Y=r=>{S.post(route("plans.toggle-status",r),{},{preserveState:!0,onSuccess:()=>{c(n.map(_=>_.id===r?{..._,status:!_.status}:_))}})},W=r=>{i(r),l(!0)},Q=()=>{x&&S.delete(route("plans.destroy",x.id),{onSuccess:()=>{l(!1),i(null)}})},te=["AI Integration"],ee={users:e.jsx(qs,{className:"h-5 w-5"}),projects:e.jsx(Os,{className:"h-5 w-5"}),contacts:e.jsx(Ls,{className:"h-5 w-5"}),accounts:e.jsx(As,{className:"h-5 w-5"}),storage:e.jsx(Bs,{className:"h-5 w-5"})},ne=[{title:a("Dashboard"),href:route("dashboard")},{title:a("Plans")}];return e.jsx(ps,{title:a("Plans"),description:a("Manage subscription plans for your customers"),url:"/plans",breadcrumbs:ne,children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:a(h?"Subscription Plans":"Choose Your Plan")}),e.jsx("p",{className:"text-muted-foreground max-w-2xl",children:a(h?"Create and manage subscription plans to offer different service tiers to your customers.":"Select the perfect plan for your business needs")})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx(Cs,{value:j,onValueChange:r=>J(r),className:"w-full sm:w-[400px]",children:e.jsxs(ks,{className:"grid w-full grid-cols-2",children:[e.jsx(ms,{value:"monthly",children:a("Monthly")}),e.jsxs(ms,{value:"yearly",children:[a("Yearly"),e.jsx(hs,{variant:"outline",className:"ml-2 bg-green-100 text-green-800 border-green-200",children:a("Save 20%")})]})]})}),h&&e.jsxs(g,{className:"w-full sm:w-auto",onClick:()=>S.get(route("plans.create")),children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),a("Add Plan")]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(r=>e.jsxs("div",{className:`group relative h-full flex flex-col ${r.recommended?"z-10 scale-[1.02]":""}`,children:[e.jsxs("div",{className:`
                absolute inset-0 rounded-2xl
                ${r.recommended?"bg-gradient-to-br from-primary/20 via-primary/10 to-transparent border-primary/30":"bg-gradient-to-br from-gray-100/80 via-gray-50/50 to-transparent border-gray-200/80"}
                border shadow-lg transition-all duration-300
                group-hover:shadow-xl group-hover:shadow-primary/5
                overflow-hidden
              `,children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full -mr-16 -mt-16 opacity-70"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-primary/10 to-transparent rounded-full -ml-12 -mb-12 opacity-50"})]}),r.recommended&&e.jsx("div",{className:"absolute -top-4 left-0 right-0 flex justify-center z-20",children:e.jsxs("div",{className:"bg-primary text-primary-foreground px-4 py-1.5 rounded-full shadow-lg flex items-center gap-1.5 text-sm font-medium",children:[e.jsx(ds,{className:"h-4 w-4"}),a("Recommended")]})}),h&&e.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[r.is_default&&e.jsx("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:a("Default")}),e.jsxs("div",{className:`
                    flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium
                    ${r.status?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}
                  `,children:[e.jsx("span",{className:`
                      w-2 h-2 rounded-full
                      ${r.status?"bg-emerald-500":"bg-red-500"}
                    `}),r.status?a("Active"):a("Inactive")]})]}),!h&&r.is_current&&e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-primary/10 text-primary",children:[e.jsx(le,{className:"h-3 w-3"}),a("Current")]})}),e.jsxs("div",{className:"relative z-10 flex flex-col h-full p-6 pt-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`
                    text-2xl font-bold mb-2
                    ${r.recommended?"text-primary":""}
                  `,children:r.name}),e.jsxs("div",{className:"flex items-baseline gap-1.5 mb-3",children:[e.jsxs("span",{className:`
                      text-3xl font-extrabold
                      ${r.recommended?"text-primary":""}
                    `,children:[s,r.price]}),e.jsxs("span",{className:"text-muted-foreground text-sm",children:["/",a(r.duration.toLowerCase())]})]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed line-clamp-2 mb-3",children:r.description}),r.trial_days>0&&e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-primary",children:[e.jsx(ds,{className:"h-3.5 w-3.5"}),a("{{days}} days free trial",{days:r.trial_days})]})]}),e.jsxs("div",{className:"relative flex items-center my-4",children:[e.jsx("div",{className:"flex-grow border-t border-gray-200"}),e.jsx("div",{className:"mx-3 bg-primary/10 text-primary p-1.5 rounded-full",children:e.jsx(us,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),e.jsxs("div",{className:"mb-6 flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:a("Features")}),e.jsx("ul",{className:"space-y-2.5",children:te.map((_,se)=>{const re=k(r,_);return e.jsxs("li",{className:"flex items-center gap-3",children:[re?e.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:e.jsx(us,{className:"h-3.5 w-3.5"})}):e.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-gray-100 text-gray-400 flex items-center justify-center",children:e.jsx(gs,{className:"h-3.5 w-3.5"})}),e.jsx("span",{className:`text-sm ${re?"font-medium":"text-muted-foreground"}`,children:a(_)})]},se)})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:a("Usage Limits")}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-emerald-100 text-emerald-600",children:ee.users}),e.jsx("div",{className:"text-xl font-bold text-emerald-700",children:r.stats.users})]}),e.jsx("div",{className:"relative text-xs font-medium text-emerald-600 uppercase tracking-wide",children:a("Users")})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-indigo-100 text-indigo-600",children:ee.projects}),e.jsx("div",{className:"text-xl font-bold text-indigo-700",children:r.stats.projects})]}),e.jsx("div",{className:"relative text-xs font-medium text-indigo-600 uppercase tracking-wide",children:a("Projects")})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-rose-100 text-rose-600",children:ee.contacts}),e.jsx("div",{className:"text-xl font-bold text-rose-700",children:r.stats.contacts})]}),e.jsx("div",{className:"relative text-xs font-medium text-rose-600 uppercase tracking-wide",children:a("Contacts")})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-teal-100 text-teal-600",children:ee.accounts}),e.jsx("div",{className:"text-xl font-bold text-teal-700",children:r.stats.accounts})]}),e.jsx("div",{className:"relative text-xs font-medium text-teal-600 uppercase tracking-wide",children:a("Accounts")})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-amber-100 text-amber-600",children:ee.storage}),e.jsx("div",{className:"text-xl font-bold text-amber-700",children:r.stats.storage})]}),e.jsx("div",{className:"relative text-xs font-medium text-amber-600 uppercase tracking-wide",children:a("Storage")})]})]})]}),e.jsx("div",{className:"mt-auto pt-4 border-t border-gray-200",children:h?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_s,{checked:r.status,onCheckedChange:()=>Y(r.id),className:r.status?"data-[state=checked]:bg-primary":""}),e.jsx("span",{className:"text-sm text-muted-foreground",children:r.status?a("Active"):a("Inactive")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{variant:"outline",size:"sm",className:"h-9 w-9 p-0 border-gray-200 hover:border-primary hover:text-primary",title:a("Edit"),onClick:()=>S.get(route("plans.edit",r.id)),children:e.jsx(Is,{className:"h-4 w-4"})}),!r.is_default&&e.jsx(g,{variant:"outline",size:"sm",className:"h-9 w-9 p-0 border-gray-200 hover:border-red-400 hover:text-red-600",title:a("Delete"),onClick:()=>W(r),children:e.jsx(Ps,{className:"h-4 w-4"})})]})]}):G(r)})]})]},r.id))}),h&&e.jsx(Fs,{isOpen:u,onClose:()=>l(!1),onConfirm:Q,itemName:(x==null?void 0:x.name)||"",entityName:"plan"}),!h&&T&&e.jsx(br,{isOpen:o,onClose:()=>{y(!1),M(null)},plan:T,billingCycle:j,currencySymbol:s,paymentMethods:E(T.paymentMethods)})]})})}export{ha as default};
