import{r as y,j as t}from"./ui-C-VW1P-5.js";import{P as j}from"./page-template-CDM26U5Q.js";import{u as f,K as C,B as l,C as w}from"./app-BQKKzqf3.js";import{R as N,S as v,C as b}from"./chart-card-CyAdBHsb.js";import{U as S}from"./users-CrY8npWB.js";import{a as _,U as k}from"./user-plus-BGAma7su.js";import{D as L}from"./dollar-sign-BO1aYhXH.js";import{R,C as D,X as T,Y as U,T as P}from"./CartesianChart-CxEwSF5A.js";import{L as $,a as A}from"./LineChart-DRGYODMI.js";import"./vendor-CxtKjBZA.js";import"./textarea-BvlD1v8z.js";import"./select-ivmaqUw7.js";import"./index-IS-ASe-l.js";import"./chevron-up-5kET5X99.js";import"./react-country-flag.esm-B_SRkH7q.js";import"./language-BbwPiY59.js";import"./loader-circle-DlS76Sc1.js";import"./copy-D-hAzd4M.js";import"./language-switcher-BX314FqS.js";import"./switch-T0u5R7d_.js";import"./refresh-cw-BnxOCyDc.js";import"./globe-BSt65iB3.js";import"./settings-G3vQs6CU.js";import"./chevron-right-C7M1oeKV.js";import"./credit-card-CmRw-oUn.js";import"./mail-DI9tSiFs.js";import"./package-BHhWwbAI.js";import"./calendar-BZ7v_rN9.js";import"./phone-B9JuG5Em.js";import"./trending-up-BUQ_r1Kz.js";import"./user-B-NTs7Zv.js";import"./use-favicon-D-Hpb8YY.js";import"./utils-DCj7OOX3.js";function ut(){var i;const{t:e}=f(),{filters:m,summary:a,monthlyData:c,dailyData:p,topContacts:d}=C().props,[r,o]=y.useState("monthly"),x=r==="daily"?p:c,h=[{title:e("Dashboard"),href:route("dashboard")},{title:e("Reports"),href:"#"},{title:e("Contact Reports")}],u=[{title:e("Total Contacts"),value:a.total_contacts.toLocaleString(),icon:t.jsx(S,{className:"h-6 w-6 text-blue-600"}),iconColor:"bg-blue-100"},{title:e("New Contacts"),value:a.new_contacts.toLocaleString(),icon:t.jsx(_,{className:"h-6 w-6 text-green-600"}),iconColor:"bg-green-100"},{title:e("Active Contacts"),value:a.active_contacts.toLocaleString(),icon:t.jsx(k,{className:"h-6 w-6 text-purple-600"}),iconColor:"bg-purple-100"},{title:e("Contact Lifetime Value"),value:((i=window.appSettings)==null?void 0:i.formatCurrency(a.contact_lifetime_value))||`$${a.contact_lifetime_value.toLocaleString()}`,icon:t.jsx(L,{className:"h-6 w-6 text-orange-600"}),iconColor:"bg-orange-100"}];return t.jsxs(j,{title:e("Contact Reports"),url:"/reports/customers",breadcrumbs:h,noPadding:!0,children:[t.jsx(N,{filters:m}),t.jsx(v,{cards:u}),t.jsx("div",{className:"grid grid-cols-1 gap-6 mb-6",children:t.jsx(b,{title:e("Contact Growth"),actions:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(l,{size:"sm",variant:r==="daily"?"default":"outline",onClick:()=>o("daily"),children:e("Daily")}),t.jsx(l,{size:"sm",variant:r==="monthly"?"default":"outline",onClick:()=>o("monthly"),children:e("Monthly")})]}),children:t.jsx(R,{width:"100%",height:300,children:t.jsxs($,{data:x,children:[t.jsx(D,{strokeDasharray:"3 3"}),t.jsx(T,{dataKey:"period"}),t.jsx(U,{}),t.jsx(P,{}),t.jsx(A,{type:"monotone",dataKey:"count",stroke:"#8884d8",strokeWidth:2})]})})})}),t.jsxs(w,{className:"p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("Top Contacts")}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("Contact Name")}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("Total Spent")}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("Order Count")})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map((s,g)=>{var n;return t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.name}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-semibold",children:((n=window.appSettings)==null?void 0:n.formatCurrency(s.total_spent))||`$${s.total_spent.toLocaleString()}`}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.order_count})]},g)})})]})})]})]})}export{ut as default};
