import{j as e}from"./ui-C-VW1P-5.js";import{u as p,m as x,C as g,a as j,b as f,c as _,L as d,I as c,B as v,t}from"./app-BQKKzqf3.js";import{T as b}from"./textarea-BvlD1v8z.js";import{S as C}from"./switch-T0u5R7d_.js";import"./vendor-CxtKjBZA.js";import"./utils-DCj7OOX3.js";function E({settings:n}){const{t:s}=p(),{data:l,setData:o,post:h,processing:m,errors:a}=x({is_enabled:n.is_enabled,commission_percentage:n.commission_percentage,threshold_amount:n.threshold_amount,guidelines:n.guidelines||""}),u=r=>{r.preventDefault(),h(route("referral.settings.update"),{preserveScroll:!0,onSuccess:i=>{t.dismiss(),i.props.flash.success?t.success(s(i.props.flash.success)):i.props.flash.error&&t.error(s(i.props.flash.error))},onError:i=>{t.dismiss(),typeof i=="string"?t.error(i):t.error(`Failed to update referral settings: ${Object.values(i).join(", ")}`)}})};return e.jsxs(g,{children:[e.jsx(j,{children:e.jsx(f,{children:s("Referral Program Settings")})}),e.jsx(_,{children:e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{id:"is_enabled",checked:l.is_enabled,onCheckedChange:r=>o("is_enabled",r)}),e.jsx(d,{htmlFor:"is_enabled",children:s("Enable Referral Program")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"commission_percentage",children:s("Commission Percentage (%)")}),e.jsx(c,{id:"commission_percentage",type:"number",step:"0.01",min:"0",max:"100",value:l.commission_percentage,onChange:r=>o("commission_percentage",r.target.value)}),a.commission_percentage&&e.jsx("p",{className:"text-sm text-red-500",children:a.commission_percentage})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"threshold_amount",children:s("Minimum Threshold Amount ($)")}),e.jsx(c,{id:"threshold_amount",type:"number",step:"0.01",min:"0",value:l.threshold_amount,onChange:r=>o("threshold_amount",r.target.value)}),a.threshold_amount&&e.jsx("p",{className:"text-sm text-red-500",children:a.threshold_amount})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"guidelines",children:s("Referral Guidelines")}),e.jsx(b,{id:"guidelines",value:l.guidelines,onChange:r=>o("guidelines",r.target.value),placeholder:s("Enter referral program guidelines and terms..."),rows:6}),a.guidelines&&e.jsx("p",{className:"text-sm text-red-500",children:a.guidelines})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(v,{type:"submit",disabled:m,children:s(m?"Saving...":"Save Settings")})})]})})]})}export{E as default};
