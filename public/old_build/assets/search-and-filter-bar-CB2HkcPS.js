import{r as f,j as e}from"./ui-C-VW1P-5.js";import{I as L,u as M,a7 as g,B as n,L as N}from"./app-BQKKzqf3.js";import{S as y,a as b,b as C,c as w,d as S}from"./select-ivmaqUw7.js";import{a as k}from"./utils-DCj7OOX3.js";import{C as V}from"./calendar-BZ7v_rN9.js";import{F as B,G as E,C as R}from"./grid-3x3-B93v7dH2.js";import{L as T}from"./list-D15qstQa.js";import{L as X}from"./page-template-CDM26U5Q.js";function A({selected:l,onSelect:t,onChange:i,placeholder:u="Pick a date",disabled:d=!1}){const[o,c]=f.useState(l?k(l,"yyyy-MM-dd"):""),h=m=>{if(c(m.target.value),m.target.value){const x=new Date(m.target.value);t&&t(x),i&&i(x)}else t&&t(void 0),i&&i(void 0)};return f.useEffect(()=>{c(l?k(l,"yyyy-MM-dd"):"")},[l]),e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(L,{type:"date",value:o,onChange:h,className:"pl-9 w-[240px]",disabled:d})]})}function U({searchTerm:l,onSearchChange:t,onSearch:i,filters:u=[],showFilters:d,setShowFilters:o,hasActiveFilters:c,activeFilterCount:h,onResetFilters:m,onApplyFilters:x,perPageOptions:z=[10,25,50,100],currentPerPage:j,onPerPageChange:v,showViewToggle:G=!1,activeView:D="list",onViewChange:p,viewOptions:F=[{value:"list",label:"List View",icon:"List"},{value:"grid",label:"Grid View",icon:"Grid3X3"}],customActions:I=[]}){const{t:a}=M();return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("form",{onSubmit:i,className:"flex gap-2",children:[e.jsxs("div",{className:"relative w-64",children:[e.jsx(g,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(L,{placeholder:a("Search..."),value:l,onChange:s=>t(s.target.value),className:"w-full pl-9"})]}),e.jsxs(n,{type:"submit",size:"sm",children:[e.jsx(g,{className:"h-4 w-4 mr-1.5"}),a("Search")]})]}),u.length>0&&e.jsx("div",{className:"ml-2",children:e.jsxs(n,{variant:"default",size:"sm",className:"h-8 px-2 py-1",onClick:()=>o(!d),children:[e.jsx(B,{className:"h-3.5 w-3.5 mr-1.5"}),a(d?"Hide Filters":"Filters"),c()&&e.jsx("span",{className:"ml-1 bg-primary-foreground text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs",children:h()})]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[G&&p&&e.jsx("div",{className:"border rounded-md p-0.5 mr-2",children:F.map(s=>{const r=s.icon==="List"?T:s.icon==="Grid3X3"?E:s.icon==="Columns"?R:X;return e.jsx(n,{size:"sm",variant:D===s.value?"default":"ghost",className:"h-7 px-2",onClick:()=>p(s.value),title:s.label,children:e.jsx(r,{className:"h-4 w-4"})},s.value)})}),I.map((s,r)=>e.jsxs(n,{variant:"outline",size:"sm",onClick:s.onClick,className:"h-8",children:[s.icon,e.jsx("span",{className:"ml-1.5",children:s.label})]},r)),j&&v&&e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"text-xs text-muted-foreground",children:a("Per Page:")}),e.jsxs(y,{value:j,onValueChange:v,children:[e.jsx(b,{className:"w-16 h-8",children:e.jsx(C,{})}),e.jsx(w,{children:z.map(s=>e.jsx(S,{value:s.toString(),children:s},s))})]})]})]})]}),d&&u.length>0&&e.jsx("div",{className:"w-full mt-3 p-4 bg-gray-50 dark:bg-gray-800 border dark:border-gray-700 rounded-md",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[u.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{children:s.label}),s.type==="select"&&s.options&&e.jsxs(y,{value:s.value,onValueChange:s.onChange,children:[e.jsx(b,{className:"w-40",children:e.jsx(C,{placeholder:a(`All ${s.label}`)})}),e.jsx(w,{children:s.options.map(r=>e.jsx(S,{value:r.value,children:r.label},r.value))})]}),s.type==="date"&&e.jsx(A,{selected:s.value,onSelect:s.onChange,onChange:s.onChange})]},s.name)),e.jsxs("div",{className:"flex gap-2",children:[x&&e.jsx(n,{variant:"default",size:"sm",className:"h-9",onClick:x,children:a("Apply Filters")}),e.jsx(n,{variant:"outline",size:"sm",className:"h-9",onClick:m,disabled:!c(),children:a("Reset Filters")})]})]})})]})}export{U as S};
