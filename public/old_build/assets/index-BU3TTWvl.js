import{r as l,j as e}from"./ui-C-VW1P-5.js";import{P as S}from"./page-template-CDM26U5Q.js";import{u as q,K as P,B as j,g as T}from"./app-BQKKzqf3.js";import{S as E}from"./scroll-area-vUH8MN0-.js";import{T as C}from"./toaster-zWCFcb7V.js";import k from"./referral-dashboard-D0P7i_Kj.js";import D from"./payout-requests-ZCFAKf0R.js";import I from"./referral-settings-C7WBbS-9.js";import{C as U}from"./chart-column-DLMw04GC.js";import{U as B}from"./users-CrY8npWB.js";import{D as L}from"./dollar-sign-BO1aYhXH.js";import{S as A}from"./settings-G3vQs6CU.js";import"./vendor-CxtKjBZA.js";import"./textarea-BvlD1v8z.js";import"./select-ivmaqUw7.js";import"./index-IS-ASe-l.js";import"./chevron-up-5kET5X99.js";import"./react-country-flag.esm-B_SRkH7q.js";import"./language-BbwPiY59.js";import"./loader-circle-DlS76Sc1.js";import"./copy-D-hAzd4M.js";import"./language-switcher-BX314FqS.js";import"./switch-T0u5R7d_.js";import"./refresh-cw-BnxOCyDc.js";import"./globe-BSt65iB3.js";import"./chevron-right-C7M1oeKV.js";import"./credit-card-CmRw-oUn.js";import"./mail-DI9tSiFs.js";import"./package-BHhWwbAI.js";import"./calendar-BZ7v_rN9.js";import"./phone-B9JuG5Em.js";import"./trending-up-BUQ_r1Kz.js";import"./user-B-NTs7Zv.js";import"./use-favicon-D-Hpb8YY.js";import"./utils-DCj7OOX3.js";import"./clock-DRJ3azky.js";import"./award-ClOH67b_.js";import"./table-Cm3ifs76.js";function we(){const{t:r}=q(),{props:n}=P(),{userType:o,settings:m,stats:c,payoutRequests:b,referralLink:g}=n,[N,a]=l.useState("dashboard"),R=[{title:r("Dashboard"),href:"#dashboard",icon:e.jsx(U,{className:"h-4 w-4 mr-2"})},{title:r("Referred Users"),href:route("referral.referred-users"),icon:e.jsx(B,{className:"h-4 w-4 mr-2"}),external:!0},{title:r("Payout Requests"),href:"#payout-requests",icon:e.jsx(L,{className:"h-4 w-4 mr-2"})},...o==="superadmin"?[{title:r("Settings"),href:"#settings",icon:e.jsx(A,{className:"h-4 w-4 mr-2"})}]:[]],f=l.useRef(null),d=l.useRef(null),p=l.useRef(null);l.useEffect(()=>{const s=()=>{var h,u,x;const t=window.scrollY+100;(h=f.current)!=null&&h.offsetTop;const v=((u=d.current)==null?void 0:u.offsetTop)||0,y=((x=p.current)==null?void 0:x.offsetTop)||0;o==="superadmin"&&t>=y?a("settings"):t>=v?a("payout-requests"):a("dashboard")};window.addEventListener("scroll",s);const i=window.location.hash.replace("#","");if(i){const t=document.getElementById(i);t&&(t.scrollIntoView({behavior:"smooth"}),a(i))}return()=>{window.removeEventListener("scroll",s)}},[o]);const w=s=>{const i=s.replace("#",""),t=document.getElementById(i);t&&(t.scrollIntoView({behavior:"smooth"}),a(i))};return e.jsxs(S,{title:r("Referral Program"),url:"/referral",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"md:w-64 flex-shrink-0",children:e.jsx("div",{className:"sticky top-20",children:e.jsx(E,{className:"h-[calc(100vh-5rem)]",children:e.jsx("div",{className:"pr-4 space-y-1",children:R.map(s=>s.external?e.jsx(j,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:e.jsxs("a",{href:s.href,children:[s.icon,s.title]})},s.href):e.jsxs(j,{variant:"ghost",className:T("w-full justify-start",{"bg-muted font-medium":N===s.href.replace("#","")}),onClick:()=>w(s.href),children:[s.icon,s.title]},s.href))})})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("section",{id:"dashboard",ref:f,className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("Dashboard")}),e.jsx(k,{userType:o,stats:c,referralLink:g,recentReferredUsers:n.recentReferredUsers})]}),e.jsxs("section",{id:"payout-requests",ref:d,className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("Payout Requests")}),e.jsx(D,{userType:o,payoutRequests:b,settings:m,stats:c})]}),o==="superadmin"&&e.jsxs("section",{id:"settings",ref:p,className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("Settings")}),e.jsx(I,{settings:m})]})]})]}),e.jsx(C,{})]})}export{we as default};
