import{r as b,j as e}from"./ui-C-VW1P-5.js";import{u as v,K as f,ak as K,L as i,I as u,B as C,a6 as E,S as N,t as h}from"./app-BQKKzqf3.js";import{S as k,a as R,b as V,c as w,d as S}from"./select-ivmaqUw7.js";import{S as G}from"./switch-T0u5R7d_.js";import"./vendor-CxtKjBZA.js";import"./utils-DCj7OOX3.js";import"./index-IS-ASe-l.js";import"./chevron-up-5kET5X99.js";function z({settings:p={}}){const{t:a}=v(),x=f().props,l={recaptchaVersion:"v2",recaptchaSiteKey:"",recaptchaSecretKey:""},r=Object.keys(p).length>0?p:x.systemSettings||{},[n,j]=b.useState(()=>({recaptchaEnabled:r.recaptchaEnabled==="true"||r.recaptchaEnabled===!0||r.recaptchaEnabled===1||r.recaptchaEnabled==="1",recaptchaVersion:r.recaptchaVersion||l.recaptchaVersion,recaptchaSiteKey:r.recaptchaSiteKey||l.recaptchaSiteKey,recaptchaSecretKey:r.recaptchaSecretKey||l.recaptchaSecretKey})),o=(t,c)=>{j(s=>({...s,[t]:c}))},y=t=>{t.preventDefault(),N.post(route("settings.recaptcha.update"),n,{preserveScroll:!0,onSuccess:c=>{var g,m;const s=(g=c.props.flash)==null?void 0:g.success,d=(m=c.props.flash)==null?void 0:m.error;s?h.success(s):d&&h.error(d)},onError:c=>{const s=c.error||Object.values(c).join(", ")||a("Failed to update ReCaptcha settings");h.error(s)}})};return e.jsxs(K,{title:a("ReCaptcha Settings"),description:a("Configure Google ReCaptcha settings for form protection"),action:e.jsxs(C,{type:"submit",form:"recaptcha-settings-form",size:"sm",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),a("Save Changes")]}),children:[e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md text-sm text-blue-800 dark:bg-blue-950 dark:border-blue-800 dark:text-blue-200",children:[e.jsxs("strong",{children:[a("Note"),":"]})," ",e.jsx("a",{href:"https://phppot.com/php/how-to-get-google-recaptcha-site-and-secret-key/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:a("How to Get Google reCaptcha Site and Secret key")})]}),e.jsxs("form",{id:"recaptcha-settings-form",onSubmit:y,className:"space-y-6",children:[e.jsx("div",{className:"grid gap-2 md:col-span-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{htmlFor:"recaptchaEnabled",children:a("Enable ReCaptcha")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a("Show ReCaptcha on authentication pages")})]}),e.jsx(G,{id:"recaptchaEnabled",checked:n.recaptchaEnabled,onCheckedChange:t=>o("recaptchaEnabled",t)})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"recaptchaVersion",children:a("Google Recaptcha Version")}),e.jsxs(k,{value:n.recaptchaVersion,onValueChange:t=>o("recaptchaVersion",t),children:[e.jsx(R,{children:e.jsx(V,{placeholder:a("Select version")})}),e.jsxs(w,{children:[e.jsx(S,{value:"v2",children:"v2"}),e.jsx(S,{value:"v3",children:"v3"})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"recaptchaSiteKey",children:a("Site Key")}),e.jsx(u,{id:"recaptchaSiteKey",name:"recaptchaSiteKey",type:"text",value:n.recaptchaSiteKey,onChange:t=>o("recaptchaSiteKey",t.target.value),placeholder:a("Enter your Google ReCaptcha site key")})]}),e.jsxs("div",{className:"grid gap-2 md:col-span-2",children:[e.jsx(i,{htmlFor:"recaptchaSecretKey",children:a("Secret Key")}),e.jsx(u,{id:"recaptchaSecretKey",name:"recaptchaSecretKey",type:"password",value:n.recaptchaSecretKey,onChange:t=>o("recaptchaSecretKey",t.target.value),placeholder:a("Enter your Google ReCaptcha secret key")})]})]})]})]})}export{z as default};
