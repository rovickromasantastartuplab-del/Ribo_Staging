import{j as t}from"./ui-C-VW1P-5.js";import{Q as W}from"./QRCodeComponent-CRXf3pHS.js";import{u as q,e as P}from"./app-BQKKzqf3.js";import"./vendor-CxtKjBZA.js";import"./utils-DCj7OOX3.js";function R({invoice:s,items:T,taxesData:_,settings:B,color:a,qr_invoice:$,qrCodeSvg:z,styles:c}){var g,j,m,y,b,f,u,w,A,C,N;const{t:d}=q(),{logoDark:D}=P(),k=a==="ffffff"||a==="fbdd03"||a==="c1d82f"||a==="46de98"||a==="40c7d0"||a==="fac168"?"#000000":"#ffffff",o=a==="ffffff"?"#000000":`#${a}`,p=((g=s.payments)==null?void 0:g.reduce((r,n)=>{const x=Number(n.amount)||0;return n.status==="completed"?r+x:r},0))||0,H=Math.max(0,(Number(s.total_amount)||0)-p),i=r=>{var n;return typeof r=="string"&&r.startsWith("<")?r:((n=window.appSettings)==null?void 0:n.formatCurrency(Number(r)))||`$${Number(r)}`},l=(r,n="")=>typeof r=="string"&&r.startsWith("<")?r:r||n,e={root:{fontFamily:"Lato, sans-serif",margin:0,padding:0,boxSizing:"border-box"},invoicePreviewMain:{width:"100%",margin:"0 auto",background:"#ffff",boxShadow:"0 0 10px #ddd",fontFamily:"Lato, sans-serif",...c==null?void 0:c.invoicePreviewMain},invoiceHeader:{padding:"15px 30px"},headerTable:{width:"100%",borderCollapse:"collapse"},headerCell:{padding:"15px 30px",verticalAlign:"top"},invoiceBody:{padding:"30px 25px 30px 25px"},table:{width:"100%",borderCollapse:"collapse",marginTop:"30px"},th:{padding:"0.75rem",textAlign:"left",fontSize:"13px",fontWeight:"600"},td:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${o}`},qrCode:{maxWidth:"114px",maxHeight:"114px",marginLeft:"auto",marginTop:"15px",background:"#ffffff"},noSpace:{padding:0}};return t.jsx("div",{style:e.root,children:t.jsxs("div",{className:"invoice-preview-main",id:"boxes",style:e.invoicePreviewMain,children:[t.jsxs("div",{className:"invoice-header",style:e.invoiceHeader,children:[t.jsx("table",{className:"vertical-align-top",style:e.headerTable,children:t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsx("td",{style:e.headerCell,children:t.jsx("img",{src:B.invoiceLogo||D,style:{maxWidth:"150px",maxHeight:"150px"},alt:"Logo"})}),t.jsxs("td",{className:"text-right",style:{...e.headerCell,textAlign:"right"},children:[t.jsxs("strong",{children:[d("From"),":"]}),t.jsxs("p",{style:{margin:"10px 0",lineHeight:"1.5"},children:[l((j=s.creator)==null?void 0:j.name)&&t.jsxs(t.Fragment,{children:[l(s.creator.name),t.jsx("br",{})]}),l((m=s.creator)==null?void 0:m.email)&&t.jsx(t.Fragment,{children:l(s.creator.email)})]})]})]})})}),t.jsx("table",{className:"vertical-align-top",style:e.headerTable,children:t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsxs("td",{style:e.headerCell,children:[t.jsx("h3",{style:{textTransform:"uppercase",fontSize:"25px",fontWeight:"bold",marginBottom:"15px"},children:d("INVOICE")}),t.jsx("table",{className:"no-space",style:{width:"100%"},children:t.jsxs("tbody",{children:[t.jsx("tr",{children:t.jsxs("td",{style:{...e.noSpace},children:[d("Number"),": ",l(s.invoice_number)]})}),t.jsx("tr",{children:t.jsxs("td",{style:{...e.noSpace},children:[d("Invoice Date"),": ",l(s.invoice_date),t.jsx("br",{}),d("Due Date"),": ",l(s.due_date)]})})]})})]}),t.jsx("td",{style:{...e.headerCell,textAlign:"right"},children:t.jsx("div",{className:"view-qrcode",style:e.qrCode,children:$==="on"&&t.jsx(W,{text:window.location.href,size:114})})})]})})})]}),t.jsxs("div",{className:"invoice-body",style:e.invoiceBody,children:[t.jsx("table",{style:{width:"100%"},children:t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsxs("td",{style:{verticalAlign:"top"},children:[t.jsxs("strong",{style:{marginBottom:"10px",display:"block"},children:[d("Bill To"),":"]}),t.jsxs("p",{style:{margin:0,lineHeight:"1.5"},children:[l(((y=s.account)==null?void 0:y.name)||((b=s.contact)==null?void 0:b.name)),t.jsx("br",{}),l(((f=s.account)==null?void 0:f.email)||((u=s.contact)==null?void 0:u.email)),t.jsx("br",{}),l(((w=s.account)==null?void 0:w.phone)||((A=s.contact)==null?void 0:A.phone)),t.jsx("br",{}),l(s.billing_address),t.jsx("br",{}),l(s.billing_postal_code),t.jsx("br",{}),l(s.billing_city)," ",l(s.billing_state)," ",l(s.billing_country)]})]}),t.jsxs("td",{className:"text-right",style:{verticalAlign:"top",textAlign:"right"},children:[t.jsxs("strong",{style:{marginBottom:"10px",display:"block"},children:[d("Company"),":"]}),t.jsxs("p",{style:{margin:0,lineHeight:"1.5"},children:[l((C=s.creator)==null?void 0:C.name),t.jsx("br",{}),l((N=s.creator)==null?void 0:N.email),t.jsx("br",{})]})]})]})})}),t.jsx("table",{className:"add-border invoice-summary",style:{...e.table,marginTop:"30px"},children:t.jsxs("tbody",{children:[t.jsxs("tr",{style:{background:`#${a}`,color:k},children:[t.jsx("th",{style:e.th,children:d("Item")}),t.jsx("th",{style:e.th,children:d("Quantity")}),t.jsx("th",{style:e.th,children:d("Rate")}),t.jsxs("th",{style:e.th,children:[d("Tax")," (%)"]}),t.jsx("th",{style:e.th,children:d("Discount")}),t.jsxs("th",{style:e.th,children:[d("Price")," ",t.jsx("small",{style:{display:"block",fontSize:"12px"},children:d("before tax & discount")})]})]}),T.map((r,n)=>{var x;return t.jsxs("tr",{children:[t.jsx("td",{style:e.td,children:l(r.name)}),t.jsx("td",{style:e.td,children:l(r.quantity)}),t.jsx("td",{style:e.td,children:i(r.price)}),t.jsx("td",{style:e.td,children:(x=r.itemTax)==null?void 0:x.map((h,S)=>t.jsxs("span",{children:[h.name," (",h.rate,")",t.jsx("br",{}),h.price]},S))}),t.jsx("td",{style:e.td,children:r.discount?i(r.discount):"-"}),t.jsx("td",{style:e.td,children:i(typeof r.price=="string"&&r.price.startsWith("<")?r.price:Number(r.price)*Number(r.quantity))})]},n)}),t.jsxs("tr",{children:[t.jsx("td",{style:{...e.td,borderBottom:`1px solid ${o}`},children:d("Total")}),t.jsx("td",{style:{...e.td,borderBottom:`1px solid ${o}`},children:s.totalQuantity}),t.jsx("td",{style:{...e.td,borderBottom:`1px solid ${o}`},children:i(s.totalRate)}),t.jsx("td",{style:{...e.td,borderBottom:`1px solid ${o}`},children:i(s.totalTaxPrice)}),t.jsx("td",{style:{...e.td,borderBottom:`1px solid ${o}`},children:i(s.totalDiscount)}),t.jsx("td",{style:{...e.td,borderBottom:`1px solid ${o}`},children:i(s.sub_total)})]}),t.jsx("tr",{children:t.jsx("td",{colSpan:6,style:{border:"none",padding:"0"},children:t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsxs("tbody",{children:[s.total_discount>0&&t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:[d("Discount"),":"]}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:i(s.total_discount)})]}),Object.entries(_||{}).map(([r,n])=>t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:[r,":"]}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:i(n)})]},r)),t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:[d("Paid"),":"]}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:i(p)})]}),t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:[d("Due"),":"]}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:i(H)})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:t.jsxs("strong",{children:[d("Total"),":"]})}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:t.jsx("strong",{children:i(s.total_amount||0)})})]})]})})})})]})})]})]})})}export{R as default};
