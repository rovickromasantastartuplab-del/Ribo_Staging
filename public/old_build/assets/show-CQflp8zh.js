import{j as e}from"./ui-C-VW1P-5.js";import{P as S,c as T}from"./page-template-CDM26U5Q.js";import{u as D,K as A,C as d,a as n,b as c,F as x,c as m,S as P}from"./app-BQKKzqf3.js";import{A as U}from"./arrow-left-CYc20UlY.js";import{U as v}from"./user-B-NTs7Zv.js";import{C as o}from"./calendar-BZ7v_rN9.js";import{C as $}from"./clock-DRJ3azky.js";import{C as b}from"./chart-column-DLMw04GC.js";import"./vendor-CxtKjBZA.js";import"./textarea-BvlD1v8z.js";import"./select-ivmaqUw7.js";import"./index-IS-ASe-l.js";import"./chevron-up-5kET5X99.js";import"./react-country-flag.esm-B_SRkH7q.js";import"./language-BbwPiY59.js";import"./loader-circle-DlS76Sc1.js";import"./copy-D-hAzd4M.js";import"./language-switcher-BX314FqS.js";import"./switch-T0u5R7d_.js";import"./refresh-cw-BnxOCyDc.js";import"./globe-BSt65iB3.js";import"./settings-G3vQs6CU.js";import"./chevron-right-C7M1oeKV.js";import"./credit-card-CmRw-oUn.js";import"./dollar-sign-BO1aYhXH.js";import"./mail-DI9tSiFs.js";import"./users-CrY8npWB.js";import"./package-BHhWwbAI.js";import"./phone-B9JuG5Em.js";import"./trending-up-BUQ_r1Kz.js";import"./use-favicon-D-Hpb8YY.js";import"./utils-DCj7OOX3.js";function oe(){var h,p,j,u,N,y;const{t:s}=D(),{auth:i,task:t,taskStatuses:w=[]}=A().props;i!=null&&i.permissions;const _=()=>{P.get(route("project-tasks.index"))},g=[];g.push({label:s("Back to Tasks"),icon:e.jsx(U,{className:"h-4 w-4 mr-2"}),variant:"outline",onClick:_});const C=[{title:s("Dashboard"),href:route("dashboard")},{title:s("Project Tasks"),href:route("project-tasks.index")},{title:t.title}],l=a=>w.find(r=>r.id===a);return e.jsx(S,{title:t.title,url:`/project-tasks/${t.id}`,actions:g,breadcrumbs:C,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{children:[e.jsx(n,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-5 w-5"}),s("Task Overview")]}),e.jsxs("div",{className:"flex gap-2",children:[(()=>{const a=l(t.task_status_id);return a?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color}}),e.jsx("span",{className:"text-sm font-medium",children:a.name})]}):e.jsx("span",{className:"text-sm text-gray-500",children:s("No Status")})})(),e.jsxs("span",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ${t.priority==="urgent"?"bg-red-50 text-red-700 ring-1 ring-inset ring-red-600/20":t.priority==="high"?"bg-orange-50 text-orange-700 ring-1 ring-inset ring-orange-600/20":t.priority==="medium"?"bg-blue-50 text-blue-700 ring-1 ring-inset ring-blue-600/20":"bg-gray-50 text-gray-700 ring-1 ring-inset ring-gray-600/20"}`,children:[s((t.priority||"").charAt(0).toUpperCase()+(t.priority||"").slice(1))," ",s("Priority")]})]})]})}),e.jsx(m,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s("Description")}),e.jsx("p",{className:"mt-1 text-gray-900 dark:text-white",children:t.description||s("No description provided")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s("Project")}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:((h=t.project)==null?void 0:h.name)||s("No project assigned")})]})]}),t.parent&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s("Parent Task")}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx(x,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:t.parent.title})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s("Assigned To")}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:((p=t.assigned_user)==null?void 0:p.name)||s("Unassigned")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s("Progress")}),e.jsxs("div",{className:"mt-1",children:[e.jsx("div",{className:"flex items-center justify-between mb-1",children:e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[t.progress,"%"]})}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${t.progress}%`}})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s("Start Date")}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx(o,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:t.start_date?((j=window.appSettings)==null?void 0:j.formatDateTime(t.start_date,!1))||new Date(t.start_date).toLocaleDateString():s("Not set")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s("Due Date")}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx(o,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:t.due_date?((u=window.appSettings)==null?void 0:u.formatDateTime(t.due_date,!1))||new Date(t.due_date).toLocaleDateString():s("Not set")})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s("Estimated Hours")}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx($,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:t.estimated_hours?`${t.estimated_hours}h`:s("Not set")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s("Actual Hours")}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx(b,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:t.actual_hours?`${t.actual_hours}h`:s("Not tracked")})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s("Created By")}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:((N=t.creator)==null?void 0:N.name)||s("Unknown")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s("Created At")}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx(o,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:((y=window.appSettings)==null?void 0:y.formatDateTime(t.created_at,!1))||new Date(t.created_at).toLocaleDateString()})]})]})]})]})})]}),t.subtasks&&t.subtasks.length>0&&e.jsxs(d,{children:[e.jsx(n,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-5 w-5"}),s("Subtasks")," (",t.subtasks.length,")"]})}),e.jsx(m,{children:e.jsx("div",{className:"space-y-3",children:t.subtasks.map(a=>{var r,f;return e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:((r=l(a.task_status_id))==null?void 0:r.color)||"#6B7280"}}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:a.title}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[((f=a.assigned_user)==null?void 0:f.name)||s("Unassigned")," â€¢ ",a.progress,"% ",s("complete")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[(()=>{const k=l(a.task_status_id);return k?e.jsx("span",{className:"inline-flex items-center rounded-md px-2 py-1 text-xs font-medium bg-gray-50 text-gray-700 ring-1 ring-inset ring-gray-600/20",children:k.name}):e.jsx("span",{className:"text-xs text-gray-500",children:s("No Status")})})(),e.jsx("span",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ${a.priority==="urgent"?"bg-red-50 text-red-700 ring-1 ring-inset ring-red-600/20":a.priority==="high"?"bg-orange-50 text-orange-700 ring-1 ring-inset ring-orange-600/20":a.priority==="medium"?"bg-blue-50 text-blue-700 ring-1 ring-inset ring-blue-600/20":"bg-gray-50 text-gray-700 ring-1 ring-inset ring-gray-600/20"}`,children:s((a.priority||"").charAt(0).toUpperCase()+(a.priority||"").slice(1))})]})]},a.id)})})})]}),(t.estimated_hours||t.actual_hours)&&e.jsxs(d,{children:[e.jsx(n,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),s("Time Tracking")]})}),e.jsx(m,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[t.estimated_hours||0,"h"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s("Estimated")})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[t.actual_hours||0,"h"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s("Actual")})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:[t.estimated_hours&&t.actual_hours?Math.round((t.actual_hours-t.estimated_hours)/t.estimated_hours*100):0,"%"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s("Variance")})]})]})})]})]})})}export{oe as default};
