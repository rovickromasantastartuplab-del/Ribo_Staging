import{r as g,j as e}from"./ui-C-VW1P-5.js";import{P as C}from"./page-template-CDM26U5Q.js";import{u as N,L as a,I as c,B as f,S as j}from"./app-BQKKzqf3.js";import{T as F}from"./textarea-BvlD1v8z.js";import{S as m}from"./switch-T0u5R7d_.js";import"./vendor-CxtKjBZA.js";import"./select-ivmaqUw7.js";import"./index-IS-ASe-l.js";import"./chevron-up-5kET5X99.js";import"./react-country-flag.esm-B_SRkH7q.js";import"./language-BbwPiY59.js";import"./loader-circle-DlS76Sc1.js";import"./copy-D-hAzd4M.js";import"./language-switcher-BX314FqS.js";import"./refresh-cw-BnxOCyDc.js";import"./globe-BSt65iB3.js";import"./settings-G3vQs6CU.js";import"./chevron-right-C7M1oeKV.js";import"./credit-card-CmRw-oUn.js";import"./dollar-sign-BO1aYhXH.js";import"./mail-DI9tSiFs.js";import"./users-CrY8npWB.js";import"./package-BHhWwbAI.js";import"./calendar-BZ7v_rN9.js";import"./phone-B9JuG5Em.js";import"./trending-up-BUQ_r1Kz.js";import"./user-B-NTs7Zv.js";import"./use-favicon-D-Hpb8YY.js";import"./utils-DCj7OOX3.js";function te({plan:s,hasDefaultPlan:b=!1,otherDefaultPlanExists:P=!1}){const{t}=N(),[_,h]=g.useState(!1),n=!!s,[i,u]=g.useState({name:(s==null?void 0:s.name)||"",price:(s==null?void 0:s.price)||0,yearly_price:(s==null?void 0:s.yearly_price)||void 0,duration:(s==null?void 0:s.duration)||"monthly",description:(s==null?void 0:s.description)||"",max_users:(s==null?void 0:s.max_users)||0,max_projects:(s==null?void 0:s.max_projects)||0,max_contacts:(s==null?void 0:s.max_contacts)||0,max_accounts:(s==null?void 0:s.max_accounts)||0,storage_limit:(s==null?void 0:s.storage_limit)||0,enable_branding:(s==null?void 0:s.enable_branding)||"on",enable_chatgpt:(s==null?void 0:s.enable_chatgpt)||"off",is_trial:(s==null?void 0:s.is_trial)||null,trial_day:(s==null?void 0:s.trial_day)||0,is_plan_enable:(s==null?void 0:s.is_plan_enable)||"on",is_default:(s==null?void 0:s.is_default)||!1}),d=r=>{const{name:o,value:x}=r.target;u(p=>({...p,[o]:x}))},l=(r,o)=>{u(x=>({...x,[r]:o?"on":"off"}))},y=r=>{u(o=>({...o,is_default:r}))},v=r=>{r.preventDefault(),h(!0),n?j.put(route("plans.update",s.id),i,{onFinish:()=>h(!1)}):j.post(route("plans.store"),i,{onFinish:()=>h(!1)})};return e.jsx(C,{title:t(n?"Edit Plan":"Create Plan"),description:t(n?"Update subscription plan details":"Add a new subscription plan"),url:n?route("plans.update",s.id):"/plans/create",breadcrumbs:[{title:t("Dashboard"),href:route("dashboard")},{title:t("Plans"),href:route("plans.index")},{title:t(n?"Edit Plan":"Create Plan")}],children:e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"name",children:t("Plan Name")}),e.jsx(c,{id:"name",name:"name",value:i.name,onChange:d,required:!0})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"price",children:t("Monthly Price")}),e.jsx(c,{id:"price",name:"price",type:"number",step:"0.01",value:i.price,onChange:d,required:!0})]}),e.jsxs("div",{children:[e.jsxs(a,{htmlFor:"yearly_price",children:[t("Yearly Price")," ",e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",t("Optional"),")"]})]}),e.jsx(c,{id:"yearly_price",name:"yearly_price",type:"number",step:"0.01",value:i.yearly_price||"",onChange:d,placeholder:t("Leave empty for 20% discount")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t("If left empty, yearly price will be calculated as 80% of monthly price Ã— 12")})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"description",children:t("Description")}),e.jsx(F,{id:"description",name:"description",value:i.description,onChange:d,rows:3})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"max_users",children:t("Maximum Users")}),e.jsx(c,{id:"max_users",name:"max_users",type:"number",value:i.max_users,onChange:d,required:!0})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"max_projects",children:t("Maximum Projects")}),e.jsx(c,{id:"max_projects",name:"max_projects",type:"number",value:i.max_projects,onChange:d,required:!0})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"max_contacts",children:t("Maximum Contacts")}),e.jsx(c,{id:"max_contacts",name:"max_contacts",type:"number",value:i.max_contacts,onChange:d,required:!0})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"max_accounts",children:t("Maximum Accounts")}),e.jsx(c,{id:"max_accounts",name:"max_accounts",type:"number",value:i.max_accounts,onChange:d,required:!0})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"storage_limit",children:t("Storage Limit (GB)")}),e.jsx(c,{id:"storage_limit",name:"storage_limit",type:"number",step:"0.01",value:i.storage_limit,onChange:d,required:!0})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"trial_day",children:t("Trial Days")}),e.jsx(c,{id:"trial_day",name:"trial_day",type:"number",value:i.trial_day,onChange:d})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[e.jsx("h3",{className:"font-medium",children:t("Features")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(a,{htmlFor:"enable_branding",children:t("Enable Branding")}),e.jsx(m,{id:"enable_branding",checked:i.enable_branding==="on",onCheckedChange:r=>l("enable_branding",r)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(a,{htmlFor:"enable_chatgpt",children:t("AI Integration")}),e.jsx(m,{id:"enable_chatgpt",checked:i.enable_chatgpt==="on",onCheckedChange:r=>l("enable_chatgpt",r)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(a,{htmlFor:"is_trial",children:t("Enable Trial")}),e.jsx(m,{id:"is_trial",checked:i.is_trial==="on",onCheckedChange:r=>l("is_trial",r)})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[e.jsx("h3",{className:"font-medium",children:t("Settings")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(a,{htmlFor:"is_plan_enable",children:t("Active")}),e.jsx(m,{id:"is_plan_enable",checked:i.is_plan_enable==="on",onCheckedChange:r=>l("is_plan_enable",r)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"is_default",children:t("Default Plan")}),(n?!(s!=null&&s.is_default):b)&&e.jsx("p",{className:"text-xs text-amber-600 mt-1",children:t("Setting this as default will remove default status from the current default plan.")})]}),e.jsx(m,{id:"is_default",checked:i.is_default,onCheckedChange:y})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(f,{type:"button",variant:"outline",onClick:()=>j.get(route("plans.index")),children:t("Cancel")}),e.jsx(f,{type:"submit",disabled:_,children:t(_?n?"Updating...":"Creating...":n?"Update Plan":"Create Plan")})]})]})})})}export{te as default};
