import{j as e}from"./ui-C-VW1P-5.js";import{L,P as M,B as T}from"./page-template-CDM26U5Q.js";import{u as B,K as A,h as z,S as o,C as i,B as b}from"./app-BQKKzqf3.js";import{C as P}from"./chart-column-DLMw04GC.js";import{A as $}from"./arrow-left-CYc20UlY.js";import{T as U}from"./triangle-alert-DtTk7Xcn.js";import{C as V}from"./clock-DRJ3azky.js";import{C as H}from"./calendar-BZ7v_rN9.js";import{D as W}from"./dollar-sign-BO1aYhXH.js";import{U as k}from"./user-B-NTs7Zv.js";import"./vendor-CxtKjBZA.js";import"./textarea-BvlD1v8z.js";import"./select-ivmaqUw7.js";import"./index-IS-ASe-l.js";import"./chevron-up-5kET5X99.js";import"./react-country-flag.esm-B_SRkH7q.js";import"./language-BbwPiY59.js";import"./loader-circle-DlS76Sc1.js";import"./copy-D-hAzd4M.js";import"./language-switcher-BX314FqS.js";import"./switch-T0u5R7d_.js";import"./refresh-cw-BnxOCyDc.js";import"./globe-BSt65iB3.js";import"./settings-G3vQs6CU.js";import"./chevron-right-C7M1oeKV.js";import"./credit-card-CmRw-oUn.js";import"./mail-DI9tSiFs.js";import"./users-CrY8npWB.js";import"./package-BHhWwbAI.js";import"./phone-B9JuG5Em.js";import"./trending-up-BUQ_r1Kz.js";import"./use-favicon-D-Hpb8YY.js";import"./utils-DCj7OOX3.js";function ve(){var p,g,j,u,f,N,v,y,w;const{t:a}=B(),{auth:c,project:s,taskStats:C={},totalTasks:x=0,completedTasks:D=0,progressPercentage:h=0,meetings:r,taskStatuses:m=[]}=A().props,S=(c==null?void 0:c.permissions)||[],d=[];z(S,"view-project-tasks")&&(d.push({label:a("Kanban View"),icon:e.jsx(L,{className:"h-4 w-4 mr-2"}),variant:"default",onClick:()=>o.get(route("projects.kanban",s.id))}),d.push({label:a("Gantt View"),icon:e.jsx(P,{className:"h-4 w-4 mr-2"}),variant:"default",onClick:()=>o.get(route("projects.gantt",s.id))})),d.push({label:a("Back to Projects"),icon:e.jsx($,{className:"h-4 w-4 mr-2"}),variant:"outline",onClick:()=>o.get(route("projects.index"))});const _=[{title:a("Dashboard"),href:route("dashboard")},{title:a("Projects"),href:route("projects.index")},{title:s.name}];return e.jsx(M,{title:s.name,url:`/projects/${s.id}`,actions:d,breadcrumbs:_,children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold mb-2",children:s.name}),s.code&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:[a("Code"),": ",s.code]}),s.description&&e.jsx("p",{className:"text-gray-700 dark:text-gray-300 max-w-3xl",children:s.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("span",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ${s.priority==="urgent"?"bg-red-50 text-red-700 ring-1 ring-inset ring-red-600/20":s.priority==="high"?"bg-orange-50 text-orange-700 ring-1 ring-inset ring-orange-600/20":s.priority==="medium"?"bg-blue-50 text-blue-700 ring-1 ring-inset ring-blue-600/20":"bg-gray-50 text-gray-700 ring-1 ring-inset ring-gray-600/20"}`,children:[e.jsx(U,{className:"h-3 w-3 mr-1"}),a(s.priority.charAt(0).toUpperCase()+s.priority.slice(1))]}),e.jsxs("span",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ${s.status==="active"?"bg-green-50 text-green-700 ring-1 ring-inset ring-green-600/20":s.status==="completed"?"bg-blue-50 text-blue-700 ring-1 ring-inset ring-blue-600/20":s.status==="on_hold"?"bg-yellow-50 text-yellow-700 ring-1 ring-inset ring-yellow-600/20":"bg-gray-50 text-gray-700 ring-1 ring-inset ring-gray-600/20"}`,children:[e.jsx(V,{className:"h-3 w-3 mr-1"}),a(s.status.replace("_"," ").charAt(0).toUpperCase()+s.status.replace("_"," ").slice(1))]})]})]})}),x>0&&e.jsxs(i,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:a("Task Progress")}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("Overall Progress")}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[h,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${h}%`}})}),e.jsx("div",{className:`grid gap-4 mt-4 ${m.length<=2?"grid-cols-2":m.length===3?"grid-cols-3":"grid-cols-2 md:grid-cols-4"}`,children:m.map(t=>e.jsxs("div",{className:"text-center p-3 rounded-lg",style:{backgroundColor:`${t.color}20`,border:`1px solid ${t.color}40`},children:[e.jsx("div",{className:"text-lg font-bold",style:{color:t.color},children:C[t.name]||0}),e.jsx("div",{className:"text-xs text-gray-500",children:t.name})]},t.id))}),e.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:[D," ",a("of")," ",x," ",a("tasks completed")]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(i,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(T,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold",children:a("Account Information")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:a("Account Name")}),e.jsx("p",{className:"text-sm mt-1",children:((p=s.account)==null?void 0:p.name)||"-"})]}),((g=s.account)==null?void 0:g.email)&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:a("Email")}),e.jsx("p",{className:"text-sm mt-1",children:s.account.email})]}),((j=s.account)==null?void 0:j.phone)&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:a("Phone")}),e.jsx("p",{className:"text-sm mt-1",children:s.account.phone})]})]})]}),e.jsxs(i,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(H,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold",children:a("Timeline")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:a("Start Date")}),e.jsx("p",{className:"text-sm mt-1",children:s.start_date?((u=window.appSettings)==null?void 0:u.formatDateTime(s.start_date,!1))||new Date(s.start_date).toLocaleDateString():"Not set"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:a("End Date")}),e.jsx("p",{className:"text-sm mt-1",children:s.end_date?((f=window.appSettings)==null?void 0:f.formatDateTime(s.end_date,!1))||new Date(s.end_date).toLocaleDateString():"Not set"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:a("Created")}),e.jsx("p",{className:"text-sm mt-1",children:((N=window.appSettings)==null?void 0:N.formatDateTime(s.created_at,!1))||new Date(s.created_at).toLocaleDateString()})]})]})]}),e.jsxs(i,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(W,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold",children:a("Budget & Assignment")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:a("Budget")}),e.jsx("p",{className:"text-sm mt-1",children:s.budget?((v=window.appSettings)==null?void 0:v.formatCurrency(s.budget))||`$${s.budget.toLocaleString()}`:"Not set"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:a("Assigned To")}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(k,{className:"h-4 w-4 text-muted-foreground mr-2"}),e.jsx("p",{className:"text-sm",children:((y=s.assigned_user)==null?void 0:y.name)||"Unassigned"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:a("Created By")}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(k,{className:"h-4 w-4 text-muted-foreground mr-2"}),e.jsx("p",{className:"text-sm",children:((w=s.creator)==null?void 0:w.name)||"Unknown"})]})]})]})]})]}),r&&r.length>0&&e.jsxs(i,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:a("Activities")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("svg",{className:"h-5 w-5 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsxs("h4",{className:"text-sm font-medium text-muted-foreground",children:[a("Meetings")," (",r.filter(t=>t.type!=="call").length,")"]})]}),e.jsxs("div",{className:"space-y-3",children:[r.filter(t=>t.type!=="call").slice(0,5).map(t=>{var l,n;return e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("svg",{className:"h-4 w-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.title}),e.jsx("p",{className:"text-xs text-gray-500",children:((l=window.appSettings)==null?void 0:l.formatDateTime(t.start_date,!1))||new Date(t.start_date).toLocaleDateString()}),e.jsx("p",{className:"text-xs text-gray-500",children:((n=t.assigned_user)==null?void 0:n.name)||"Unassigned"})]})]}),e.jsx("a",{href:route("meetings.show",t.id),children:e.jsx(b,{variant:"outline",size:"sm",children:a("View")})})]},t.id)}),r.filter(t=>t.type!=="call").length>5&&e.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["+",r.filter(t=>t.type!=="call").length-5," more meetings"]}),r.filter(t=>t.type!=="call").length===0&&e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No meetings found"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("svg",{className:"h-5 w-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.jsxs("h4",{className:"text-sm font-medium text-muted-foreground",children:[a("Calls")," (",r.filter(t=>t.type==="call").length,")"]})]}),e.jsxs("div",{className:"space-y-3",children:[r.filter(t=>t.type==="call").slice(0,5).map(t=>{var l,n;return e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("svg",{className:"h-4 w-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.title}),e.jsx("p",{className:"text-xs text-gray-500",children:((l=window.appSettings)==null?void 0:l.formatDateTime(t.start_date,!1))||new Date(t.start_date).toLocaleDateString()}),e.jsx("p",{className:"text-xs text-gray-500",children:((n=t.assigned_user)==null?void 0:n.name)||"Unassigned"})]})]}),e.jsx("a",{href:route("meetings.show",t.id),children:e.jsx(b,{variant:"outline",size:"sm",children:a("View")})})]},t.id)}),r.filter(t=>t.type==="call").length>5&&e.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["+",r.filter(t=>t.type==="call").length-5," more calls"]}),r.filter(t=>t.type==="call").length===0&&e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No calls found"})]})]})]})]}),s.description&&e.jsxs(i,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:a("Description")}),e.jsx("div",{className:"prose dark:prose-invert max-w-none",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:s.description})})]})]})})}export{ve as default};
