import{r as n,j as s}from"./ui-C-VW1P-5.js";import{u as S,ai as m,ak as x,L as v,B as j,a6 as N,t as a,S as b}from"./app-BQKKzqf3.js";import{S as E}from"./switch-T0u5R7d_.js";import"./vendor-CxtKjBZA.js";import"./utils-DCj7OOX3.js";function B(){const{t:i}=S(),[c,r]=n.useState({}),[u,h]=n.useState([]);n.useEffect(()=>{m.get(route("settings.email-notifications.available")).then(e=>{h(e.data)}).catch(e=>{console.error("Failed to load available notifications:",e)}),m.get(route("settings.email-notifications.get")).then(e=>{r(e.data)}).catch(e=>{console.error("Failed to load email notification settings:",e)})},[]);const g=(e,t)=>{r(o=>({...o,[e]:t}))},p=e=>{e.preventDefault(),a.loading(i("Saving email notification settings...")),b.post(route("settings.email-notifications.update"),c,{preserveScroll:!0,onSuccess:t=>{var d,f;a.dismiss();const o=(d=t.props.flash)==null?void 0:d.success,l=(f=t.props.flash)==null?void 0:f.error;o?a.success(o):l?a.error(l):a.success("Email notification settings updated successfully.")},onError:()=>{a.error("Failed to update email notification settings.")}})};return s.jsx(x,{title:i("Email Notification Settings"),description:i("Configure which email notifications are sent"),action:s.jsxs(j,{onClick:p,size:"sm",children:[s.jsx(N,{className:"h-4 w-4 mr-2"}),i("Save Changes")]}),children:s.jsx("div",{className:"space-y-4",children:u.map(e=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-md",children:[s.jsx("div",{children:s.jsx(v,{htmlFor:e.name,className:"text-sm font-medium",children:i(e.label)})}),s.jsx(E,{id:e.name,checked:c[e.name]||!1,onCheckedChange:t=>g(e.name,t)})]},e.name))})})}export{B as default};
