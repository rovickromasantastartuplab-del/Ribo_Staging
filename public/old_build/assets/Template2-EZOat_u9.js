import{j as t}from"./ui-C-VW1P-5.js";import{Q as B}from"./QRCodeComponent-CRXf3pHS.js";import{e as $,u as S}from"./app-BQKKzqf3.js";import"./vendor-CxtKjBZA.js";import"./utils-DCj7OOX3.js";function z({salesOrder:e,items:v,taxesData:_,settings:w,color:l,qr_invoice:C,qrCodeSvg:D,styles:a}){var h,p,g,j,y,b,m,f;const{logoDark:T}=$(),{t:s}=S(),A=l==="ffffff"||l==="fbdd03"||l==="c1d82f"||l==="46de98"||l==="40c7d0"||l==="fac168"?"#000000":"#ffffff",c=l==="ffffff"?"#000000":`#${l}`,d=n=>{var o;return typeof n=="string"&&n.startsWith("<")?n:((o=window.appSettings)==null?void 0:o.formatCurrency(Number(n)))||`$${Number(n)}`},r=(n,o="")=>typeof n=="string"&&n.startsWith("<")?n:n||o,i={root:{fontFamily:"Lato, sans-serif",margin:0,padding:0,boxSizing:"border-box"},invoicePreviewMain:{width:"100%",margin:"0 auto",background:"#ffff",boxShadow:"0 0 10px #ddd",...a==null?void 0:a.invoicePreviewMain},invoiceHeader:{padding:"15px 30px"},headerTable:{width:"100%",borderCollapse:"collapse"},headerCell:{padding:"15px 30px",verticalAlign:"top"},invoiceBody:{padding:"30px 25px 30px 25px"},table:{width:"100%",borderCollapse:"collapse",marginTop:"30px"},th:{padding:"0.75rem",textAlign:"left",fontSize:"13px",fontWeight:"600"},td:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${c}`},qrCode:{maxWidth:"114px",maxHeight:"114px",marginLeft:"auto",marginTop:"15px",background:"#ffffff"},noSpace:{padding:0}};return t.jsx("div",{style:i.root,children:t.jsxs("div",{className:"invoice-preview-main",id:"boxes",style:i.invoicePreviewMain,children:[t.jsxs("div",{className:"invoice-header",style:i.invoiceHeader,children:[t.jsx("table",{className:"vertical-align-top",style:i.headerTable,children:t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsx("td",{style:i.headerCell,children:t.jsx("img",{src:w.salesOrderLogo||T,style:{maxWidth:"150px",maxHeight:"150px"},alt:"Logo"})}),t.jsxs("td",{className:"text-right",style:{...i.headerCell,textAlign:"right"},children:[t.jsxs("strong",{children:[s("From"),":"]}),t.jsxs("p",{style:{margin:"10px 0",lineHeight:"1.5"},children:[r((h=e.creator)==null?void 0:h.name)&&t.jsxs(t.Fragment,{children:[r(e.creator.name),t.jsx("br",{})]}),r((p=e.creator)==null?void 0:p.email)&&t.jsx(t.Fragment,{children:r(e.creator.email)})]})]})]})})}),t.jsx("table",{className:"vertical-align-top",style:i.headerTable,children:t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsxs("td",{style:i.headerCell,children:[t.jsx("h3",{style:{textTransform:"uppercase",fontSize:"25px",fontWeight:"bold",marginBottom:"15px"},children:s("SALES ORDER")}),t.jsx("table",{className:"no-space",style:{width:"100%"},children:t.jsxs("tbody",{children:[t.jsx("tr",{children:t.jsxs("td",{style:{...i.noSpace},children:[s("Number"),": ",r(e.sales_order_number)]})}),t.jsx("tr",{children:t.jsxs("td",{style:{...i.noSpace},children:[s("Order Date"),": ",r(e.order_date),t.jsx("br",{}),s("Delivery Date"),": ",r(e.delivery_date)]})})]})})]}),t.jsx("td",{style:{...i.headerCell,textAlign:"right"},children:t.jsx("div",{className:"view-qrcode",style:i.qrCode,children:C==="on"&&t.jsx(B,{text:window.location.href,size:114})})})]})})})]}),t.jsxs("div",{className:"invoice-body",style:i.invoiceBody,children:[t.jsx("table",{style:{width:"100%"},children:t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsxs("td",{style:{verticalAlign:"top"},children:[t.jsxs("strong",{style:{marginBottom:"10px",display:"block"},children:[s("Bill To"),":"]}),t.jsxs("p",{style:{margin:0,lineHeight:"1.5"},children:[(g=e.billing_contact)==null?void 0:g.name,t.jsx("br",{}),(j=e.billing_contact)==null?void 0:j.email,t.jsx("br",{}),(y=e.billing_contact)==null?void 0:y.phone,t.jsx("br",{}),e.billing_address,t.jsx("br",{}),e.billing_postal_code,t.jsx("br",{}),e.billing_city," ",e.billing_state," ",e.billing_country]})]}),t.jsxs("td",{className:"text-right",style:{verticalAlign:"top",textAlign:"right"},children:[t.jsxs("strong",{style:{marginBottom:"10px",display:"block"},children:[s("Ship To"),":"]}),t.jsxs("p",{style:{margin:0,lineHeight:"1.5"},children:[(b=e.shipping_contact)==null?void 0:b.name,t.jsx("br",{}),(m=e.shipping_contact)==null?void 0:m.email,t.jsx("br",{}),(f=e.shipping_contact)==null?void 0:f.phone,t.jsx("br",{}),e.shipping_address,t.jsx("br",{}),e.shipping_postal_code,t.jsx("br",{}),e.shipping_city," ",e.shipping_state," ",e.shipping_country]})]})]})})}),t.jsx("table",{className:"add-border invoice-summary",style:{...i.table,marginTop:"30px"},children:t.jsxs("tbody",{children:[t.jsxs("tr",{style:{background:`#${l}`,color:A},children:[t.jsx("th",{style:i.th,children:s("Item")}),t.jsx("th",{style:i.th,children:s("Quantity")}),t.jsx("th",{style:i.th,children:s("Rate")}),t.jsxs("th",{style:i.th,children:[s("Tax")," (%)"]}),t.jsx("th",{style:i.th,children:s("Discount")}),t.jsxs("th",{style:i.th,children:[s("Price")," ",t.jsx("small",{style:{display:"block",fontSize:"12px"},children:s("before tax & discount")})]})]}),v.map((n,o)=>{var u;return t.jsxs("tr",{children:[t.jsx("td",{style:i.td,children:r(n.name)}),t.jsx("td",{style:i.td,children:r(n.quantity)}),t.jsx("td",{style:i.td,children:d(n.price)}),t.jsx("td",{style:i.td,children:(u=n.itemTax)==null?void 0:u.map((x,N)=>t.jsxs("span",{children:[x.name," (",x.rate,")",t.jsx("br",{}),x.price]},N))}),t.jsx("td",{style:i.td,children:n.discount?d(n.discount):"-"}),t.jsx("td",{style:i.td,children:d(typeof n.price=="string"&&n.price.startsWith("<")?n.price:Number(n.price)*Number(n.quantity))})]},o)}),t.jsxs("tr",{children:[t.jsx("td",{style:{...i.td,borderBottom:`1px solid ${c}`},children:s("Total")}),t.jsx("td",{style:{...i.td,borderBottom:`1px solid ${c}`},children:e.totalQuantity}),t.jsx("td",{style:{...i.td,borderBottom:`1px solid ${c}`},children:d(e.totalRate)}),t.jsx("td",{style:{...i.td,borderBottom:`1px solid ${c}`},children:d(e.totalTaxPrice)}),t.jsx("td",{style:{...i.td,borderBottom:`1px solid ${c}`},children:d(e.totalDiscount)}),t.jsx("td",{style:{...i.td,borderBottom:`1px solid ${c}`},children:d(e.sub_total)})]}),t.jsx("tr",{children:t.jsx("td",{colSpan:6,style:{border:"none",padding:"0"},children:t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsxs("tbody",{children:[e.total_discount>0&&t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:[s("Discount"),":"]}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:d(e.total_discount)})]}),Object.entries(_||{}).map(([n,o])=>t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:[n,":"]}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:d(o)})]},n)),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:t.jsxs("strong",{children:[s("Total"),":"]})}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:t.jsx("strong",{children:d(e.total_amount||0)})})]})]})})})})]})})]})]})})}export{z as default};
