import{r as b,j as e}from"./ui-C-VW1P-5.js";import{u as w,C as r,a as i,b as d,c as a,p as o,I as y,B as f,d as C,t as k}from"./app-BQKKzqf3.js";import{U as c}from"./users-CrY8npWB.js";import{C as R}from"./clock-DRJ3azky.js";import{D as p}from"./dollar-sign-BO1aYhXH.js";import{T}from"./trending-up-BUQ_r1Kz.js";import{A as P}from"./award-ClOH67b_.js";import{C as U}from"./copy-D-hAzd4M.js";import"./vendor-CxtKjBZA.js";import"./utils-DCj7OOX3.js";function H({userType:N,stats:t,referralLink:x,recentReferredUsers:m}){var j,u;const{t:s}=w(),[g,h]=b.useState(!1),v=async()=>{x&&(await navigator.clipboard.writeText(x),h(!0),k.success(s("Referral link copied to clipboard")),setTimeout(()=>h(!1),2e3))};return N==="superadmin"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:s("Total Referral Users")}),e.jsx(c,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(a,{children:e.jsx("div",{className:"text-2xl font-bold",children:t.totalReferralUsers})})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:s("Pending Payouts")}),e.jsx(R,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(a,{children:e.jsx("div",{className:"text-2xl font-bold",children:t.pendingPayouts})})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:s("Total Commission Paid")}),e.jsx(p,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(a,{children:e.jsxs("div",{className:"text-2xl font-bold",children:["$",t.totalCommissionPaid]})})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:s("Active Companies")}),e.jsx(T,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(a,{children:e.jsx("div",{className:"text-2xl font-bold",children:((j=t.topCompanies)==null?void 0:j.length)||0})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(r,{children:[e.jsx(i,{children:e.jsx(d,{children:s("Top Referring Companies")})}),e.jsx(a,{children:e.jsx("div",{className:"space-y-4",children:(u=t.topCompanies)==null?void 0:u.slice(0,5).map((l,n)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(o,{variant:"outline",className:"w-6 h-6 rounded-full p-0 flex items-center justify-center",children:n+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:l.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.email})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium",children:[l.referral_count," referrals"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",l.total_earned]})]})]},l.id))})})]}),e.jsxs(r,{children:[e.jsx(i,{children:e.jsx(d,{children:s("Monthly Performance")})}),e.jsx(a,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:s("Referral Signups")}),e.jsx("div",{className:"text-2xl font-bold",children:Object.values(t.monthlyReferrals||{}).reduce((l,n)=>l+n,0)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s("This year")})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:s("Payouts Processed")}),e.jsxs("div",{className:"text-2xl font-bold",children:["$",Object.values(t.monthlyPayouts||{}).reduce((l,n)=>l+n,0)]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s("This year")})]})]})})]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(r,{children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s("Total Referrals")}),e.jsx("h3",{className:"mt-2 text-2xl font-bold",children:t.totalReferrals})]}),e.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900",children:e.jsx(c,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})}),e.jsx(r,{children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s("Referred Users")}),e.jsx("h3",{className:"mt-2 text-2xl font-bold",children:t.referredUsersCount||0})]}),e.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900",children:e.jsx(c,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),e.jsx(r,{children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s("Total Earned")}),e.jsx("h3",{className:"mt-2 text-2xl font-bold",children:window.appSettings.formatCurrency(t.totalEarned)})]}),e.jsx("div",{className:"rounded-full bg-yellow-100 p-3 dark:bg-yellow-900",children:e.jsx(p,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})})]})})}),e.jsx(r,{children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s("Available Balance")}),e.jsx("h3",{className:"mt-2 text-2xl font-bold",children:window.appSettings.formatCurrency(t.availableBalance)})]}),e.jsx("div",{className:"rounded-full bg-purple-100 p-3 dark:bg-purple-900",children:e.jsx(P,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(r,{children:[e.jsx(i,{children:e.jsx(d,{children:s("Your Referral Link")})}),e.jsxs(a,{children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(y,{value:x||"",readOnly:!0,className:"flex-1"}),e.jsx(f,{onClick:v,variant:"outline",size:"icon",children:g?e.jsx(C,{className:"h-4 w-4"}):e.jsx(U,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:s("Share this link to earn commissions when users sign up and purchase plans")})]})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between",children:[e.jsx(d,{children:s("Recent Referred Users")}),e.jsx(f,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:route("referral.referred-users"),children:s("View All")})})]}),e.jsx(a,{children:m&&m.length>0?e.jsx("div",{className:"space-y-3",children:m.map(l=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-primary",children:l.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:l.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:l.email})]})]}),e.jsx("div",{className:"text-right",children:l.plan?e.jsx(o,{variant:"default",className:"text-xs",children:l.plan.name}):e.jsx(o,{variant:"secondary",className:"text-xs",children:s("No Plan")})})]},l.id))}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx(c,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s("No referred users yet")})]})})]})]})]})}export{H as default};
