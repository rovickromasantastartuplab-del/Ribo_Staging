import{r as F,j as e}from"./ui-C-VW1P-5.js";import{u as D,K as w,ak as k,L as o,I as z,B as O,a6 as M,S as Y,t as j}from"./app-BQKKzqf3.js";import{S as m,a as g,b as u,c as h,d as n}from"./select-ivmaqUw7.js";import{S as E}from"./switch-T0u5R7d_.js";import{l as N}from"./language-BbwPiY59.js";import{R as T}from"./react-country-flag.esm-B_SRkH7q.js";import"./vendor-CxtKjBZA.js";import"./utils-DCj7OOX3.js";import"./index-IS-ASe-l.js";import"./chevron-up-5kET5X99.js";function _({settings:f={},timezones:p={},dateFormats:v={},timeFormats:y={}}){const{t}=D(),V=w().props,d={defaultLanguage:"en",dateFormat:"MM/DD/YYYY",timeFormat:"12h",calendarStartDay:"sunday",defaultTimezone:"UTC",emailVerification:!1,landingPageEnabled:!0,termsConditionsPage:""},l=Object.keys(f).length>0?f:V.settings||{},[s,S]=F.useState(()=>({defaultLanguage:l.defaultLanguage||d.defaultLanguage,dateFormat:l.dateFormat||d.dateFormat,timeFormat:l.timeFormat||d.timeFormat,calendarStartDay:l.calendarStartDay||d.calendarStartDay,defaultTimezone:l.defaultTimezone||d.defaultTimezone,emailVerification:l.emailVerification==="true"||l.emailVerification===!0||d.emailVerification,landingPageEnabled:l.landingPageEnabled==="true"||l.landingPageEnabled===!0||l.landingPageEnabled==="1"||(l.landingPageEnabled===void 0?d.landingPageEnabled:!1),termsConditionsPage:l.termsConditionsPage||""}));F.useEffect(()=>{if(Object.keys(l).length>0){const a=Object.keys(d).reduce((i,r)=>(i[r]=l[r]||d[r],i),{});S(i=>({...i,...a,emailVerification:a.emailVerification==="true"||a.emailVerification===!0||a.emailVerification==="1",landingPageEnabled:a.landingPageEnabled==="true"||a.landingPageEnabled===!0||a.landingPageEnabled==="1"||(a.landingPageEnabled===void 0?d.landingPageEnabled:!1),termsConditionsPage:s.termsConditionsPage}))}},[l]);const c=(a,i)=>{S(r=>({...r,[a]:i}))},L=a=>{a.preventDefault();const i={defaultLanguage:s.defaultLanguage,dateFormat:s.dateFormat,timeFormat:s.timeFormat,calendarStartDay:s.calendarStartDay,defaultTimezone:s.defaultTimezone,emailVerification:!!s.emailVerification,landingPageEnabled:!!s.landingPageEnabled,termsConditionsPage:s.termsConditionsPage};Y.post(route("settings.system.update"),i,{preserveScroll:!0,onSuccess:r=>{var C,P;const x=(C=r.props.flash)==null?void 0:C.success,b=(P=r.props.flash)==null?void 0:P.error;x?j.success(x):b&&j.error(b)},onError:r=>{const x=r.error||Object.values(r).join(", ")||t("Failed to update system settings");j.error(x)}})};return e.jsx(k,{title:t("System Settings"),description:t("Configure system-wide settings for your application"),action:e.jsxs(O,{type:"submit",form:"system-settings-form",size:"sm",children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),t("Save Changes")]}),children:e.jsx("form",{id:"system-settings-form",onSubmit:L,className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"defaultLanguage",children:t("Default Language")}),e.jsxs(m,{value:s.defaultLanguage,onValueChange:a=>c("defaultLanguage",a),children:[e.jsx(g,{children:e.jsx(u,{placeholder:t("Select language"),children:s.defaultLanguage&&(()=>{const a=N.find(i=>i.code===s.defaultLanguage);return a?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{countryCode:a.countryCode,svg:!0,style:{width:"1.2em",height:"1.2em"}})," ",e.jsx("span",{children:a.name})," "]}):t("Select language")})()})}),e.jsx(h,{children:N.map(a=>e.jsx(n,{value:a.code,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{countryCode:a.countryCode,svg:!0,style:{width:"1.2em",height:"1.2em"}})," ",e.jsx("span",{children:a.name})]})},a.code))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"dateFormat",children:t("Date Format")}),e.jsxs(m,{value:s.dateFormat,onValueChange:a=>c("dateFormat",a),children:[e.jsx(g,{children:e.jsx(u,{placeholder:t("Select date format")})}),e.jsx(h,{children:Object.keys(v).length>0?Object.entries(v).map(([a,i])=>e.jsx(n,{value:a,children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{children:a}),e.jsxs("span",{className:"text-muted-foreground text-sm ml-4",children:["(",i,")"]})]})},a)):e.jsxs(e.Fragment,{children:[e.jsx(n,{value:"M j, Y",children:"Jan 1, 2025"}),e.jsx(n,{value:"d-m-Y",children:"01-01-2025"}),e.jsx(n,{value:"Y-m-d",children:"2025-01-01"}),e.jsx(n,{value:"F j, Y",children:"January 1, 2025"})]})})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"timeFormat",children:t("Time Format")}),e.jsxs(m,{value:s.timeFormat,onValueChange:a=>c("timeFormat",a),children:[e.jsx(g,{children:e.jsx(u,{placeholder:t("Select time format")})}),e.jsx(h,{children:Object.keys(y).length>0?Object.entries(y).map(([a,i])=>e.jsx(n,{value:a,children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{children:a}),e.jsxs("span",{className:"text-muted-foreground text-sm ml-4",children:["(",i,")"]})]})},a)):e.jsxs(e.Fragment,{children:[e.jsx(n,{value:"g:i A",children:"1:30 PM"}),e.jsx(n,{value:"H:i",children:"13:30"}),e.jsx(n,{value:"g:i a",children:"1:30 pm"})]})})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"calendarStartDay",children:t("Calendar Start Day")}),e.jsxs(m,{value:s.calendarStartDay,onValueChange:a=>c("calendarStartDay",a),children:[e.jsx(g,{children:e.jsx(u,{placeholder:t("Select start day")})}),e.jsxs(h,{children:[e.jsx(n,{value:"sunday",children:t("Sunday")}),e.jsx(n,{value:"monday",children:t("Monday")})]})]})]}),e.jsxs("div",{className:"grid gap-2 md:col-span-2",children:[e.jsx(o,{htmlFor:"defaultTimezone",children:t("Default Timezone")}),e.jsxs(m,{value:s.defaultTimezone,onValueChange:a=>c("defaultTimezone",a),children:[e.jsx(g,{children:e.jsx(u,{placeholder:t("Select timezone")})}),e.jsx(h,{children:Object.keys(p).length>0?Object.entries(p).map(([a,i])=>e.jsx(n,{value:a,children:i},a)):e.jsxs(e.Fragment,{children:[e.jsx(n,{value:"UTC",children:"UTC"}),e.jsx(n,{value:"America/New_York",children:"Eastern Time (ET)"}),e.jsx(n,{value:"America/Chicago",children:"Central Time (CT)"}),e.jsx(n,{value:"Europe/London",children:"London (GMT)"})]})})]})]}),e.jsx("div",{className:"grid gap-2 md:col-span-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(o,{htmlFor:"emailVerification",children:t("Email Verification")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t("Require users to verify their email addresses")})]}),e.jsx(E,{id:"emailVerification",checked:s.emailVerification,onCheckedChange:a=>c("emailVerification",a)})]})}),e.jsx("div",{className:"grid gap-2 md:col-span-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(o,{htmlFor:"landingPageEnabled",children:t("Landing Page")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t("Enable or disable the public landing page")})]}),e.jsx(E,{id:"landingPageEnabled",checked:s.landingPageEnabled,onCheckedChange:a=>c("landingPageEnabled",a)})]})}),e.jsxs("div",{className:"grid gap-2 md:col-span-2",children:[e.jsx(o,{htmlFor:"termsConditionsPage",children:t("Terms & Conditions Page")}),e.jsx(z,{id:"termsConditionsPage",type:"url",value:s.termsConditionsPage,onChange:a=>c("termsConditionsPage",a.target.value),placeholder:"https://example.com/terms"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t("URL for terms and conditions page. If empty, will redirect to landing page.")})]})]})})})}export{_ as default};
