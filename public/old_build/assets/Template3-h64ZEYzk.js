import{j as t}from"./ui-C-VW1P-5.js";import{Q as z}from"./QRCodeComponent-CRXf3pHS.js";import{u as L,e as R}from"./app-BQKKzqf3.js";import"./vendor-CxtKjBZA.js";import"./utils-DCj7OOX3.js";function O({quote:s,items:n,taxesData:B,settings:$,color:a,qr_invoice:S,qrCodeSvg:F,styles:h}){var p,g,j,y,b,m,f,_,v,w,u,C,N,T;const{t:r}=L(),{logoDark:H}=R(),W=a==="ffffff"||a==="fbdd03"||a==="c1d82f"||a==="46de98"||a==="40c7d0"||a==="fac168"?"#000000":"#ffffff",o=a==="ffffff"?"#000000":`#${a}`,d=i=>{var l;return typeof i=="string"&&i.startsWith("<")?i:((l=window.appSettings)==null?void 0:l.formatCurrency(Number(i)))||`$${Number(i)}`},c=(i,l="")=>typeof i=="string"&&i.startsWith("<")?i:i||l,e={root:{fontFamily:"Lato, sans-serif",margin:0,padding:0,boxSizing:"border-box"},invoicePreviewMain:{width:"100%",margin:"0 auto",background:"#ffff",boxShadow:"0 0 10px #ddd",...h==null?void 0:h.invoicePreviewMain},invoiceHeader:{padding:"15px 30px"},headerTable:{width:"100%",borderCollapse:"collapse"},headerCell:{padding:"15px 30px",verticalAlign:"top"},invoiceBody:{padding:"30px 25px 30px 25px"},table:{width:"100%",borderCollapse:"collapse",marginTop:"30px"},tableHeader:{background:`#${a}`,color:W},th:{padding:"0.75rem",textAlign:"left",fontSize:"13px",fontWeight:"600"},td:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${o}`},qrCode:{maxWidth:"114px",maxHeight:"114px",marginLeft:"0",marginRight:"0",marginTop:"15px",background:"#ffffff"},noSpace:{padding:0}};return t.jsx("div",{style:e.root,children:t.jsxs("div",{className:"invoice-preview-main",id:"boxes",style:e.invoicePreviewMain,children:[t.jsxs("div",{className:"invoice-header",style:e.invoiceHeader,children:[t.jsx("table",{className:"vertical-align-top",style:e.headerTable,children:t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsxs("td",{style:e.headerCell,children:[t.jsx("h3",{style:{textTransform:"uppercase",fontSize:"20px",fontWeight:"bold"},children:r("QUOTE")}),t.jsx("div",{className:"view-qrcode",style:{...e.qrCode,marginLeft:"0",marginRight:"0"},children:S==="on"&&t.jsx(z,{text:window.location.href,size:114})})]}),t.jsx("td",{className:"text-right",style:{...e.headerCell,textAlign:"right"},children:t.jsx("img",{src:$.quoteLogo||H,style:{maxWidth:"150px",maxHeight:"150px"},alt:"Logo"})})]})})}),t.jsx("table",{className:"vertical-align-top",style:e.headerTable,children:t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsxs("td",{style:e.headerCell,children:[t.jsxs("strong",{children:[r("From"),":"]}),t.jsxs("p",{style:{margin:"10px 0",lineHeight:"1.5"},children:[c((p=s.creator)==null?void 0:p.name)&&t.jsxs(t.Fragment,{children:[c(s.creator.name),t.jsx("br",{})]}),c((g=s.creator)==null?void 0:g.email)&&t.jsx(t.Fragment,{children:c(s.creator.email)})]})]}),t.jsx("td",{style:e.headerCell,children:t.jsx("table",{className:"no-space",style:{width:"100%"},children:t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{className:"text-right",style:{...e.noSpace}}),t.jsxs("td",{className:"text-right",style:{...e.noSpace,textAlign:"right"},children:[r("Number"),": ",c(s.quote_number)]})]}),t.jsxs("tr",{children:[t.jsx("td",{style:e.noSpace}),t.jsxs("td",{className:"text-right",style:{...e.noSpace,textAlign:"right"},children:[r("Valid Until"),": ",c(s.valid_until)]})]})]})})})]})})})]}),t.jsxs("div",{style:e.invoiceBody,children:[t.jsx("table",{style:{width:"100%"},children:t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsxs("td",{style:{verticalAlign:"top"},children:[t.jsxs("strong",{style:{marginBottom:"10px",display:"block"},children:[r("Bill To"),":"]}),t.jsxs("p",{style:{margin:0,lineHeight:"1.5"},children:[(j=s.billing_contact)==null?void 0:j.name,t.jsx("br",{}),(y=s.billing_contact)==null?void 0:y.email,t.jsx("br",{}),(b=s.billing_contact)==null?void 0:b.phone,t.jsx("br",{}),s.billing_address,t.jsx("br",{}),s.billing_postal_code,t.jsx("br",{}),s.billing_city," ",s.billing_state," ",s.billing_country]})]}),t.jsxs("td",{style:{verticalAlign:"top",textAlign:"right"},children:[t.jsxs("strong",{style:{marginBottom:"10px",display:"block"},children:[r("Ship To"),":"]}),t.jsxs("p",{style:{margin:0,lineHeight:"1.5"},children:[(m=s.shipping_contact)==null?void 0:m.name,t.jsx("br",{}),(f=s.shipping_contact)==null?void 0:f.email,t.jsx("br",{}),(_=s.shipping_contact)==null?void 0:_.phone,t.jsx("br",{}),s.shipping_address,t.jsx("br",{}),s.shipping_postal_code,t.jsx("br",{}),s.shipping_city," ",s.shipping_state," ",s.shipping_country]})]})]})})}),t.jsx("table",{style:e.table,children:t.jsxs("tbody",{children:[t.jsxs("tr",{style:e.tableHeader,children:[t.jsx("th",{style:e.th,children:r("Item")}),t.jsx("th",{style:e.th,children:r("Quantity")}),t.jsx("th",{style:e.th,children:r("Rate")}),t.jsxs("th",{style:e.th,children:[r("Tax")," (%)"]}),t.jsx("th",{style:e.th,children:r("Discount")}),t.jsxs("th",{style:e.th,children:[r("Price")," ",t.jsx("small",{style:{display:"block",fontSize:"12px"},children:r("before tax & discount")})]})]}),n.map((i,l)=>{var A;return t.jsxs("tr",{children:[t.jsx("td",{style:e.td,children:c(i.name)}),t.jsx("td",{style:e.td,children:c(i.quantity)}),t.jsx("td",{style:e.td,children:d(i.price)}),t.jsx("td",{style:e.td,children:(A=i.itemTax)==null?void 0:A.map((x,k)=>t.jsxs("span",{children:[x.name," (",x.rate,")",t.jsx("br",{}),x.price]},k))}),t.jsx("td",{style:e.td,children:i.discount?d(i.discount):"-"}),t.jsx("td",{style:e.td,children:d(typeof i.price=="string"&&i.price.startsWith("<")?i.price:Number(i.price)*Number(i.quantity))})]},l)}),t.jsxs("tr",{children:[t.jsx("td",{style:{...e.td,borderBottom:`1px solid ${o}`},children:r("Total")}),t.jsx("td",{style:{...e.td,borderBottom:`1px solid ${o}`},children:typeof((v=n[0])==null?void 0:v.quantity)=="string"&&((w=n[0])!=null&&w.quantity.startsWith("<"))?c((u=n[0])==null?void 0:u.quantity):n.reduce((i,l)=>i+Number(l.quantity),0)}),t.jsx("td",{style:{...e.td,borderBottom:`1px solid ${o}`},children:d(typeof((C=n[0])==null?void 0:C.price)=="string"&&((N=n[0])!=null&&N.price.startsWith("<"))?(T=n[0])==null?void 0:T.price:n.reduce((i,l)=>i+Number(l.price),0))}),t.jsx("td",{style:{...e.td,borderBottom:`1px solid ${o}`},children:d(s.total_tax||0)}),t.jsx("td",{style:{...e.td,borderBottom:`1px solid ${o}`},children:d(s.total_discount||0)}),t.jsx("td",{style:{...e.td,borderBottom:`1px solid ${o}`},children:d(s.sub_total||0)})]}),t.jsx("tr",{children:t.jsx("td",{colSpan:6,style:{border:"none",padding:"0"},children:t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsxs("tbody",{children:[s.total_discount>0&&t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:[r("Discount"),":"]}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:d(s.total_discount)})]}),Object.entries(B||{}).map(([i,l])=>t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:[i,":"]}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:d(l)})]},i)),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:t.jsxs("strong",{children:[r("Total"),":"]})}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:t.jsx("strong",{children:d(s.total_amount||0)})})]})]})})})})]})})]})]})})}export{O as default};
