import{r as m,j as e}from"./ui-C-VW1P-5.js";import{u as L,K as S,t as d,k as E,C as p,a as x,b as u,c as h,L as j,I as y,B as O,a6 as $,S as V,p as f}from"./app-BQKKzqf3.js";import{P as z}from"./page-template-CDM26U5Q.js";import{T as B}from"./textarea-BvlD1v8z.js";import{T as U,a as _,b as F,c as I}from"./tabs-9Vil1K0K.js";import"./vendor-CxtKjBZA.js";import"./utils-DCj7OOX3.js";import"./select-ivmaqUw7.js";import"./index-IS-ASe-l.js";import"./chevron-up-5kET5X99.js";import"./react-country-flag.esm-B_SRkH7q.js";import"./language-BbwPiY59.js";import"./loader-circle-DlS76Sc1.js";import"./copy-D-hAzd4M.js";import"./language-switcher-BX314FqS.js";import"./switch-T0u5R7d_.js";import"./refresh-cw-BnxOCyDc.js";import"./globe-BSt65iB3.js";import"./settings-G3vQs6CU.js";import"./chevron-right-C7M1oeKV.js";import"./credit-card-CmRw-oUn.js";import"./dollar-sign-BO1aYhXH.js";import"./mail-DI9tSiFs.js";import"./users-CrY8npWB.js";import"./package-BHhWwbAI.js";import"./calendar-BZ7v_rN9.js";import"./phone-B9JuG5Em.js";import"./trending-up-BUQ_r1Kz.js";import"./user-B-NTs7Zv.js";import"./use-favicon-D-Hpb8YY.js";function he({template:n,languages:o,variables:g}){const{t:s}=L(),{flash:i}=S().props,[N,C]=m.useState(Object.keys(o)[0]||"en"),[c,b]=m.useState(n.notification_template_langs.reduce((t,a)=>(t[a.lang]={title:a.title,content:a.content},t),{})),T=(t,a)=>{b(r=>({...r,[t]:{...r[t],title:a}}))},w=(t,a)=>{b(r=>({...r,[t]:{...r[t],content:a}}))};m.useEffect(()=>{i!=null&&i.success&&d.success(i.success),i!=null&&i.error&&d.error(i.error)},[i]);const k=[{title:s("Dashboard"),href:route("dashboard")},{title:s("Notification Templates"),href:route("notification-templates.index")},{title:n.name}];return e.jsxs(z,{title:n.name,url:route("notification-templates.show",n.id),breadcrumbs:k,children:[e.jsx(E,{title:`${n.name} - Notification Templates`}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(p,{children:[e.jsx(x,{children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsx(u,{children:s("Template Settings")})})}),e.jsx(h,{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{children:s("Template Name")}),e.jsx(y,{value:n.name,placeholder:s("Enter template name"),disabled:!0})]})})]}),e.jsxs(p,{children:[e.jsx(x,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(u,{children:s("Notification Content")}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s("Customize notification content for different languages")})]}),e.jsxs(O,{onClick:()=>{const t=c[N];t&&V.put(route("notification-templates.update-content",n.id),{lang:N,title:t.title,content:t.content})},size:"sm",className:"shrink-0",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),s("Save Content")]})]})}),e.jsx(h,{children:e.jsxs(U,{defaultValue:Object.keys(o)[0],onValueChange:C,className:"w-full",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsx(_,{className:"inline-flex h-auto p-1 w-max",children:Object.entries(o).map(([t,a])=>e.jsx(F,{value:t,className:"text-xs px-3 py-2 whitespace-nowrap data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:t.toUpperCase()},t))})})}),Object.entries(o).map(([t,a])=>{var r,v;return e.jsxs(I,{value:t,className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[e.jsx(f,{variant:"default",className:"px-3 py-1",children:t.toUpperCase()}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:a}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Edit notification content for this language")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsx(j,{htmlFor:`title-${t}`,className:"text-sm font-medium",children:s("Notification Title")}),e.jsx(y,{id:`title-${t}`,value:((r=c[t])==null?void 0:r.title)||"",onChange:l=>T(t,l.target.value),placeholder:s("Enter notification title (you can use variables like {company_name})"),className:"focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(j,{htmlFor:`content-${t}`,className:"text-sm font-medium",children:s("Notification Content")}),e.jsx(B,{id:`content-${t}`,value:((v=c[t])==null?void 0:v.content)||"",onChange:l=>w(t,l.target.value),placeholder:s("Write your notification content here. You can use variables..."),className:"min-h-[200px] focus:ring-2 focus:ring-primary",rows:8}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["ðŸ’¡ ",s("Tip: Use the variables from the sidebar to personalize your notifications")]})]})]})]},t)})]})})]})]}),e.jsx("div",{children:e.jsxs(p,{children:[e.jsxs(x,{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx("span",{children:s("Available Variables")}),e.jsx(f,{variant:"secondary",className:"text-xs",children:Object.keys(g).length})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s("Click to copy variables to use in your notification content")})]}),e.jsxs(h,{children:[e.jsx("div",{className:"space-y-3",children:Object.entries(g).map(([t,a])=>e.jsxs("div",{className:"group p-3 bg-muted/50 rounded-lg border hover:bg-muted/80 cursor-pointer transition-colors",onClick:()=>{navigator.clipboard.writeText(t),d.success(s("Variable copied to clipboard"))},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("code",{className:"text-sm font-mono text-primary font-medium bg-background px-1.5 py-0.5 rounded",children:t}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(f,{variant:"outline",className:"text-xs",children:s("Click to copy")})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2 leading-relaxed",children:a})]},t))}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-700",children:["ðŸ’¡ ",e.jsxs("strong",{children:[s("Tip"),":"]})," ",s("These variables will be automatically replaced with actual values when notifications are sent.")]})})]})]})})]})]})}export{he as default};
