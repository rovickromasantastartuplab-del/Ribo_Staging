import{j as t}from"./ui-C-VW1P-5.js";import{Q as C}from"./QRCodeComponent-CRXf3pHS.js";import{u as W,e as k}from"./app-BQKKzqf3.js";import"./vendor-CxtKjBZA.js";import"./utils-DCj7OOX3.js";function F({quote:i,items:x,taxesData:$,settings:_,color:n,qr_invoice:w,qrCodeSvg:S,styles:o}){var g,h,j,y,b,f,m,A;const{t:r}=W(),{logoDark:c}=k(),u=n==="ffffff"||n==="fbdd03"||n==="c1d82f"||n==="46de98"||n==="40c7d0"||n==="fac168"?"#000000":"#ffffff",l=n==="ffffff"?"#000000":`#${n}`,p=e=>{var s;return typeof e=="string"&&e.startsWith("<")?e:((s=window.appSettings)==null?void 0:s.formatCurrency(Number(e)))||`$${Number(e)}`},d=(e,s="")=>typeof e=="string"&&e.startsWith("<")?e:e||s;return t.jsxs("div",{style:{width:"100%",margin:"0 auto",background:"#ffffff",boxShadow:"0 0 10px #ddd",fontFamily:"Lato, sans-serif",...o==null?void 0:o.invoicePreviewMain},children:[t.jsx("div",{style:{padding:"15px 30px"},children:t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsx("tbody",{children:t.jsxs("tr",{style:{verticalAlign:"top"},children:[t.jsxs("td",{style:{padding:"0",verticalAlign:"top"},children:[t.jsx("h3",{style:{display:"inline-block",textTransform:"uppercase",fontSize:"40px",fontWeight:"bold",borderTop:`5px solid ${l}`,paddingTop:"15px",margin:"0"},children:r("QUOTE")}),t.jsx("div",{style:{maxWidth:"114px",maxHeight:"114px",marginTop:"5px",marginLeft:"0",marginRight:"0",background:"#ffffff"},children:w==="on"&&t.jsx(C,{text:window.location.href,size:114})})]}),t.jsx("td",{style:{padding:"0",verticalAlign:"top",textAlign:"right"},children:c&&t.jsx("img",{src:_.quoteLogo||c,style:{maxWidth:"150px",maxHeight:"150px"},alt:"Logo"})})]})})})}),t.jsx("div",{style:{padding:"15px 30px 0"},children:t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsx("tbody",{children:t.jsxs("tr",{style:{verticalAlign:"top"},children:[t.jsx("td",{style:{padding:"0",verticalAlign:"top"},children:t.jsxs("p",{style:{margin:"0",lineHeight:"1.5"},children:[t.jsxs("b",{style:{color:l},children:[r("FROM"),":"]}),t.jsx("br",{}),d((g=i.creator)==null?void 0:g.name)&&t.jsxs(t.Fragment,{children:[d(i.creator.name),t.jsx("br",{})]}),d((h=i.creator)==null?void 0:h.email)&&t.jsx(t.Fragment,{children:d(i.creator.email)})]})}),t.jsx("td",{style:{padding:"0",verticalAlign:"top"},children:t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"0",fontSize:"13px",fontWeight:"600",color:`#${n}`}}),t.jsxs("td",{style:{padding:"0",textAlign:"right",fontSize:"13px",fontWeight:"600"},children:[t.jsxs("b",{children:[r("Number"),":"]})," ",d(i.quote_number)]})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"0",fontSize:"13px",fontWeight:"600",color:`#${n}`}}),t.jsxs("td",{style:{padding:"0",textAlign:"right",fontSize:"13px",fontWeight:"600"},children:[t.jsxs("b",{children:[r("Valid Until"),":"]})," ",d(i.valid_until)]})]}),t.jsx("tr",{children:t.jsx("td",{colSpan:2,style:{padding:"0"}})})]})})})]})})})}),t.jsxs("div",{style:{padding:"30px 25px 30px 25px"},children:[t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsxs("td",{style:{verticalAlign:"top"},children:[t.jsxs("strong",{style:{marginBottom:"10px",display:"block"},children:[r("Bill To"),":"]}),t.jsxs("p",{style:{margin:"0",lineHeight:"1.5"},children:[d((j=i.billing_contact)==null?void 0:j.name),t.jsx("br",{}),d((y=i.billing_contact)==null?void 0:y.email),t.jsx("br",{}),d((b=i.billing_contact)==null?void 0:b.phone),t.jsx("br",{}),d(i.billing_address),t.jsx("br",{}),d(i.billing_postal_code),t.jsx("br",{}),d(i.billing_city)," ",d(i.billing_state)," ",d(i.billing_country)]})]}),t.jsxs("td",{style:{verticalAlign:"top",textAlign:"right"},children:[t.jsxs("strong",{style:{marginBottom:"10px",display:"block"},children:[r("Ship To"),":"]}),t.jsxs("p",{style:{margin:"0",lineHeight:"1.5"},children:[d((f=i.shipping_contact)==null?void 0:f.name),t.jsx("br",{}),d((m=i.shipping_contact)==null?void 0:m.email),t.jsx("br",{}),d((A=i.shipping_contact)==null?void 0:A.phone),t.jsx("br",{}),d(i.shipping_address),t.jsx("br",{}),d(i.shipping_postal_code),t.jsx("br",{}),d(i.shipping_city)," ",d(i.shipping_state)," ",d(i.shipping_country)]})]})]})})}),t.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"30px"},children:t.jsxs("tbody",{children:[t.jsxs("tr",{style:{background:`#${n}`,color:u},children:[t.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:r("Item")}),t.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:r("Quantity")}),t.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:r("Rate")}),t.jsxs("th",{style:{padding:"0.75rem",textAlign:"left"},children:[r("Tax")," (%)"]}),t.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:r("Discount")}),t.jsxs("th",{style:{padding:"0.75rem",textAlign:"left"},children:[r("Price")," ",t.jsx("small",{style:{display:"block",fontSize:"12px"},children:r("before tax & discount")})]})]}),x.length>0?x.map((e,s)=>{var T;return t.jsxs("tr",{style:{borderTop:`1px solid ${l}`},children:[t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:d(e.name)}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:d(e.quantity)}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:p(e.price)}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:(T=e.itemTax)==null?void 0:T.map((a,v)=>t.jsxs("span",{children:[t.jsx("span",{children:a.name})," ",t.jsxs("span",{children:["(",a.rate,")"]}),t.jsx("br",{}),t.jsx("span",{children:a.price})]},v))}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:e.discount?p(e.discount):"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:p(typeof e.price=="string"&&e.price.startsWith("<")?e.price:Number(e.price||0)*Number(e.quantity||0))})]},s)}):t.jsxs("tr",{style:{borderTop:`1px solid ${l}`},children:[t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:"-"}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:"-"})]}),t.jsxs("tr",{style:{borderTop:`1px solid ${l}`,borderBottom:`1px solid ${l}`},children:[t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:r("Total")}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:x.reduce((e,s)=>e+Number(s.quantity||0),0)}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:p(x.reduce((e,s)=>e+Number(s.price||0),0))}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:p(i.total_tax||0)}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:p(i.total_discount||0)}),t.jsx("td",{style:{padding:"0.75rem",textAlign:"left",borderTop:`1px solid ${l}`},children:p(i.sub_total||0)})]}),t.jsx("tr",{children:t.jsx("td",{colSpan:6,style:{border:"none",padding:"0"},children:t.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:t.jsxs("tbody",{children:[i.total_discount>0&&t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:[r("Discount"),":"]}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:p(i.total_discount)})]}),Object.entries($||{}).map(([e,s])=>t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:[e,":"]}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:p(s)})]},e)),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right"},children:t.jsxs("strong",{children:[r("Total"),":"]})}),t.jsx("td",{style:{padding:"0.75rem 0 0 0",textAlign:"right",width:"146px"},children:t.jsx("strong",{children:p(i.total_amount||0)})})]})]})})})})]})})]})]})}export{F as default};
