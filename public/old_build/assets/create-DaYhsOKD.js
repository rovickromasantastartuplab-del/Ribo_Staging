import{r as f,j as e}from"./ui-C-VW1P-5.js";import{P as M}from"./page-template-CDM26U5Q.js";import{u as E,K,S as C,C as S,a as k,b as N,c as _,I as x,ab as T,B as q,t as l}from"./app-BQKKzqf3.js";import{T as H}from"./textarea-BvlD1v8z.js";import{S as c,a as n,b as o,c as m,d}from"./select-ivmaqUw7.js";import{A as L}from"./arrow-left-CYc20UlY.js";import"./vendor-CxtKjBZA.js";import"./react-country-flag.esm-B_SRkH7q.js";import"./language-BbwPiY59.js";import"./loader-circle-DlS76Sc1.js";import"./copy-D-hAzd4M.js";import"./language-switcher-BX314FqS.js";import"./switch-T0u5R7d_.js";import"./refresh-cw-BnxOCyDc.js";import"./globe-BSt65iB3.js";import"./settings-G3vQs6CU.js";import"./chevron-up-5kET5X99.js";import"./chevron-right-C7M1oeKV.js";import"./credit-card-CmRw-oUn.js";import"./dollar-sign-BO1aYhXH.js";import"./mail-DI9tSiFs.js";import"./users-CrY8npWB.js";import"./package-BHhWwbAI.js";import"./calendar-BZ7v_rN9.js";import"./phone-B9JuG5Em.js";import"./trending-up-BUQ_r1Kz.js";import"./user-B-NTs7Zv.js";import"./use-favicon-D-Hpb8YY.js";import"./utils-DCj7OOX3.js";import"./index-IS-ASe-l.js";function ve(){var P;const{t}=E(),{categories:h,brands:p,taxes:j,users:g,auth:v}=K().props,w=((P=v==null?void 0:v.user)==null?void 0:P.type)==="company",[a,F]=f.useState({name:"",sku:"",description:"",price:"",stock_quantity:"",category_id:"",brand_id:"",tax_id:"",status:"active",assigned_to:""}),[I,A]=f.useState(""),[b,D]=f.useState([]),V=[{title:t("Dashboard"),href:route("dashboard")},{title:t("Products"),href:route("products.index")},{title:t("Create Product")}],i=(s,y)=>{F(r=>({...r,[s]:y}))},B=s=>{s.preventDefault();const y={...a,main_image_id:I||null,additional_image_ids:b.length>0?b:null};l.loading(t("Creating product...")),C.post(route("products.store"),y,{onSuccess:r=>{var u;l.dismiss(),(u=r.props.flash)!=null&&u.success?l.success(t(r.props.flash.success)):l.success(t("Product created successfully"))},onError:r=>{l.dismiss();const u=typeof r=="object"?Object.values(r).flat().join(", "):r;l.error(t("Failed to create: {{errors}}",{errors:u})||t("Failed to create product"))}})};return e.jsx(M,{title:t("Create Product"),breadcrumbs:V,actions:[{label:t("Back to Products"),icon:e.jsx(L,{className:"h-4 w-4 mr-2"}),variant:"outline",onClick:()=>C.visit(route("products.index"))}],children:e.jsxs("form",{onSubmit:B,className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs(S,{children:[e.jsx(k,{children:e.jsx(N,{children:t("Basic Information")})}),e.jsxs(_,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:[t("Product Name")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(x,{id:"name",value:a.name,onChange:s=>i("name",s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"sku",className:"block text-sm font-medium text-gray-700 mb-1",children:[t("SKU")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(x,{id:"sku",value:a.sku,onChange:s=>i("sku",s.target.value),required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:t("Description")}),e.jsx(H,{id:"description",value:a.description,onChange:s=>i("description",s.target.value),rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:[t("Price")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(x,{id:"price",type:"number",step:"0.01",min:"0",value:a.price,onChange:s=>i("price",s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"stock_quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:[t("Stock Quantity")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(x,{id:"stock_quantity",type:"number",min:"0",value:a.stock_quantity,onChange:s=>i("stock_quantity",s.target.value),required:!0})]})]})]})]}),e.jsxs(S,{children:[e.jsx(k,{children:e.jsx(N,{children:t("Product Images")})}),e.jsxs(_,{className:"space-y-6",children:[e.jsx("div",{children:e.jsx(T,{label:t("Main Image"),value:I,onChange:s=>A(s),placeholder:t("Select main image..."),showPreview:!0,returnType:"id"})}),e.jsx("div",{children:e.jsx(T,{label:t("Additional Images"),value:b,onChange:s=>D(s),placeholder:t("Select additional images..."),multiple:!0,showPreview:!0,returnType:"id"})})]})]}),e.jsxs(S,{children:[e.jsx(k,{children:e.jsx(N,{children:t("Categories & Settings")})}),e.jsxs(_,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("Category")}),e.jsxs(c,{value:a.category_id,onValueChange:s=>i("category_id",s),children:[e.jsx(n,{children:e.jsx(o,{placeholder:t("Select category")})}),e.jsx(m,{children:h==null?void 0:h.map(s=>e.jsx(d,{value:s.id.toString(),children:s.name},s.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("Brand")}),e.jsxs(c,{value:a.brand_id,onValueChange:s=>i("brand_id",s),children:[e.jsx(n,{children:e.jsx(o,{placeholder:t("Select brand")})}),e.jsx(m,{children:p==null?void 0:p.map(s=>e.jsx(d,{value:s.id.toString(),children:s.name},s.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("Tax")}),e.jsxs(c,{value:a.tax_id,onValueChange:s=>i("tax_id",s),children:[e.jsx(n,{children:e.jsx(o,{placeholder:t("Select tax")})}),e.jsx(m,{children:j==null?void 0:j.map(s=>e.jsxs(d,{value:s.id.toString(),children:[s.name," (",s.rate,"%)"]},s.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("Assign To")}),e.jsxs(c,{value:a.assigned_to,onValueChange:s=>i("assigned_to",s),children:[e.jsx(n,{children:e.jsx(o,{placeholder:t("Select user")})}),e.jsx(m,{children:g==null?void 0:g.map(s=>e.jsxs(d,{value:s.id.toString(),children:[s.name," (",s.email,")"]},s.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("Status")}),e.jsxs(c,{value:a.status,onValueChange:s=>i("status",s),children:[e.jsx(n,{children:e.jsx(o,{})}),e.jsxs(m,{children:[e.jsx(d,{value:"active",children:t("Active")}),e.jsx(d,{value:"inactive",children:t("Inactive")})]})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(q,{type:"button",variant:"outline",onClick:()=>C.visit(route("products.index")),children:t("Cancel")}),e.jsx(q,{type:"submit",children:t("Create Product")})]})]})})}export{ve as default};
