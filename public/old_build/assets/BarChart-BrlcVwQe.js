import{g as ke,aM as Be,aN as Ee,i as Z,r as T,D as we,E as Se,F as je,G as oe,H as Ce,I as _e,K as De,M as Me,aO as Ke,an as ze,u as F,U as Te,N as Le,V as se,L as W,P as Ne,Q as Re,aP as $e,aQ as Fe,aR as q,o as le,m as ue,a as ce,Z as We,_ as Ve,$ as S,aS as Ge,a1 as Xe,a2 as Ye,aT as Ue,ap as H,t as w,al as Qe,w as j,x as C,v as _,y as Ze,B as de,z as ve,aU as fe,aV as qe,aW as He,aX as J,aY as Je,aZ as ee,as as G,a_ as ae,a3 as ea,a4 as aa}from"./CartesianChart-CxEwSF5A.js";import{r as c}from"./ui-C-VW1P-5.js";import{c as ra}from"./utils-DCj7OOX3.js";import{c as ta,C as na,u as pe,a as me,b as he}from"./tooltipContext-BzwZRln_.js";var ia=()=>{var e=ke();return c.useEffect(()=>(e(Be()),()=>{e(Ee())})),null},oa="Invariant failed";function sa(e,a){throw new Error(oa)}var la=["x","y"];function X(){return X=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},X.apply(null,arguments)}function re(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,t)}return r}function K(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?re(Object(r),!0).forEach(function(t){ua(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ua(e,a,r){return(a=ca(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function ca(e){var a=da(e,"string");return typeof a=="symbol"?a:a+""}function da(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function va(e,a){if(e==null)return{};var r,t,i=fa(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)r=n[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fa(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}function pa(e,a){var{x:r,y:t}=e,i=va(e,la),n="".concat(r),o=parseInt(n,10),f="".concat(t),m=parseInt(f,10),s="".concat(a.height||i.height),u=parseInt(s,10),p="".concat(a.width||i.width),v=parseInt(p,10);return K(K(K(K(K({},a),i),o?{x:o}:{}),m?{y:m}:{}),{},{height:u,width:v,name:a.name,radius:a.radius})}function ye(e){return c.createElement(ta,X({shapeType:"rectangle",propTransformer:pa,activeClassName:"recharts-active-bar"},e))}var ma=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(t,i)=>{if(Z(a))return a;var n=Z(t)||T(t);return n?a(t,i):(n||sa(),r)}},ha=["onMouseEnter","onMouseLeave","onClick"],ya=["value","background","tooltipPosition"],ga=["onMouseEnter","onClick","onMouseLeave"];function z(){return z=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},z.apply(null,arguments)}function te(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,t)}return r}function I(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?te(Object(r),!0).forEach(function(t){V(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function V(e,a,r){return(a=ba(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function ba(e){var a=xa(e,"string");return typeof a=="symbol"?a:a+""}function xa(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Y(e,a){if(e==null)return{};var r,t,i=Pa(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)r=n[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Pa(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}var Aa=e=>{var{dataKey:a,name:r,fill:t,legendType:i,hide:n}=e;return[{inactive:n,dataKey:a,type:i,color:t,value:oe(r,a),payload:e}]};function Oa(e){var{dataKey:a,stroke:r,strokeWidth:t,fill:i,name:n,hide:o,unit:f}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:t,fill:i,dataKey:a,nameKey:void 0,name:oe(n,a),hide:o,type:e.tooltipType,color:e.fill,unit:f}}}function Ia(e){var a=F(le),{data:r,dataKey:t,background:i,allOtherBarProps:n}=e,{onMouseEnter:o,onMouseLeave:f,onClick:m}=n,s=Y(n,ha),u=pe(o,t),p=me(f),v=he(m,t);if(!i||r==null)return null;var P=ue(i,!1);return c.createElement(c.Fragment,null,r.map((g,y)=>{var{value:x,background:d,tooltipPosition:l}=g,h=Y(g,ya);if(!d)return null;var b=u(g,y),O=p(g,y),A=v(g,y),k=I(I(I(I(I({option:i,isActive:String(y)===a},h),{},{fill:"#eee"},d),P),ce(s,g,y)),{},{onMouseEnter:b,onMouseLeave:O,onClick:A,dataKey:t,index:y,className:"recharts-bar-background-rectangle"});return c.createElement(ye,z({key:"background-bar-".concat(y)},k))}))}function ge(e){var{data:a,props:r,showLabels:t}=e,i=ue(r,!1),{shape:n,dataKey:o,activeBar:f}=r,m=F(le),s=F(Ge),{onMouseEnter:u,onClick:p,onMouseLeave:v}=r,P=Y(r,ga),g=pe(u,o),y=me(v),x=he(p,o);return a?c.createElement(c.Fragment,null,a.map((d,l)=>{var h=f&&String(l)===m&&(s==null||o===s),b=h?f:n,O=I(I(I({},i),d),{},{isActive:h,option:b,index:l,dataKey:o});return c.createElement(W,z({className:"recharts-bar-rectangle"},ce(P,d,l),{onMouseEnter:g(d,l),onMouseLeave:y(d,l),onClick:x(d,l),key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(l)}),c.createElement(ye,O))}),t&&Xe.renderCallByParent(r,a)):null}function ka(e){var{props:a,previousRectanglesRef:r}=e,{data:t,layout:i,isAnimationActive:n,animationBegin:o,animationDuration:f,animationEasing:m,onAnimationEnd:s,onAnimationStart:u}=a,p=r.current,v=We(a,"recharts-bar-"),[P,g]=c.useState(!1),y=c.useCallback(()=>{typeof s=="function"&&s(),g(!1)},[s]),x=c.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return c.createElement(Ve,{begin:o,duration:f,isActive:n,easing:m,from:{t:0},to:{t:1},onAnimationEnd:y,onAnimationStart:x,key:v},d=>{var{t:l}=d,h=l===1?t:t.map((b,O)=>{var A=p&&p[O];if(A){var k=S(A.x,b.x),D=S(A.y,b.y),B=S(A.width,b.width),M=S(A.height,b.height);return I(I({},b),{},{x:k(l),y:D(l),width:B(l),height:M(l)})}if(i==="horizontal"){var L=S(0,b.height),E=L(l);return I(I({},b),{},{y:b.y+b.height-E,height:E})}var N=S(0,b.width),R=N(l);return I(I({},b),{},{width:R})});return l>0&&(r.current=h),c.createElement(W,null,c.createElement(ge,{props:a,data:h,showLabels:!P}))})}function Ba(e){var{data:a,isAnimationActive:r}=e,t=c.useRef(null);return r&&a&&a.length&&(t.current==null||t.current!==a)?c.createElement(ka,{previousRectanglesRef:t,props:e}):c.createElement(ge,{props:e,data:a,showLabels:!0})}var be=0,Ea=(e,a)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:se(e,a)}};class wa extends c.PureComponent{constructor(){super(...arguments),V(this,"id",Ye("recharts-bar-"))}render(){var{hide:a,data:r,dataKey:t,className:i,xAxisId:n,yAxisId:o,needClip:f,background:m,id:s,layout:u}=this.props;if(a)return null;var p=ra("recharts-bar",i),v=T(s)?this.id:s;return c.createElement(W,{className:p},f&&c.createElement("defs",null,c.createElement(Ne,{clipPathId:v,xAxisId:n,yAxisId:o})),c.createElement(W,{className:"recharts-bar-rectangles",clipPath:f?"url(#clipPath-".concat(v,")"):null},c.createElement(Ia,{data:r,dataKey:t,background:m,allOtherBarProps:this.props}),c.createElement(Ba,this.props)),c.createElement(Re,{direction:u==="horizontal"?"y":"x"},this.props.children))}}var xe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Le.isSsr,legendType:"rect",minPointSize:be,xAxisId:0,yAxisId:0};function Sa(e){var{xAxisId:a,yAxisId:r,hide:t,legendType:i,minPointSize:n,activeBar:o,animationBegin:f,animationDuration:m,animationEasing:s,isAnimationActive:u}=Ce(e,xe),{needClip:p}=_e(a,r),v=De(),P=Me(),g=c.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:n,stackId:Ke(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,n,e.stackId]),y=ze(e.children,na),x=F(h=>tr(h,a,r,P,g,y));if(v!=="vertical"&&v!=="horizontal")return null;var d,l=x==null?void 0:x[0];return l==null||l.height==null||l.width==null?d=0:d=v==="vertical"?l.height/2:l.width/2,c.createElement(Te,{xAxisId:a,yAxisId:r,data:x,dataPointFormatter:Ea,errorBarOffset:d},c.createElement(wa,z({},e,{layout:v,needClip:p,data:x,xAxisId:a,yAxisId:r,hide:t,legendType:i,minPointSize:n,activeBar:o,animationBegin:f,animationDuration:m,animationEasing:s,isAnimationActive:u})))}function ja(e){var{layout:a,barSettings:{dataKey:r,minPointSize:t},pos:i,bandSize:n,xAxis:o,yAxis:f,xAxisTicks:m,yAxisTicks:s,stackedData:u,displayedData:p,offset:v,cells:P}=e,g=a==="horizontal"?f:o,y=u?g.scale.domain():null,x=$e({numericAxis:g});return p.map((d,l)=>{var h,b,O,A,k,D;u?h=Fe(u[l],y):(h=se(d,r),Array.isArray(h)||(h=[x,h]));var B=ma(t,be)(h[1],l);if(a==="horizontal"){var M,[L,E]=[f.scale(h[0]),f.scale(h[1])];b=q({axis:o,ticks:m,bandSize:n,offset:i.offset,entry:d,index:l}),O=(M=E??L)!==null&&M!==void 0?M:void 0,A=i.size;var N=L-E;if(k=Ue(N)?0:N,D={x:b,y:v.top,width:A,height:v.height},Math.abs(B)>0&&Math.abs(k)<Math.abs(B)){var R=H(k||B)*(Math.abs(B)-Math.abs(k));O-=R,k+=R}}else{var[Q,Oe]=[o.scale(h[0]),o.scale(h[1])];if(b=Q,O=q({axis:f,ticks:s,bandSize:n,offset:i.offset,entry:d,index:l}),A=Oe-Q,k=i.size,D={x:v.left,y:O,width:v.width,height:k},Math.abs(B)>0&&Math.abs(A)<Math.abs(B)){var Ie=H(A||B)*(Math.abs(B)-Math.abs(A));A+=Ie}}return I(I({},d),{},{x:b,y:O,width:A,height:k,value:u?h:h[1],payload:d,background:D,tooltipPosition:{x:b+A/2,y:O+k/2}},P&&P[l]&&P[l].props)})}class Pe extends c.PureComponent{render(){return c.createElement(we,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},c.createElement(ia,null),c.createElement(Se,{legendPayload:Aa(this.props)}),c.createElement(je,{fn:Oa,args:this.props}),c.createElement(Sa,this.props))}}V(Pe,"displayName","Bar");V(Pe,"defaultProps",xe);function ne(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,t)}return r}function $(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?ne(Object(r),!0).forEach(function(t){Ca(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ca(e,a,r){return(a=_a(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function _a(e){var a=Da(e,"string");return typeof a=="symbol"?a:a+""}function Da(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Ma=(e,a)=>a,Ka=(e,a,r)=>r,za=(e,a,r,t)=>t,U=(e,a,r,t,i)=>i,Ta=(e,a,r,t,i)=>i.maxBarSize,La=(e,a,r,t,i,n)=>n,ie=(e,a,r)=>{var t=r??e;if(!T(t))return G(t,a,0)},Na=w([_,ve,Ma,Ka,za],(e,a,r,t,i)=>a.filter(n=>e==="horizontal"?n.xAxisId===r:n.yAxisId===t).filter(n=>n.isPanorama===i).filter(n=>n.hide===!1).filter(n=>n.type==="bar")),Ra=(e,a,r,t)=>{var i=_(e);return i==="horizontal"?J(e,"yAxis",r,t):J(e,"xAxis",a,t)},$a=(e,a,r)=>{var t=_(e);return t==="horizontal"?ee(e,"xAxis",a):ee(e,"yAxis",r)};function Fa(e){return e.stackId!=null&&e.dataKey!=null}var Wa=(e,a,r)=>{var t={},i=e.filter(Fa),n=e.filter(s=>s.stackId==null),o=i.reduce((s,u)=>(s[u.stackId]||(s[u.stackId]=[]),s[u.stackId].push(u),s),t),f=Object.entries(o).map(s=>{var[u,p]=s,v=p.map(g=>g.dataKey),P=ie(a,r,p[0].barSize);return{stackId:u,dataKeys:v,barSize:P}}),m=n.map(s=>{var u=[s.dataKey].filter(v=>v!=null),p=ie(a,r,s.barSize);return{stackId:void 0,dataKeys:u,barSize:p}});return[...f,...m]},Va=w([Na,Je,$a],Wa),Ga=(e,a,r,t,i)=>{var n,o,f=_(e),m=fe(e),{maxBarSize:s}=i,u=T(s)?m:s,p,v;return f==="horizontal"?(p=j(e,"xAxis",a,t),v=C(e,"xAxis",a,t)):(p=j(e,"yAxis",r,t),v=C(e,"yAxis",r,t)),(n=(o=de(p,v,!0))!==null&&o!==void 0?o:u)!==null&&n!==void 0?n:0},Ae=(e,a,r,t)=>{var i=_(e),n,o;return i==="horizontal"?(n=j(e,"xAxis",a,t),o=C(e,"xAxis",a,t)):(n=j(e,"yAxis",r,t),o=C(e,"yAxis",r,t)),de(n,o)};function Xa(e,a,r,t,i){var n=t.length;if(!(n<1)){var o=G(e,r,0,!0),f,m=[];if(ae(t[0].barSize)){var s=!1,u=r/n,p=t.reduce((d,l)=>d+(l.barSize||0),0);p+=(n-1)*o,p>=r&&(p-=(n-1)*o,o=0),p>=r&&u>0&&(s=!0,u*=.9,p=n*u);var v=(r-p)/2>>0,P={offset:v-o,size:0};f=t.reduce((d,l)=>{var h,b={stackId:l.stackId,dataKeys:l.dataKeys,position:{offset:P.offset+P.size+o,size:s?u:(h=l.barSize)!==null&&h!==void 0?h:0}},O=[...d,b];return P=O[O.length-1].position,O},m)}else{var g=G(a,r,0,!0);r-2*g-(n-1)*o<=0&&(o=0);var y=(r-2*g-(n-1)*o)/n;y>1&&(y>>=0);var x=ae(i)?Math.min(y,i):y;f=t.reduce((d,l,h)=>[...d,{stackId:l.stackId,dataKeys:l.dataKeys,position:{offset:g+(y+o)*h+(y-x)/2,size:x}}],m)}return f}}var Ya=(e,a,r,t,i,n,o)=>{var f=T(o)?a:o,m=Xa(r,t,i!==n?i:n,e,f);return i!==n&&m!=null&&(m=m.map(s=>$($({},s),{},{position:$($({},s.position),{},{offset:s.position.offset-i/2})}))),m},Ua=w([Va,fe,qe,He,Ga,Ae,Ta],Ya),Qa=(e,a,r,t)=>j(e,"xAxis",a,t),Za=(e,a,r,t)=>j(e,"yAxis",r,t),qa=(e,a,r,t)=>C(e,"xAxis",a,t),Ha=(e,a,r,t)=>C(e,"yAxis",r,t),Ja=w([Ua,U],(e,a)=>{if(e!=null){var r=e.find(t=>t.stackId===a.stackId&&t.dataKeys.includes(a.dataKey));if(r!=null)return r.position}}),er=(e,a)=>{if(!(!e||(a==null?void 0:a.dataKey)==null)){var{stackId:r}=a;if(r!=null){var t=e[r];if(t){var{stackedData:i}=t;if(i){var n=i.find(o=>o.key===a.dataKey);return n}}}}},ar=w([ve,U],(e,a)=>{if(e.some(r=>r.type==="bar"&&a.dataKey===r.dataKey&&a.stackId===r.stackId&&a.stackId===r.stackId))return a}),rr=w([Ra,U],er),tr=w([Qe,Qa,Za,qa,Ha,Ja,_,Ze,Ae,rr,ar,La],(e,a,r,t,i,n,o,f,m,s,u,p)=>{var{chartData:v,dataStartIndex:P,dataEndIndex:g}=f;if(!(u==null||n==null||o!=="horizontal"&&o!=="vertical"||a==null||r==null||t==null||i==null||m==null)){var{data:y}=u,x;if(y!=null&&y.length>0?x=y:x=v==null?void 0:v.slice(P,g+1),x!=null)return ja({layout:o,barSettings:u,pos:n,bandSize:m,xAxis:a,yAxis:r,xAxisTicks:t,yAxisTicks:i,stackedData:s,displayedData:x,offset:e,cells:p})}}),nr=["axis","item"],ur=c.forwardRef((e,a)=>c.createElement(ea,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nr,tooltipPayloadSearcher:aa,categoricalChartProps:e,ref:a}));export{ur as B,Pe as a};
