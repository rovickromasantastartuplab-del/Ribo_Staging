import{r as b,j as e}from"./ui-C-VW1P-5.js";import{u as w,K as Y,ak as D,L as m,B as M,a6 as E,S as k,t as x}from"./app-BQKKzqf3.js";import{S as u,a as g,b as h,c as j,d as a}from"./select-ivmaqUw7.js";import{l as L}from"./language-BbwPiY59.js";import{R as N}from"./react-country-flag.esm-B_SRkH7q.js";import"./vendor-CxtKjBZA.js";import"./utils-DCj7OOX3.js";import"./index-IS-ASe-l.js";import"./chevron-up-5kET5X99.js";function I({settings:p={},timezones:f={},dateFormats:v={},timeFormats:S={}}){const{t:n}=w(),z=Y().props,c={defaultLanguage:"en",dateFormat:"MM/DD/YYYY",timeFormat:"12h",defaultTimezone:"UTC"},i=Object.keys(p).length>0?p:z.settings||{},[l,y]=b.useState(()=>({defaultLanguage:i.defaultLanguage||c.defaultLanguage,dateFormat:i.dateFormat||c.dateFormat,timeFormat:i.timeFormat||c.timeFormat,defaultTimezone:i.defaultTimezone||c.defaultTimezone}));b.useEffect(()=>{if(Object.keys(i).length>0){const s=Object.keys(c).reduce((t,r)=>(t[r]=i[r]||c[r],t),{});y(t=>({...t,...s}))}},[i]);const d=(s,t)=>{y(r=>({...r,[s]:t}))},O=s=>{s.preventDefault();const t={defaultLanguage:l.defaultLanguage,dateFormat:l.dateFormat,timeFormat:l.timeFormat,defaultTimezone:l.defaultTimezone};k.post(route("settings.company.system.update"),t,{preserveScroll:!0,onSuccess:r=>{var T,C;const o=(T=r.props.flash)==null?void 0:T.success,F=(C=r.props.flash)==null?void 0:C.error;o?x.success(o):F&&x.error(F)},onError:r=>{const o=r.error||Object.values(r).join(", ")||n("Failed to update system settings");x.error(o)}})};return e.jsx(D,{title:n("System Settings"),description:n("Configure system-wide settings for your company"),action:e.jsxs(M,{type:"submit",form:"company-system-settings-form",size:"sm",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),n("Save Changes")]}),children:e.jsx("form",{id:"company-system-settings-form",onSubmit:O,className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"defaultLanguage",children:n("Default Language")}),e.jsxs(u,{value:l.defaultLanguage,onValueChange:s=>d("defaultLanguage",s),children:[e.jsx(g,{children:e.jsx(h,{placeholder:n("Select language"),children:l.defaultLanguage&&(()=>{const s=L.find(t=>t.code===l.defaultLanguage);return s?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{countryCode:s.countryCode,svg:!0,style:{width:"1.2em",height:"1.2em"}})," ",e.jsx("span",{children:s.name})," "]}):n("Select language")})()})}),e.jsx(j,{children:L.map(s=>e.jsx(a,{value:s.code,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{countryCode:s.countryCode,svg:!0,style:{width:"1.2em",height:"1.2em"}})," ",e.jsx("span",{children:s.name})]})},s.code))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"dateFormat",children:n("Date Format")}),e.jsxs(u,{value:l.dateFormat,onValueChange:s=>d("dateFormat",s),children:[e.jsx(g,{children:e.jsx(h,{placeholder:n("Select date format")})}),e.jsx(j,{children:Object.keys(v).length>0?Object.entries(v).map(([s,t])=>e.jsx(a,{value:s,children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{children:s}),e.jsxs("span",{className:"text-muted-foreground text-sm ml-4",children:["(",t,")"]})]})},s)):e.jsxs(e.Fragment,{children:[e.jsx(a,{value:"M j, Y",children:"Jan 1, 2025"}),e.jsx(a,{value:"d-m-Y",children:"01-01-2025"}),e.jsx(a,{value:"Y-m-d",children:"2025-01-01"}),e.jsx(a,{value:"F j, Y",children:"January 1, 2025"})]})})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"timeFormat",children:n("Time Format")}),e.jsxs(u,{value:l.timeFormat,onValueChange:s=>d("timeFormat",s),children:[e.jsx(g,{children:e.jsx(h,{placeholder:n("Select time format")})}),e.jsx(j,{children:Object.keys(S).length>0?Object.entries(S).map(([s,t])=>e.jsx(a,{value:s,children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{children:s}),e.jsxs("span",{className:"text-muted-foreground text-sm ml-4",children:["(",t,")"]})]})},s)):e.jsxs(e.Fragment,{children:[e.jsx(a,{value:"g:i A",children:"1:30 PM"}),e.jsx(a,{value:"H:i",children:"13:30"}),e.jsx(a,{value:"g:i a",children:"1:30 pm"})]})})]})]}),e.jsxs("div",{className:"grid gap-2 md:col-span-2",children:[e.jsx(m,{htmlFor:"defaultTimezone",children:n("Default Timezone")}),e.jsxs(u,{value:l.defaultTimezone,onValueChange:s=>d("defaultTimezone",s),children:[e.jsx(g,{children:e.jsx(h,{placeholder:n("Select timezone")})}),e.jsx(j,{children:Object.keys(f).length>0?Object.entries(f).map(([s,t])=>e.jsx(a,{value:s,children:t},s)):e.jsxs(e.Fragment,{children:[e.jsx(a,{value:"UTC",children:"UTC"}),e.jsx(a,{value:"America/New_York",children:"Eastern Time (ET)"}),e.jsx(a,{value:"America/Chicago",children:"Central Time (CT)"}),e.jsx(a,{value:"Europe/London",children:"London (GMT)"})]})})]})]})]})})})}export{I as default};
