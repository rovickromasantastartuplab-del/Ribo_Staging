import{r as N,j as e}from"./ui-C-VW1P-5.js";import{u as E,t as _,B as v,ai as J,C as R,a as L,b as B,c as D,L as q,I as $,S as ie,p as ts,D as rs,l as ns,n as ls,o as is,K as cs,k as os,h as ds,d as ms,F as xs}from"./app-BQKKzqf3.js";import{u as hs,S as us}from"./cashfree-modal-fix-C2SZzvlS.js";import{L as T}from"./loader-circle-DlS76Sc1.js";import{E as Y}from"./external-link-nVhYE8Jw.js";import{W,C as xe,B as ps}from"./wallet-G_F5INNy.js";import{C as es}from"./copy-D-hAzd4M.js";import{C as ss}from"./circle-check-big-ClvvRvVa.js";import{A as z,a as S}from"./alert-Bt8OE1Tt.js";import{C as k}from"./credit-card-CmRw-oUn.js";import{C as A}from"./circle-alert-Ba7f7jIF.js";import as from"./Template1-D_c-WOvd.js";import ys from"./Template2-B9YFv7jC.js";import fs from"./Template3-DAVHVFDJ.js";import js from"./Template4-DnICxY72.js";import bs from"./Template5-eYwdo_pq.js";import Ns from"./Template6-BrIsY0x4.js";import gs from"./Template7-Dr9JniUw.js";import ws from"./Template8-k_1bfJ4Q.js";import vs from"./Template9-CYyq5F5Z.js";import Ps from"./Template10-CuXgBiEW.js";import{I as _s}from"./IframePortal-BwGjSup1.js";import{P as Cs}from"./printer-CMSe0GyN.js";import{D as he}from"./dollar-sign-BO1aYhXH.js";import{P as ue}from"./package-BHhWwbAI.js";import{C as Qe}from"./calendar-BZ7v_rN9.js";import{U as ks}from"./user-B-NTs7Zv.js";import{M as Fs}from"./map-pin-BDUdmeW2.js";import"./vendor-CxtKjBZA.js";import"./utils-DCj7OOX3.js";import"./react-stripe.esm-DQmMnBY3.js";import"./QRCodeComponent-CRXf3pHS.js";function Is({invoiceId:a,amount:n,paymentType:y,paypalClientId:u,currency:g,onSuccess:P,onCancel:b}){const{t:s}=E(),r=N.useRef(null),{processPayment:p}=hs({onSuccess:P,onError:x=>_.error(x)});return N.useEffect(()=>{if(!u||!r.current)return;console.log(u);const x=document.createElement("script");return x.src=`https://www.paypal.com/sdk/js?client-id=${u}&currency=${g.toUpperCase()}&disable-funding=credit,card`,x.async=!0,x.onload=()=>{window.paypal&&r.current&&window.paypal.Buttons({createOrder:(d,j)=>j.order.create({purchase_units:[{amount:{value:n.toFixed(2),currency_code:g.toUpperCase()},description:`Invoice Payment - ${y}`}]}),onApprove:(d,j)=>j.order.capture().then(h=>{p("paypal",{invoiceId:a,amount:n,paymentType:y,order_id:d.orderID,payment_id:h.id})}),onError:d=>{console.error("PayPal error:",d),d.message&&d.message.includes("declined")?_.error(s("Payment was declined. Please try a different payment method.")):_.error(s("Payment failed. Please try again."))},onCancel:()=>{b()}}).render(r.current)},document.head.appendChild(x),()=>{document.head.contains(x)&&document.head.removeChild(x)}},[u,a,n,y,g]),u?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{ref:r})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:s("PayPal not configured")})}function Es({invoiceId:a,amount:n,paymentType:y,razorpayKey:u,currency:g="INR",onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1);N.useEffect(()=>{if(window&&window.Razorpay){p(!0);return}const d=document.createElement("script");return d.src="https://checkout.razorpay.com/v1/checkout.js",d.async=!0,d.onload=()=>{p(!0)},d.onerror=()=>{_.error(s("Failed to load Razorpay checkout. Please try again."))},document.body.appendChild(d),()=>{document.body.contains(d)&&document.body.removeChild(d)}},[]);const x=async()=>{var d,j;try{const h=await J.post(route("invoice.razorpay.create-order"),{invoice_id:a,amount:n,payment_type:y});if(h.data.error){_.error(h.data.error);return}const{order_id:c,amount:i}=h.data;if(!c||!i){_.error(s("Invalid response from server"));return}const m={key:u,amount:i,currency:g,name:"Invoice Payment",description:`Invoice Payment - ${y}`,order_id:c,handler:function(f){J.post(route("invoice.razorpay.payment"),{invoice_id:a,amount:n,payment_type:y,razorpay_payment_id:f.razorpay_payment_id,razorpay_order_id:f.razorpay_order_id,razorpay_signature:f.razorpay_signature}).then(()=>{P()}).catch(l=>{var I,M;const t=((M=(I=l.response)==null?void 0:I.data)==null?void 0:M.error)||s("Payment processing failed");_.error(t)})},prefill:{name:"",email:"",contact:""},theme:{color:"#3B82F6"},modal:{ondismiss:b}};new window.Razorpay(m).open()}catch(h){const c=((j=(d=h.response)==null?void 0:d.data)==null?void 0:j.error)||s("Failed to initialize payment");_.error(c),console.error("Razorpay error:",h)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s("You will be redirected to Razorpay to complete your payment.")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,className:"flex-1",children:s("Cancel")}),e.jsx(v,{onClick:x,disabled:!r,className:"flex-1",children:s(r?"Pay with Razorpay":"Loading...")})]})]})}function Ms({invoiceId:a,amount:n,paymentType:y,accessToken:u,currency:g="BRL",onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),x=async()=>{var d,j;try{p(!0);const h=await J.post(route("invoice.mercadopago.create-preference"),{invoice_id:a,amount:n,payment_type:y},{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});h.data.redirect_url?window.location.href=h.data.redirect_url:(_.error(s("Failed to create payment preference")),p(!1))}catch(h){const c=((j=(d=h.response)==null?void 0:d.data)==null?void 0:j.error)||h.message||s("Failed to create payment preference");_.error(c),p(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s("You will be redirected to MercadoPago to complete your payment.")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,className:"flex-1",disabled:r,children:s("Cancel")}),e.jsx(v,{onClick:x,className:"flex-1",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"h-4 w-4 mr-2 animate-spin"}),s("Processing...")]}):s("Pay with MercadoPago")})]})]})}function Ts({invoiceId:a,amount:n,paymentType:y,paystackKey:u,currency:g="NGN",onSuccess:P,onCancel:b}){const{t:s}=E(),r=N.useRef(!1);return N.useEffect(()=>{if(!u||r.current)return;const p=document.createElement("script");return p.src="https://js.paystack.co/v1/inline.js",p.async=!0,p.onload=()=>{r.current=!0;const x=document.querySelector("[data-radix-dialog-overlay]");x&&(x.style.display="none"),window.PaystackPop.setup({key:u,email:"customer@example.com",amount:Math.round(Number(n)*100),currency:g.toUpperCase(),callback:function(j){x&&(x.style.display=""),J.post(route("invoice.paystack.payment"),{invoice_id:a,amount:n,payment_type:y,payment_id:j.reference}).then(()=>{P()}).catch(h=>{var i,m;const c=((m=(i=h.response)==null?void 0:i.data)==null?void 0:m.error)||s("Payment processing failed");_.error(c)})},onClose:function(){x&&(x.style.display=""),b()}}).openIframe()},p.onerror=()=>{_.error(s("Failed to load Paystack checkout. Please try again."))},document.head.appendChild(p),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[u,a,n,y,g]),u?e.jsx("div",{className:"p-4 text-center",children:e.jsx("p",{children:s("Redirecting to Paystack...")})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:s("Paystack not configured")})}function zs({invoiceId:a,amount:n,paymentType:y,flutterwaveKey:u,currency:g="NGN",onSuccess:P,onCancel:b}){const{t:s}=E(),r=N.useRef(!1);return N.useEffect(()=>{if(!u||r.current)return;const p=document.createElement("script");return p.src="https://checkout.flutterwave.com/v3.js",p.async=!0,p.onload=()=>{r.current=!0,window.FlutterwaveCheckout({public_key:u,tx_ref:`invoice_${a}_${Date.now()}`,amount:n,currency:g.toUpperCase(),payment_options:"card,mobilemoney,ussd",customer:{email:"customer@example.com",phone_number:"",name:"Customer"},customizations:{title:"Invoice Payment",description:`Invoice payment - ${y}`,logo:""},callback:function(x){x.status==="successful"?J.post(route("invoice.flutterwave.payment"),{invoice_id:a,amount:n,payment_type:y,payment_id:x.transaction_id,tx_ref:x.tx_ref}).then(()=>{P()}).catch(d=>{var h,c;const j=((c=(h=d.response)==null?void 0:h.data)==null?void 0:c.error)||s("Payment processing failed");_.error(j)}):(_.error(s("Payment was not completed")),b())},onclose:function(){b()}})},p.onerror=()=>{_.error(s("Failed to load Flutterwave checkout. Please try again."))},document.head.appendChild(p),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[u,a,n,y,g]),u?e.jsx("div",{className:"p-4 text-center",children:e.jsx("p",{children:s("Redirecting to Flutterwave...")})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:s("Flutterwave not configured")})}function Ss({invoiceId:a,amount:n,paymentType:y,paytabsClientKey:u,currency:g="AED",onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),x=async()=>{var d,j,h,c,i,m;p(!0);try{const o={invoice_id:a,amount:n,payment_type:y,payment_id:`inv_pt_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,transaction_id:`inv_txn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,_token:(d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.getAttribute("content")},f=await J.post(route("invoice.paytabs.payment"),o,{headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},timeout:3e4});if(f.data.success&&f.data.redirect_url)_.success(s("Redirecting to PayTabs payment page...")),setTimeout(()=>{window.location.href=f.data.redirect_url},1e3);else throw new Error(f.data.message||"Payment initialization failed")}catch(o){console.error("PayTabs payment error:",o);let f=s("Payment failed. Please try again.");((j=o.response)==null?void 0:j.status)===400?f=((h=o.response.data)==null?void 0:h.message)||s("Invalid payment request. Please check your details."):((c=o.response)==null?void 0:c.status)===500?f=s("Server error. Please try again later."):(m=(i=o.response)==null?void 0:i.data)!=null&&m.message?f=o.response.data.message:o.message?f=o.message:o.code==="ECONNABORTED"&&(f=s("Request timeout. Please try again.")),_.error(f),p(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Y,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:s("Secure Payment with PayTabs")}),e.jsx("p",{className:"text-sm text-blue-700",children:s("You will be redirected to PayTabs secure payment page to complete your transaction.")})]})]})}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Payment Type"),":"]}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:y})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Amount"),":"]}),e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[g," ",n]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,className:"flex-1",disabled:r,children:s("Cancel")}),e.jsx(v,{onClick:x,disabled:r,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),s("Pay with PayTabs")]})})]})]})}function As({invoiceId:a,amount:n,paymentType:y,skrillMerchantId:u,currency:g,onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState(""),j=c=>{var i;return((i=window.appSettings)==null?void 0:i.formatCurrency(Number(c||0)))||`${g} ${Number(c||0).toFixed(2)}`},h=async c=>{if(c.preventDefault(),!x){_.error(s("Please enter your email address"));return}if(!x.includes("@")){_.error(s("Please enter a valid email address"));return}p(!0);try{const i={invoice_id:a,amount:n,payment_type:y,email:x};ie.post(route("invoice.skrill.payment"),i,{onSuccess:()=>{},onError:m=>{console.error("Skrill payment error:",m),m.error?_.error(m.error):_.error(s("Payment failed. Please try again.")),p(!1)},onFinish:()=>{}})}catch(i){console.error("Skrill payment error:",i),_.error(s("Payment failed. Please try again.")),p(!1)}};return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-5 w-5"}),s("Skrill Payment")]})}),e.jsx(D,{children:e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium",children:[s("Payment Amount"),":"]}),e.jsx("span",{className:"font-bold",children:j(n)})]}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s("Payment Type"),":"]}),e.jsxs("span",{className:"text-sm capitalize",children:[y," ",s("Payment")]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"email",children:s("Email Address")}),e.jsx($,{id:"email",type:"email",value:x,onChange:c=>d(c.target.value),placeholder:s("Enter your email address"),required:!0,disabled:r}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("You will be redirected to Skrill to complete the payment")})]}),e.jsx("div",{className:"p-3 border rounded-lg bg-blue-50 dark:bg-blue-950/20",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(W,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:s("Secure Payment with Skrill")}),e.jsx("p",{className:"text-blue-700 dark:text-blue-300 mt-1",children:s("You will be redirected to Skrill's secure payment page to complete your transaction.")})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(v,{type:"button",variant:"outline",onClick:b,className:"flex-1",disabled:r,children:s("Cancel")}),e.jsx(v,{type:"submit",disabled:r||!x,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),s("Pay with Skrill")]})})]})]})})]})}function Rs({invoiceId:a,amount:n,paymentType:y,coingateApiToken:u,currency:g,onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),x=j=>{var h;return((h=window.appSettings)==null?void 0:h.formatCurrency(Number(j||0)))||`${g} ${Number(j||0).toFixed(2)}`},d=j=>{var m;j.preventDefault(),p(!0);const h=document.createElement("form");h.method="POST",h.action=route("invoice.coingate.payment");const c=(m=document.querySelector('meta[name="csrf-token"]'))==null?void 0:m.getAttribute("content");if(c){const o=document.createElement("input");o.type="hidden",o.name="_token",o.value=c,h.appendChild(o)}Object.entries({invoice_id:a,amount:n,payment_type:y}).forEach(([o,f])=>{const l=document.createElement("input");l.type="hidden",l.name=o,l.value=String(f),h.appendChild(l)}),document.body.appendChild(h),h.submit()};return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5"}),s("Coingate Payment")]})}),e.jsx(D,{children:e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium",children:[s("Payment Amount"),":"]}),e.jsx("span",{className:"font-bold",children:x(n)})]}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s("Payment Type"),":"]}),e.jsxs("span",{className:"text-sm capitalize",children:[y," ",s("Payment")]})]})]}),e.jsx("div",{className:"p-3 border rounded-lg bg-orange-50 dark:bg-orange-950/20",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(xe,{className:"h-4 w-4 text-orange-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-orange-900 dark:text-orange-100",children:s("Secure Cryptocurrency Payment")}),e.jsx("p",{className:"text-orange-700 dark:text-orange-300 mt-1",children:s("You will be redirected to Coingate to complete your payment with cryptocurrency.")}),e.jsx("p",{className:"text-orange-600 dark:text-orange-400 mt-1 text-xs",children:s("Supports Bitcoin, Ethereum, Litecoin and 70+ other cryptocurrencies")})]})]})}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(xe,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:s("Payment Process:")}),e.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[e.jsx("li",{children:s('Click "Pay with Crypto" to proceed to Coingate')}),e.jsx("li",{children:s("Complete payment using your selected cryptocurrency")}),e.jsx("li",{children:s("You will be redirected back after payment completion")})]})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(v,{type:"button",variant:"outline",onClick:b,className:"flex-1",disabled:r,children:s("Cancel")}),e.jsx(v,{type:"submit",disabled:r,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"mr-2 h-4 w-4"}),s("Pay with Crypto")]})})]})]})})]})}function Ds({invoiceId:a,amount:n,paymentType:y,bankDetails:u,onSuccess:g,onCancel:P}){const{t:b}=E(),[s,r]=N.useState(!1),p=d=>{navigator.clipboard.writeText(d),_.success(b("Copied to clipboard"))},x=()=>{r(!0),ie.post(route("invoice.bank.payment"),{invoice_id:a,payment_type:y,amount:n},{onSuccess:()=>{_.success(b("Payment request submitted successfully")),g()},onError:()=>{_.error(b("Failed to submit payment request"))},onFinish:()=>{r(!1)}})};return e.jsxs("div",{className:"space-y-4",children:[e.jsx(R,{children:e.jsxs(D,{className:"p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:b("Bank Transfer Details")}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("div",{className:"whitespace-pre-line",children:u}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("span",{className:"font-medium",children:[b("Amount"),": $",n]}),e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>p(n.toString()),children:[e.jsx(es,{className:"h-3 w-3 mr-1"}),b("Copy")]})]})]})]})}),e.jsx(R,{className:"border-orange-200 bg-orange-50",children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ss,{className:"h-5 w-5 text-orange-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-orange-800",children:[e.jsx("p",{className:"font-medium mb-1",children:b("Important Instructions")}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsxs("li",{children:["• ",b("Transfer the exact amount shown above")]}),e.jsxs("li",{children:["• ",b("Include your invoice number in the transfer description")]}),e.jsxs("li",{children:["• ",b("Your invoice will be updated after payment verification")]}),e.jsxs("li",{children:["• ",b("Verification may take 1-3 business days")]})]})]})]})})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:P,className:"flex-1",children:b("Cancel")}),e.jsx(v,{onClick:x,disabled:s,className:"flex-1",children:b(s?"Processing...":"I have made the payment")})]})]})}function Os({invoiceId:a,amount:n,paymentType:y,payfastMerchantId:u,currency:g,onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState({firstName:"",lastName:"",email:""}),[j,h]=N.useState({}),c=()=>{const o={};return x.firstName.trim()||(o.firstName=s("First name is required")),x.lastName.trim()||(o.lastName=s("Last name is required")),x.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.email)||(o.email=s("Please enter a valid email address")):o.email=s("Email is required"),o},i=async o=>{var l;o.preventDefault();const f=c();if(h(f),Object.keys(f).length>0){_.error(s("Please fix the errors below"));return}if(n<5){_.error(s("Minimum payment amount is R5.00"));return}p(!0);try{const I=await(await fetch(route("invoice.payfast.payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content"))||""},body:JSON.stringify({invoice_id:a,amount:n,payment_type:y,customer_details:x})})).json();if(I.success){const M=document.createElement("form");M.method="POST",M.action=I.action,M.innerHTML=I.inputs,document.body.appendChild(M),M.submit()}else _.error(I.error||s("Payment failed")),p(!1)}catch(t){console.error("PayFast invoice payment error:",t),_.error(s("Payment failed. Please try again.")),p(!1)}},m=o=>{var f;return((f=window.appSettings)==null?void 0:f.formatCurrency(Number(o||0)))||`${g} ${Number(o||0).toFixed(2)}`};return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("PayFast Payment")]})}),e.jsx(D,{children:e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"firstName",children:s("First Name")}),e.jsx($,{id:"firstName",value:x.firstName,onChange:o=>{d(f=>({...f,firstName:o.target.value})),j.firstName&&h(f=>({...f,firstName:""}))},placeholder:s("Enter first name"),className:j.firstName?"border-red-500":"",required:!0}),j.firstName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:j.firstName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"lastName",children:s("Last Name")}),e.jsx($,{id:"lastName",value:x.lastName,onChange:o=>{d(f=>({...f,lastName:o.target.value})),j.lastName&&h(f=>({...f,lastName:""}))},placeholder:s("Enter last name"),className:j.lastName?"border-red-500":"",required:!0}),j.lastName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:j.lastName})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"email",children:s("Email Address")}),e.jsx($,{id:"email",type:"email",value:x.email,onChange:o=>{d(f=>({...f,email:o.target.value})),j.email&&h(f=>({...f,email:""}))},placeholder:s("Enter email address"),className:j.email?"border-red-500":"",required:!0}),j.email&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:j.email}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("You will be redirected to PayFast to complete the payment")})]}),n<5&&e.jsxs(z,{variant:"destructive",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:s("PayFast requires a minimum payment of R5.00. Current amount: {{amount}}",{amount:m(n)})})]}),e.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:s("Payment Amount")}),e.jsx("span",{className:"text-sm font-bold",children:m(n)})]}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:s("Payment Type")}),e.jsx("span",{className:"text-xs font-medium capitalize",children:y})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:s("Secure payment processing via PayFast")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(v,{type:"button",variant:"outline",onClick:b,className:"flex-1",children:s("Cancel")}),e.jsx(v,{type:"submit",disabled:r||n<5,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:m(n)})})]})]})})]})}function Ls({invoiceId:a,amount:n,paymentType:y,tapSecretKey:u,currency:g,onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState(null),j=async()=>{var c;if(!u){d(s("Tap not configured"));return}if(n<=0){d(s("Invalid payment amount"));return}p(!0),d(null);try{const i=document.createElement("form");i.method="POST",i.action=route("invoice.tap.payment");const m=document.createElement("input");m.type="hidden",m.name="_token",m.value=((c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"))||"",i.appendChild(m);const o=document.createElement("input");o.type="hidden",o.name="invoice_id",o.value=a.toString(),i.appendChild(o);const f=document.createElement("input");f.type="hidden",f.name="amount",f.value=n.toString(),i.appendChild(f);const l=document.createElement("input");l.type="hidden",l.name="payment_type",l.value=y,i.appendChild(l),document.body.appendChild(i),i.submit()}catch(i){console.error("Tap invoice payment error:",i),d(i instanceof Error?i.message:s("Payment initialization failed")),p(!1)}},h=c=>{var i;return((i=window.appSettings)==null?void 0:i.formatCurrency(Number(c||0)))||new Intl.NumberFormat("en-US",{style:"currency",currency:g}).format(c)};return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("Tap Payment")]})}),e.jsxs(D,{className:"space-y-4",children:[x&&e.jsxs(z,{variant:"destructive",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:x})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Payment Amount")}),e.jsx("span",{className:"text-lg font-bold",children:h(n)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Payment Type"),": ",s(y)]})]}),e.jsxs(z,{children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:s("You will be redirected to Tap to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Apple Pay"}),e.jsx("li",{children:"• Google Pay"}),e.jsx("li",{children:"• KNET"}),e.jsx("li",{children:"• Benefit Pay"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,disabled:r,className:"flex-1",children:s("Cancel")}),e.jsx(v,{onClick:j,disabled:r||!u||n<=0,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),s("Pay with Tap")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Tap - Secure payment processing")})]})]})}function Bs({invoiceId:a,amount:n,paymentType:y,xenditApiKey:u,currency:g,onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState(null),j=async()=>{var c;if(!u){d(s("Xendit not configured"));return}p(!0),d(null);try{const m=await(await fetch(route("invoice.xendit.payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"))||""},body:JSON.stringify({invoice_id:a,amount:n,payment_type:y})})).json();if(m.success)window.location.href=m.payment_url;else throw new Error(m.error||s("Payment creation failed"))}catch(i){console.error("Xendit invoice payment error:",i),d(i instanceof Error?i.message:s("Payment initialization failed")),p(!1)}},h=c=>{var i;return((i=window.appSettings)==null?void 0:i.formatCurrency(Number(c||0)))||new Intl.NumberFormat("id-ID",{style:"currency",currency:g}).format(c)};return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("Xendit Payment")]})}),e.jsxs(D,{className:"space-y-4",children:[x&&e.jsxs(z,{variant:"destructive",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:x})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Payment Amount")}),e.jsx("span",{className:"text-lg font-bold",children:h(n)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Payment Type"),": ",s(y)]})]}),e.jsxs(z,{children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:s("You will be redirected to Xendit to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Bank Transfer"}),e.jsx("li",{children:"• E-Wallets (OVO, DANA, LinkAja)"}),e.jsx("li",{children:"• Virtual Accounts"}),e.jsx("li",{children:"• Retail Outlets"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,disabled:r,className:"flex-1",children:s("Cancel")}),e.jsx(v,{onClick:j,disabled:r||!u,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),s("Pay with Xendit")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Xendit - Secure payment processing")})]})]})}function qs({invoiceId:a,amount:n,paymentType:y,paytrMerchantId:u,currency:g="TRY",onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState(!1),[j,h]=N.useState(""),c=N.useRef(null),[i,m]=N.useState({name:"",email:"",phone:"",address:""});N.useEffect(()=>{const f=l=>{l.origin==="https://www.paytr.com"&&(l.data==="success"?(d(!1),P()):l.data==="fail"&&(d(!1),_.error(s("Payment failed"))))};return window.addEventListener("message",f),()=>window.removeEventListener("message",f)},[P,s]);const o=async f=>{var l,t;if(f.preventDefault(),!i.name||!i.email||!i.phone){_.error(s("Please fill in required customer details"));return}p(!0);try{const I=await J.post(route("invoice.paytr.create-token"),{invoice_id:a,amount:n,payment_type:y,user_name:i.name,user_email:i.email,user_phone:i.phone,user_address:i.address});if(I.data.success)h(I.data.iframe_url),d(!0);else throw new Error(I.data.error||"Token creation failed")}catch(I){console.error("PayTR invoice payment error:",I),_.error(((t=(l=I.response)==null?void 0:l.data)==null?void 0:t.error)||s("Payment failed. Please try again."))}finally{p(!1)}};return x?e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("PayTR Payment")]}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>d(!1),children:s("Back")})]})}),e.jsxs(D,{children:[e.jsx("div",{className:"w-full h-[600px] border rounded-lg overflow-hidden",children:e.jsx("iframe",{ref:c,src:j,width:"100%",height:"100%",frameBorder:"0",scrolling:"auto",title:"PayTR Payment"})}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:s("Complete your payment in the secure PayTR iframe above")})]})]}):e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("PayTR Payment")]})}),e.jsx(D,{children:e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{className:"bg-muted p-3 rounded-lg mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Payment Type"),":"]}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:y})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Amount"),":"]}),e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[g," ",n]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{htmlFor:"name",children:[s("Full Name")," *"]}),e.jsx($,{id:"name",value:i.name,onChange:f=>m(l=>({...l,name:f.target.value})),placeholder:s("Enter full name"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{htmlFor:"email",children:[s("Email Address")," *"]}),e.jsx($,{id:"email",type:"email",value:i.email,onChange:f=>m(l=>({...l,email:f.target.value})),placeholder:s("Enter email address"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{htmlFor:"phone",children:[s("Phone Number")," *"]}),e.jsx($,{id:"phone",value:i.phone,onChange:f=>m(l=>({...l,phone:f.target.value})),placeholder:"+905xxxxxxxxx",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Turkish phone number format: +905xxxxxxxxx")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"address",children:s("Address")}),e.jsx($,{id:"address",value:i.address,onChange:f=>m(l=>({...l,address:f.target.value})),placeholder:s("Enter address (optional)")})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:s("Secure Payment via PayTR")}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:s("Credit Card, Debit Card - Real-time payment processing")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(v,{type:"button",variant:"outline",onClick:b,className:"flex-1",children:s("Cancel")}),e.jsx(v,{type:"submit",disabled:r,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:`${n} ${g}`})})]})]})})]})}function Ks({invoiceId:a,amount:n,paymentType:y,mollieApiKey:u,currency:g="EUR",onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),x=async()=>{var d,j,h;p(!0);try{const c=await J.post(route("invoice.mollie.payment"),{invoice_id:a,amount:n,payment_type:y,_token:(d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.getAttribute("content")},{headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(c.data.success&&c.data.checkout_url)_.success(s("Redirecting to Mollie payment page...")),setTimeout(()=>{window.location.href=c.data.checkout_url},1e3);else throw new Error(c.data.message||"Payment initialization failed")}catch(c){console.error("Mollie payment error:",c),_.error(((h=(j=c.response)==null?void 0:j.data)==null?void 0:h.message)||s("Payment failed. Please try again.")),p(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Y,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:s("Secure Payment with Mollie")}),e.jsx("p",{className:"text-sm text-blue-700",children:s("You will be redirected to Mollie secure payment page to complete your transaction.")})]})]})}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Payment Type"),":"]}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:y})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Amount"),":"]}),e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[g," ",n]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,className:"flex-1",disabled:r,children:s("Cancel")}),e.jsx(v,{onClick:x,disabled:r,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),s("Pay with Mollie")]})})]})]})}function $s({invoiceId:a,amount:n,paymentType:y,toyyibpayCategoryCode:u,currency:g="MYR",onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState({billName:"",billTo:"",billEmail:"",billPhone:""}),j=async h=>{var c,i,m;if(h.preventDefault(),!x.billName||!x.billTo||!x.billEmail||!x.billPhone){_.error(s("Please fill in all required fields"));return}p(!0);try{const o=await J.post(route("invoice.toyyibpay.payment"),{invoice_id:a,amount:n,payment_type:y,billName:x.billName,billTo:x.billTo,billEmail:x.billEmail,billPhone:x.billPhone,_token:(c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content")},{headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(o.data.success&&o.data.redirect_url)_.success(s("Redirecting to ToyyibPay payment page...")),setTimeout(()=>{window.location.href=o.data.redirect_url},1e3);else throw new Error(o.data.message||"Payment initialization failed")}catch(o){console.error("ToyyibPay payment error:",o),_.error(((m=(i=o.response)==null?void 0:i.data)==null?void 0:m.message)||s("Payment failed. Please try again.")),p(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Y,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:s("Secure Payment with ToyyibPay")}),e.jsx("p",{className:"text-sm text-blue-700",children:s("You will be redirected to ToyyibPay secure payment page to complete your transaction.")})]})]})}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Payment Type"),":"]}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:y})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Amount"),":"]}),e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[g," ",n]})]})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{htmlFor:"billName",children:[s("Bill Name")," *"]}),e.jsx($,{id:"billName",value:x.billName,onChange:h=>d(c=>({...c,billName:h.target.value})),placeholder:s("Enter bill name"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{htmlFor:"billTo",children:[s("Bill To (Name)")," *"]}),e.jsx($,{id:"billTo",value:x.billTo,onChange:h=>d(c=>({...c,billTo:h.target.value})),placeholder:s("Enter customer name"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{htmlFor:"billEmail",children:[s("Email Address")," *"]}),e.jsx($,{id:"billEmail",type:"email",value:x.billEmail,onChange:h=>d(c=>({...c,billEmail:h.target.value})),placeholder:s("Enter email address"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{htmlFor:"billPhone",children:[s("Phone Number")," *"]}),e.jsx($,{id:"billPhone",value:x.billPhone,onChange:h=>d(c=>({...c,billPhone:h.target.value})),placeholder:"60123456789",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Malaysian phone number format: 60123456789")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(v,{type:"button",variant:"outline",onClick:b,className:"flex-1",disabled:r,children:s("Cancel")}),e.jsx(v,{type:"submit",disabled:r,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),s("Pay with ToyyibPay")]})})]})]})]})}function Ys({invoiceId:a,amount:n,paymentType:y,paymentwallPublicKey:u,currency:g="USD",onSuccess:P,onCancel:b}){var f;const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState(null),[j,h]=N.useState(!1),[c,i]=N.useState(null),m=N.useRef(null);N.useEffect(()=>{(()=>{if(window.Brick){h(!0);return}const t=document.createElement("script");t.src="https://api.paymentwall.com/brick/build/brick-default.1.5.0.min.js",t.async=!0,t.onload=()=>h(!0),t.onerror=()=>d(s("Failed to load PaymentWall payment form")),document.head.appendChild(t)})()},[s]),N.useEffect(()=>{j&&u&&!c&&o()},[j,u,c]);const o=async()=>{var l;try{const I=await(await fetch(route("invoice.paymentwall.create"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content"))||""},body:JSON.stringify({invoice_id:a,amount:n,payment_type:y})})).json();if(I.success&&I.brick_config){const M=I.brick_config,O=new window.Brick({public_key:M.public_key,amount:M.amount,currency:M.currency,container:"paymentwall-form-container",action:route("invoice.paymentwall.process"),form:{merchant:"Invoice Payment",product:M.description,pay_button:s("Pay Now"),show_zip:!0,show_cardholder:!0}});O.showPaymentForm(U=>{P()},U=>{console.error("Payment error:",U),U&&U.length>0?d(U[0].message||s("Payment failed")):d(s("Payment failed")),p(!1)}),i(O)}else throw new Error(I.message||s("Failed to initialize payment form"))}catch(t){console.error("PaymentWall initialization error:",t),d(t instanceof Error?t.message:s("Payment initialization failed"))}};return e.jsxs("div",{className:"space-y-4",children:[x&&e.jsxs(z,{variant:"destructive",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:x})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Payment Type"),":"]}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:y})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Amount"),":"]}),e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[g," ",n]})]})]}),e.jsx("div",{id:"paymentwall-form-container",ref:m,className:"min-h-[300px]",children:!j&&e.jsxs("div",{className:"flex items-center justify-center h-32",children:[e.jsx(T,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{children:s("Loading payment form...")})]})}),e.jsxs("form",{id:"brick-form",style:{display:"none"},children:[e.jsx("input",{type:"hidden",name:"invoice_id",value:a}),e.jsx("input",{type:"hidden",name:"amount",value:n}),e.jsx("input",{type:"hidden",name:"payment_type",value:y}),e.jsx("input",{type:"hidden",name:"_token",value:((f=document.querySelector('meta[name="csrf-token"]'))==null?void 0:f.getAttribute("content"))||""})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Secure Payment")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• SSL Encrypted & PCI DSS Compliant"}),e.jsx("li",{children:"• Multiple Payment Methods Supported"}),e.jsx("li",{children:"• Powered by PaymentWall"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,className:"flex-1",disabled:r,children:s("Cancel")}),!j&&e.jsxs(v,{disabled:!0,className:"flex-1",children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Loading...")]})]})]})}function Xs({invoiceId:a,amount:n,paymentType:y,sspayCategoryCode:u,currency:g="MYR",onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1);N.useEffect(()=>{x()},[]);const x=async()=>{var d,j,h;p(!0);try{const c=await J.post(route("invoice.sspay.create"),{invoice_id:a,amount:n,payment_type:y,_token:(d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.getAttribute("content")});if(c.data.success){const i=document.createElement("form");i.method="POST",i.action=c.data.payment_url,Object.keys(c.data.payment_data).forEach(m=>{const o=document.createElement("input");o.type="hidden",o.name=m,o.value=c.data.payment_data[m],i.appendChild(o)}),document.body.appendChild(i),i.submit()}else throw new Error(c.data.message||"Payment initialization failed")}catch(c){console.error("SSPay payment error:",c),_.error(((h=(j=c.response)==null?void 0:j.data)==null?void 0:h.message)||s("Payment failed. Please try again.")),p(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Y,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:s("Secure Payment with SSPay")}),e.jsx("p",{className:"text-sm text-blue-700",children:s("You will be redirected to SSPay secure payment page to complete your transaction.")})]})]})}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Payment Type"),":"]}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:y})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Amount"),":"]}),e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[g," ",n]})]})]}),e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(T,{className:"h-8 w-8 animate-spin text-primary"}),e.jsx("span",{className:"ml-3 text-muted-foreground",children:s("Redirecting to SSPay...")})]}),e.jsx("div",{className:"flex gap-3",children:e.jsx(v,{variant:"outline",onClick:b,className:"flex-1",disabled:r,children:s("Cancel")})})]})}function Us({invoiceId:a,amount:n,paymentType:y,benefitSecretKey:u,currency:g,onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState(null),j=async()=>{var c;if(!u){d(s("Benefit payment not configured"));return}if(n<=0){d(s("Invalid payment amount"));return}p(!0),d(null);try{const m=await(await fetch(route("invoice.benefit.payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"))||""},body:JSON.stringify({invoice_id:a,amount:n,payment_type:y})})).json();if(m.success&&m.redirect_url)window.location.href=m.redirect_url;else throw new Error(m.message||s("Failed to create payment session"))}catch(i){console.error("Benefit invoice payment error:",i),d(i instanceof Error?i.message:s("Payment initialization failed")),p(!1)}},h=c=>{var i;return((i=window.appSettings)==null?void 0:i.formatCurrency(Number(c||0)))||new Intl.NumberFormat("en-BH",{style:"currency",currency:g,minimumFractionDigits:3}).format(c)};return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("Benefit Payment")]})}),e.jsxs(D,{className:"space-y-4",children:[x&&e.jsxs(z,{variant:"destructive",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:x})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Payment Amount")}),e.jsx("span",{className:"text-lg font-bold",children:h(n)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Payment Type"),": ",s(y)]})]}),e.jsxs(z,{children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:s("You will be redirected to Benefit to complete your payment securely. Benefit is the leading payment gateway in Bahrain.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("Benefit Debit Cards")]}),e.jsxs("li",{children:["• ",s("Visa Credit/Debit Cards")]}),e.jsxs("li",{children:["• ",s("Mastercard Credit/Debit Cards")]}),e.jsxs("li",{children:["• ",s("Benefit Pay Mobile Wallet")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,disabled:r,className:"flex-1",children:s("Cancel")}),e.jsx(v,{onClick:j,disabled:r||!u||n<=0,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),s("Pay with Benefit")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Benefit - Bahrain's trusted payment gateway")})]})]})}function Hs({invoiceId:a,amount:n,paymentType:y,iyzipayPublicKey:u,currency:g="USD",onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState(null),j=async()=>{var c;if(!u){d(s("Iyzipay configuration is missing"));return}p(!0),d(null);try{const m=await(await fetch(route("invoice.iyzipay.create-form"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"))||""},body:JSON.stringify({invoice_id:a,amount:n,payment_type:y})})).json();if(m.success)window.location.href=m.redirect_url;else throw new Error(m.error||s("Failed to create payment form"))}catch(i){console.error("Iyzipay payment error:",i),d(i instanceof Error?i.message:s("Payment initialization failed"))}finally{p(!1)}},h=c=>{var i;return((i=window.appSettings)==null?void 0:i.formatCurrency(Number(c||0)))||new Intl.NumberFormat("en-US",{style:"currency",currency:g}).format(c)};return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("Iyzipay Payment")]})}),e.jsxs(D,{className:"space-y-4",children:[x&&e.jsxs(z,{variant:"destructive",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:x})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Payment Amount")}),e.jsx("span",{className:"text-lg font-bold",children:h(n)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Payment Type"),": ",s(y==="full"?"Full Payment":"Partial Payment")]})]}),r?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(T,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:s("Redirecting to payment page...")})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(z,{children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:s("You will be redirected to Iyzipay secure payment page to complete your payment.")})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,disabled:r,className:"flex-1",children:s("Cancel")}),e.jsx(v,{onClick:j,disabled:r||!u,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),s("Pay with Iyzipay")]})})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Iyzipay - Secure payment processing")})]})]})}function Ws({invoiceId:a,amount:n,paymentType:y,aamarpayStoreId:u,currency:g="BDT",onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState(null),j=async()=>{var c;if(!u){d(s("Aamarpay configuration is missing"));return}p(!0),d(null);try{const i=await fetch(route("invoice.aamarpay.create"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"))||""},body:JSON.stringify({invoice_id:a,amount:n,payment_type:y})});if(i.ok){const m=await i.text();document.open(),document.write(m),document.close()}else{const m=await i.json();throw new Error(m.error||s("Failed to create payment"))}}catch(i){console.error("Aamarpay payment error:",i),d(i instanceof Error?i.message:s("Payment initialization failed")),p(!1)}},h=c=>{var i;return((i=window.appSettings)==null?void 0:i.formatCurrency(Number(c||0)))||new Intl.NumberFormat("en-US",{style:"currency",currency:g}).format(c)};return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("Aamarpay Payment")]})}),e.jsxs(D,{className:"space-y-4",children:[x&&e.jsxs(z,{variant:"destructive",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:x})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Payment Amount")}),e.jsx("span",{className:"text-lg font-bold",children:h(n)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Payment Type"),": ",s(y==="full"?"Full Payment":"Partial Payment")]})]}),r?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(T,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:s("Redirecting to payment page...")})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(z,{children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:s("You will be redirected to Aamarpay secure payment page to complete your payment.")})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,disabled:r,className:"flex-1",children:s("Cancel")}),e.jsx(v,{onClick:j,disabled:r||!u,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),s("Pay with Aamarpay")]})})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Aamarpay - Secure payment processing")})]})]})}function Vs({invoiceId:a,amount:n,paymentType:y,midtransClientKey:u,currency:g="IDR",onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState(null),j=async()=>{var o;if(!u){d(s("Midtrans not configured"));return}p(!0),d(null);try{const l=await(await fetch(route("invoice.midtrans.create"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||""},body:JSON.stringify({invoice_id:a,amount:n,payment_type:y})})).json();if(l.success)h(l.snap_token,l.order_id);else throw new Error(l.error||s("Payment creation failed"))}catch(f){console.error("Midtrans payment error:",f),d(f instanceof Error?f.message:s("Payment initialization failed")),p(!1)}},h=(o,f)=>{if(window.snap)c(o,f);else{const l=document.createElement("script");l.src="https://app.sandbox.midtrans.com/snap/snap.js",l.setAttribute("data-client-key",u),l.onload=()=>{c(o,f)},l.onerror=()=>{d(s("Failed to load Midtrans script")),p(!1)},document.head.appendChild(l)}},c=(o,f)=>{window.snap.pay(o,{onSuccess:l=>{i(l,f)},onPending:l=>{p(!1)},onError:l=>{d(s("Payment failed")),p(!1)},onClose:()=>{p(!1)}})},i=(o,f)=>{ie.visit(route("invoice.midtrans.success",{invoice_id:a,amount:n,payment_type:y,order_id:f,transaction_status:o.transaction_status}),{onSuccess:()=>{P()},onError:()=>{d(s("Payment processing failed")),p(!1)}})},m=o=>{var f;return((f=window.appSettings)==null?void 0:f.formatCurrency(Number(o||0)))||new Intl.NumberFormat("en-US",{style:"currency",currency:g}).format(o)};return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("Midtrans Payment")]})}),e.jsxs(D,{className:"space-y-4",children:[x&&e.jsxs(z,{variant:"destructive",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:x})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Payment Amount")}),e.jsx("span",{className:"text-lg font-bold",children:m(n)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Payment Type"),": ",s(y==="full"?"Full Payment":"Partial Payment")]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Bank Transfer"}),e.jsx("li",{children:"• E-Wallets (GoPay, OVO, DANA)"}),e.jsx("li",{children:"• Convenience Stores"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,disabled:r,className:"flex-1",children:s("Cancel")}),e.jsx(v,{onClick:j,disabled:r||!u,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),s("Pay with Midtrans")]})})]})]})]})}function Js({invoiceId:a,amount:n,paymentType:y,yookassaShopId:u,currency:g="RUB",onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState(null),j=async()=>{var c;if(!u){d(s("YooKassa not configured"));return}p(!0),d(null);try{const m=await(await fetch(route("invoice.yookassa.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"))||""},body:JSON.stringify({invoice_id:a,amount:n,payment_type:y})})).json();if(m.success)window.location.href=m.payment_url;else throw new Error(m.error||s("Payment creation failed"))}catch(i){console.error("YooKassa payment error:",i),d(i instanceof Error?i.message:s("Payment initialization failed")),p(!1)}},h=c=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:g}).format(c);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("YooKassa Payment")]})}),e.jsxs(D,{className:"space-y-4",children:[x&&e.jsxs(z,{variant:"destructive",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:x})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Payment Amount")}),e.jsx("span",{className:"text-lg font-bold",children:h(n)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Payment Type"),": ",s(y)]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsx("li",{children:"• Bank Cards"}),e.jsx("li",{children:"• YooMoney"}),e.jsx("li",{children:"• Qiwi"}),e.jsx("li",{children:"• Sberbank Online"}),e.jsx("li",{children:"• Alfa-Click"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,disabled:r,className:"flex-1",children:s("Cancel")}),e.jsx(v,{onClick:j,disabled:r||!u,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),s("Pay with YooKassa")]})})]})]})]})}function Gs({invoiceId:a,amount:n,paymentType:y,paiementMerchantId:u,currency:g="XOF",onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState(null),j=async()=>{var c;if(!u){d(s("Paiement Pro not configured"));return}p(!0),d(null);try{const m=await(await fetch(route("invoice.paiement.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"))||""},body:JSON.stringify({invoice_id:a,amount:n,payment_type:y})})).json();if(m.success){const o=m.payment_response.url;window.location.href=o}else throw new Error(m.error||s("Payment creation failed"))}catch(i){console.error("Paiement Pro payment error:",i),d(i instanceof Error?i.message:s("Payment initialization failed")),p(!1)}},h=c=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:g}).format(c);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("Paiement Pro Payment")]})}),e.jsxs(D,{className:"space-y-4",children:[x&&e.jsxs(z,{variant:"destructive",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:x})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Payment Amount")}),e.jsx("span",{className:"text-lg font-bold",children:h(n)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Payment Type"),": ",s(y)]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Mobile Money"}),e.jsx("li",{children:"• Bank Cards"}),e.jsx("li",{children:"• Bank Transfers"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,disabled:r,className:"flex-1",children:s("Cancel")}),e.jsx(v,{onClick:j,disabled:r||!u,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),s("Pay with Paiement Pro")]})})]})]})]})}function Zs({invoiceId:a,amount:n,paymentType:y,cinetpaySiteId:u,currency:g="XOF",onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState(null),j=async()=>{var c;if(!u){d(s("CinetPay not configured"));return}p(!0),d(null);try{const m=await(await fetch(route("invoice.cinetpay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"))||""},body:JSON.stringify({invoice_id:a,amount:n,payment_type:y})})).json();if(m.success&&m.payment_url)window.location.href=m.payment_url;else throw new Error(m.error||s("Payment creation failed"))}catch(i){console.error("CinetPay payment error:",i),d(i instanceof Error?i.message:s("Payment initialization failed")),p(!1)}},h=c=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:g}).format(c);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("CinetPay Payment")]})}),e.jsxs(D,{className:"space-y-4",children:[x&&e.jsxs(z,{variant:"destructive",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:x})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Payment Amount")}),e.jsx("span",{className:"text-lg font-bold",children:h(n)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Payment Type"),": ",s(y)]})]}),e.jsxs(z,{children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:s("You will be redirected to CinetPay to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[e.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[e.jsx("li",{children:"• Mobile Money (Orange, MTN, Moov)"}),e.jsx("li",{children:"• Visa/Mastercard"}),e.jsx("li",{children:"• Bank Transfers"}),e.jsx("li",{children:"• Digital Wallets"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,disabled:r,className:"flex-1",children:s("Cancel")}),e.jsx(v,{onClick:j,disabled:r||!u,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),s("Pay with CinetPay")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by CinetPay - African payment gateway")})]})]})}function Qs({invoiceId:a,amount:n,paymentType:y,payhereMerchantId:u,currency:g="LKR",onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState(null),j=async()=>{var c;if(!u){d(s("PayHere not configured"));return}p(!0),d(null);try{const m=await(await fetch(route("invoice.payhere.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"))||""},body:JSON.stringify({invoice_id:a,amount:n,payment_type:y})})).json();if(m.success){const o=document.createElement("form");o.method="POST",o.action=m.payment_url,Object.keys(m.payment_data).forEach(f=>{const l=document.createElement("input");l.type="hidden",l.name=f,l.value=m.payment_data[f],o.appendChild(l)}),document.body.appendChild(o),o.submit()}else throw new Error(m.error||s("Payment creation failed"))}catch(i){console.error("PayHere payment error:",i),d(i instanceof Error?i.message:s("Payment initialization failed")),p(!1)}},h=c=>new Intl.NumberFormat("en-LK",{style:"currency",currency:g}).format(c);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("PayHere Payment")]})}),e.jsxs(D,{className:"space-y-4",children:[x&&e.jsxs(z,{variant:"destructive",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:x})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Payment Amount")}),e.jsx("span",{className:"text-lg font-bold",children:h(n)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Payment Type"),": ",s(y)]})]}),e.jsxs(z,{children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:s("You will be redirected to PayHere to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[e.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-orange-800 space-y-1",children:[e.jsx("li",{children:"• Visa/Mastercard"}),e.jsx("li",{children:"• Lanka QR"}),e.jsx("li",{children:"• eZ Cash"}),e.jsx("li",{children:"• mCash"}),e.jsx("li",{children:"• Bank Transfers"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,disabled:r,className:"flex-1",children:s("Cancel")}),e.jsx(v,{onClick:j,disabled:r||!u,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),s("Pay with PayHere")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by PayHere - Sri Lanka's payment gateway")})]})]})}function ea({invoiceId:a,amount:n,paymentType:y,fedapayPublicKey:u,currency:g="XOF",onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState(null),j=async()=>{var c;if(!u){d(s("FedaPay not configured"));return}p(!0),d(null);try{const m=await(await fetch(route("invoice.fedapay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"))||""},body:JSON.stringify({invoice_id:a,amount:n,payment_type:y})})).json();if(m.success)window.location.href=m.payment_url;else throw new Error(m.error||s("Payment creation failed"))}catch(i){console.error("FedaPay payment error:",i),d(i instanceof Error?i.message:s("Payment initialization failed")),p(!1)}},h=c=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:g}).format(c);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("FedaPay Payment")]})}),e.jsxs(D,{className:"space-y-4",children:[x&&e.jsxs(z,{variant:"destructive",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:x})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Payment Amount")}),e.jsx("span",{className:"text-lg font-bold",children:h(n)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Payment Type"),": ",s(y)]})]}),e.jsxs(z,{children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:s("You will be redirected to FedaPay to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"• Mobile Money (MTN, Moov, Orange)"}),e.jsx("li",{children:"• Visa/Mastercard"}),e.jsx("li",{children:"• Bank Transfers"}),e.jsx("li",{children:"• Digital Wallets"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,disabled:r,className:"flex-1",children:s("Cancel")}),e.jsx(v,{onClick:j,disabled:r||!u,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),s("Pay with FedaPay")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by FedaPay - West Africa's payment gateway")})]})]})}function sa({invoiceId:a,amount:n,paymentType:y,authorizenetMerchantId:u,currency:g="USD",isSandbox:P=!1,onSuccess:b,onCancel:s}){const{t:r}=E(),[p,x]=N.useState(!1),[d,j]=N.useState(null),[h,c]=N.useState({}),[i,m]=N.useState({card_number:"",expiry_month:"",expiry_year:"",cvv:"",cardholder_name:""}),o=C=>{const K=C.replace(/\s/g,"");return/^[0-9]{13,19}$/.test(K)},f=C=>/^(0[1-9]|1[0-2])$/.test(C),l=C=>{if(!/^[0-9]{2}$/.test(C))return!1;const K=new Date().getFullYear()%100,X=parseInt(C);return X>=K&&X<=K+20},t=C=>/^[0-9]{3,4}$/.test(C),I=C=>C.trim().length>=2&&C.trim().length<=50,M=C=>{const K=C.replace(/\s/g,""),X=K.match(/.{1,4}/g);return X?X.join(" "):K},O=(C,K)=>{let X=K;C==="card_number"?X=M(K.replace(/\s/g,"").slice(0,19)):C==="expiry_month"?X=K.replace(/\D/g,"").slice(0,2):C==="expiry_year"?X=K.replace(/\D/g,"").slice(0,2):C==="cvv"&&(X=K.replace(/\D/g,"").slice(0,4)),m(se=>({...se,[C]:X})),h[C]&&c(se=>({...se,[C]:""}))},U=()=>{const C={};return o(i.card_number)||(C.card_number=r("Please enter a valid card number (13-19 digits)")),f(i.expiry_month)||(C.expiry_month=r("Please enter a valid month (01-12)")),l(i.expiry_year)||(C.expiry_year=r("Please enter a valid year (current year or later)")),t(i.cvv)||(C.cvv=r("Please enter a valid CVV (3-4 digits)")),I(i.cardholder_name)||(C.cardholder_name=r("Please enter a valid cardholder name (2-50 characters)")),c(C),Object.keys(C).length===0},Q=async()=>{if(!u){j(r("AuthorizeNet not configured"));return}if(!U()){j(r("Please correct the errors below"));return}x(!0),j(null),ie.post(route("invoice.authorizenet.payment"),{invoice_id:a,amount:n,payment_type:y,...i},{onSuccess:()=>{_.success(r("Payment successful")),b()},onError:C=>{console.error("Payment processing error:",C),j(Object.values(C).flat().join(", ")),x(!1)}})},Z=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:g}).format(C);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),r("AuthorizeNet Payment")]})}),e.jsxs(D,{className:"space-y-4",children:[d&&e.jsxs(z,{variant:"destructive",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:d})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:r("Payment Amount")}),e.jsx("span",{className:"text-lg font-bold",children:Z(n)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[r("Payment Type"),": ",r(y)]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(q,{htmlFor:"cardholder_name",children:r("Cardholder Name")}),e.jsx($,{id:"cardholder_name",value:i.cardholder_name,onChange:C=>O("cardholder_name",C.target.value),placeholder:r("Enter cardholder name"),className:h.cardholder_name?"border-red-500":""}),h.cardholder_name&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.cardholder_name})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"card_number",children:r("Card Number")}),e.jsx($,{id:"card_number",value:i.card_number,onChange:C=>O("card_number",C.target.value),placeholder:"1234 5678 9012 3456",maxLength:23,className:h.card_number?"border-red-500":""}),h.card_number&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.card_number})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{htmlFor:"expiry_month",children:r("Month")}),e.jsx($,{id:"expiry_month",value:i.expiry_month,onChange:C=>O("expiry_month",C.target.value),placeholder:"MM",maxLength:2,className:h.expiry_month?"border-red-500":""}),h.expiry_month&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.expiry_month})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"expiry_year",children:r("Year")}),e.jsx($,{id:"expiry_year",value:i.expiry_year,onChange:C=>O("expiry_year",C.target.value),placeholder:"YY",maxLength:2,className:h.expiry_year?"border-red-500":""}),h.expiry_year&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.expiry_year})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"cvv",children:r("CVV")}),e.jsx($,{id:"cvv",value:i.cvv,onChange:C=>O("cvv",C.target.value),placeholder:"123",maxLength:4,className:h.cvv?"border-red-500":""}),h.cvv&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.cvv})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:s,disabled:p,className:"flex-1",children:r("Cancel")}),e.jsx(v,{onClick:Q,disabled:p||!u,className:"flex-1",children:p?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),r("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),r("Pay with AuthorizeNet")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(ss,{className:"h-3 w-3 text-green-500"}),r("Powered by AuthorizeNet - Secure payment processing")]})})]})]})}function aa({invoiceId:a,amount:n,paymentType:y,khaltiPublicKey:u,currency:g="NPR",onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState(null),j=async()=>{var o;if(!u){d(s("Khalti not configured"));return}p(!0),d(null);try{const l=await(await fetch(route("invoice.khalti.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||""},body:JSON.stringify({invoice_id:a,amount:n,payment_type:y})})).json();if(l.success)h(l);else throw new Error(l.error||s("Payment creation failed"))}catch(f){console.error("Khalti payment error:",f),d(f instanceof Error?f.message:s("Payment initialization failed")),p(!1)}},h=o=>{if(window.KhaltiCheckout)c(o);else{const f=document.createElement("script");f.src="https://khalti.s3.ap-south-1.amazonaws.com/KPG/dist/2020.12.17.0.0.0/khalti-checkout.iffe.js",f.onload=()=>{c(o)},document.head.appendChild(f)}},c=o=>{const f={publicKey:o.public_key,productIdentity:o.product_identity,productName:o.product_name,productUrl:o.product_url,paymentPreference:["KHALTI","EBANKING","MOBILE_BANKING","CONNECT_IPS","SCT"],eventHandler:{onSuccess(t){i(t.token,t.amount)},onError(t){console.error("Khalti payment error:",t),d(s("Payment failed")),p(!1)},onClose(){p(!1)}}};new window.KhaltiCheckout(f).show({amount:o.amount})},i=(o,f)=>{ie.post(route("invoice.khalti.payment"),{invoice_id:a,amount:f/100,payment_type:y,token:o},{onSuccess:()=>{_.success(s("Payment successful")),P()},onError:l=>{console.error("Payment processing error:",l),d(Object.values(l).flat().join(", ")),p(!1)}})},m=o=>new Intl.NumberFormat("en-NP",{style:"currency",currency:g}).format(o);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("Khalti Payment")]})}),e.jsxs(D,{className:"space-y-4",children:[x&&e.jsxs(z,{variant:"destructive",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:x})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Payment Amount")}),e.jsx("span",{className:"text-lg font-bold",children:m(n)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Payment Type"),": ",s(y)]})]}),e.jsxs(z,{children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:s("Khalti is Nepal's most popular digital wallet and payment gateway.")})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsx("li",{children:"• Khalti Wallet"}),e.jsx("li",{children:"• eBanking"}),e.jsx("li",{children:"• Mobile Banking"}),e.jsx("li",{children:"• Connect IPS"}),e.jsx("li",{children:"• SCT Cards"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,disabled:r,className:"flex-1",children:s("Cancel")}),e.jsx(v,{onClick:j,disabled:r||!u,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),s("Pay with Khalti")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Khalti - Nepal's digital wallet")})]})]})}function ta({invoiceId:a,amount:n,paymentType:y,easebuzzMerchantKey:u,currency:g="INR",onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState(null),j=async()=>{var c;if(!u){d(s("Easebuzz not configured"));return}p(!0),d(null);try{const m=await(await fetch(route("invoice.easebuzz.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"))||""},body:JSON.stringify({invoice_id:a,amount:n,payment_type:y})})).json();if(m.success)window.location.href=m.payment_url;else throw new Error(m.error||s("Payment creation failed"))}catch(i){console.error("Easebuzz payment error:",i),d(i instanceof Error?i.message:s("Payment initialization failed")),p(!1)}},h=c=>new Intl.NumberFormat("en-IN",{style:"currency",currency:g}).format(c);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("Easebuzz Payment")]})}),e.jsxs(D,{className:"space-y-4",children:[x&&e.jsxs(z,{variant:"destructive",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:x})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Payment Amount")}),e.jsx("span",{className:"text-lg font-bold",children:h(n)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Payment Type"),": ",s(y)]})]}),e.jsxs(z,{children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:s("You will be redirected to Easebuzz to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Net Banking"}),e.jsx("li",{children:"• UPI"}),e.jsx("li",{children:"• Wallets"}),e.jsx("li",{children:"• EMI Options"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,disabled:r,className:"flex-1",children:s("Cancel")}),e.jsx(v,{onClick:j,disabled:r||!u,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),s("Pay with Easebuzz")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Easebuzz - Secure payment processing")})]})]})}function ra({invoiceId:a,amount:n,paymentType:y,ozowSiteKey:u,currency:g="ZAR",onSuccess:P,onCancel:b}){const{t:s}=E(),[r,p]=N.useState(!1),[x,d]=N.useState(null),j=async()=>{var c;if(!u){d(s("Ozow not configured"));return}p(!0),d(null);try{const m=await(await fetch(route("invoice.ozow.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"))||""},body:JSON.stringify({invoice_id:a,amount:n,payment_type:y})})).json();if(m.success)window.location.href=m.payment_url;else throw new Error(m.error||s("Payment creation failed"))}catch(i){console.error("Ozow payment error:",i),d(i instanceof Error?i.message:s("Payment initialization failed")),p(!1)}},h=c=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:g}).format(c);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("Ozow Payment")]})}),e.jsxs(D,{className:"space-y-4",children:[x&&e.jsxs(z,{variant:"destructive",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:x})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Payment Amount")}),e.jsx("span",{className:"text-lg font-bold",children:h(n)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Payment Type"),": ",s(y)]})]}),e.jsxs(z,{children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(S,{children:s("You will be redirected to Ozow to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"• Instant EFT"}),e.jsx("li",{children:"• All Major South African Banks"}),e.jsx("li",{children:"• Secure Bank-to-Bank Transfer"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:b,disabled:r,className:"flex-1",children:s("Cancel")}),e.jsx(v,{onClick:j,disabled:r||!u,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),s("Pay with Ozow")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Ozow - South Africa's instant EFT payment gateway")})]})]})}function na({invoiceId:a,amount:n,paymentType:y,cashfreeAppId:u,mode:g="sandbox",currency:P="INR",onSuccess:b,onCancel:s}){const{t:r}=E();N.useEffect(()=>{if(window&&window.Cashfree)return;const x=document.createElement("script");return x.src="https://sdk.cashfree.com/js/v3/cashfree.js",x.async=!0,x.onerror=()=>{_.error(r("Failed to load Cashfree SDK. Please try again."))},document.body.appendChild(x),()=>{document.body.contains(x)&&document.body.removeChild(x)}},[g]);const p=async()=>{var x,d,j;try{const h=await J.post(route("invoice.cashfree.create-session"),{invoice_id:a,amount:n,payment_type:y,_token:(x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content")});if(h.data.error){_.error(h.data.error);return}const{payment_session_id:c,order_id:i,amount:m,mode:o}=h.data;if(!c||!i){_.error(r("Invalid response from server"));return}if(!o){_.error(r("Payment mode not configured"));return}if(!window.Cashfree){_.error(r("Cashfree SDK not loaded"));return}const f=o==="production"?"PROD":"SANDBOX";try{const I=window.Cashfree({mode:f})}catch(I){_.error("Failed to initialize Cashfree: "+I.message);return}const l=window.Cashfree({mode:f}),t={paymentSessionId:c,returnUrl:window.location.href,redirectTarget:"_modal",mode:f,style:{zIndex:99999}};l.checkout(t).then(I=>{var M;if(I.error){_.error(I.error.message||r("Payment failed"));return}I.paymentDetails?J.post(route("invoice.cashfree.verify-payment"),{order_id:i,invoice_id:a,amount:n,payment_type:y,_token:(M=document.querySelector('meta[name="csrf-token"]'))==null?void 0:M.getAttribute("content")}).then(O=>{_.success(r("Payment successful")),b()}).catch(O=>{var Q,Z;const U=((Z=(Q=O.response)==null?void 0:Q.data)==null?void 0:Z.error)||r("Payment verification failed");_.error(U)}):_.error(r("Payment status unclear"))}).catch(I=>{_.error(I.message||r("Payment initialization failed"))})}catch(h){const c=((j=(d=h.response)==null?void 0:d.data)==null?void 0:j.error)||r("Failed to initialize payment");_.error(c)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:r("You will be redirected to Cashfree to complete your payment.")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:s,className:"flex-1",children:r("Cancel")}),e.jsx(v,{onClick:p,className:"flex-1",children:r("Pay with Cashfree")})]})]})}function la({invoice:a,amount:n,onAmountChange:y,onSuccess:u,onCancel:g}){var f;const{t:P}=E(),[b,s]=N.useState(""),[r,p]=N.useState(!1),[x,d]=N.useState([]);N.useEffect(()=>{const l=[],t=a.paymentMethods;((t==null?void 0:t.is_bank_enabled)===!0||(t==null?void 0:t.is_bank_enabled)==="1")&&l.push({id:"bank",name:"Bank Transfer",icon:e.jsx(ps,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_stripe_enabled)===!0||(t==null?void 0:t.is_stripe_enabled)==="1")&&l.push({id:"stripe",name:"Stripe",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_paypal_enabled)===!0||(t==null?void 0:t.is_paypal_enabled)==="1")&&l.push({id:"paypal",name:"PayPal",icon:e.jsx(W,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_razorpay_enabled)===!0||(t==null?void 0:t.is_razorpay_enabled)==="1")&&l.push({id:"razorpay",name:"Razorpay",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_mercadopago_enabled)===!0||(t==null?void 0:t.is_mercadopago_enabled)==="1")&&l.push({id:"mercadopago",name:"MercadoPago",icon:e.jsx(W,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_paystack_enabled)===!0||(t==null?void 0:t.is_paystack_enabled)==="1")&&l.push({id:"paystack",name:"Paystack",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_flutterwave_enabled)===!0||(t==null?void 0:t.is_flutterwave_enabled)==="1")&&l.push({id:"flutterwave",name:"Flutterwave",icon:e.jsx(W,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_paytabs_enabled)===!0||(t==null?void 0:t.is_paytabs_enabled)==="1")&&l.push({id:"paytabs",name:"PayTabs",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_skrill_enabled)===!0||(t==null?void 0:t.is_skrill_enabled)==="1")&&l.push({id:"skrill",name:"Skrill",icon:e.jsx(W,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_coingate_enabled)===!0||(t==null?void 0:t.is_coingate_enabled)==="1")&&l.push({id:"coingate",name:"Coingate",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_payfast_enabled)===!0||(t==null?void 0:t.is_payfast_enabled)==="1")&&l.push({id:"payfast",name:"PayFast",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_tap_enabled)===!0||(t==null?void 0:t.is_tap_enabled)==="1")&&l.push({id:"tap",name:"Tap",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_xendit_enabled)===!0||(t==null?void 0:t.is_xendit_enabled)==="1")&&l.push({id:"xendit",name:"Xendit",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_paytr_enabled)===!0||(t==null?void 0:t.is_paytr_enabled)==="1")&&l.push({id:"paytr",name:"PayTR",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_mollie_enabled)===!0||(t==null?void 0:t.is_mollie_enabled)==="1")&&l.push({id:"mollie",name:"Mollie",icon:e.jsx(W,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_toyyibpay_enabled)===!0||(t==null?void 0:t.is_toyyibpay_enabled)==="1")&&l.push({id:"toyyibpay",name:"ToyyibPay",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_paymentwall_enabled)===!0||(t==null?void 0:t.is_paymentwall_enabled)==="1")&&l.push({id:"paymentwall",name:"PaymentWall",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_sspay_enabled)===!0||(t==null?void 0:t.is_sspay_enabled)==="1")&&l.push({id:"sspay",name:"SSPay",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_benefit_enabled)===!0||(t==null?void 0:t.is_benefit_enabled)==="1")&&l.push({id:"benefit",name:"Benefit",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_iyzipay_enabled)===!0||(t==null?void 0:t.is_iyzipay_enabled)==="1")&&l.push({id:"iyzipay",name:"Iyzipay",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_aamarpay_enabled)===!0||(t==null?void 0:t.is_aamarpay_enabled)==="1")&&l.push({id:"aamarpay",name:"Aamarpay",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_midtrans_enabled)===!0||(t==null?void 0:t.is_midtrans_enabled)==="1")&&l.push({id:"midtrans",name:"Midtrans",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_yookassa_enabled)===!0||(t==null?void 0:t.is_yookassa_enabled)==="1")&&l.push({id:"yookassa",name:"YooKassa",icon:e.jsx(W,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_paiement_enabled)===!0||(t==null?void 0:t.is_paiement_enabled)==="1")&&l.push({id:"paiement",name:"Paiement Pro",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_cinetpay_enabled)===!0||(t==null?void 0:t.is_cinetpay_enabled)==="1")&&l.push({id:"cinetpay",name:"CinetPay",icon:e.jsx(W,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_payhere_enabled)===!0||(t==null?void 0:t.is_payhere_enabled)==="1")&&l.push({id:"payhere",name:"PayHere",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_fedapay_enabled)===!0||(t==null?void 0:t.is_fedapay_enabled)==="1")&&l.push({id:"fedapay",name:"FedaPay",icon:e.jsx(W,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_authorizenet_enabled)===!0||(t==null?void 0:t.is_authorizenet_enabled)==="1")&&l.push({id:"authorizenet",name:"AuthorizeNet",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_khalti_enabled)===!0||(t==null?void 0:t.is_khalti_enabled)==="1")&&l.push({id:"khalti",name:"Khalti",icon:e.jsx(W,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_easebuzz_enabled)===!0||(t==null?void 0:t.is_easebuzz_enabled)==="1")&&l.push({id:"easebuzz",name:"Easebuzz",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_ozow_enabled)===!0||(t==null?void 0:t.is_ozow_enabled)==="1")&&l.push({id:"ozow",name:"Ozow",icon:e.jsx(W,{className:"h-5 w-5"}),enabled:!0}),((t==null?void 0:t.is_cashfree_enabled)===!0||(t==null?void 0:t.is_cashfree_enabled)==="1")&&l.push({id:"cashfree",name:"Cashfree",icon:e.jsx(k,{className:"h-5 w-5"}),enabled:!0}),d(l)},[a.paymentMethods]);const j=l=>{var t;return((t=window.appSettings)==null?void 0:t.formatCurrency(Number(l||0)))||`$${Number(l||0).toFixed(2)}`},h=((f=a.payments)==null?void 0:f.reduce((l,t)=>t.status==="completed"?l+parseFloat(t.amount||0):l,0))||0,c=a.total_amount-h,i=()=>{if(!b){_.error(P("Please select a payment method"));return}if(n<=0||n>c){_.error(P("Payment amount cannot exceed due amount"));return}p(!0)},m=()=>{p(!1),s("")},o=()=>{var t,I,M,O,U,Q,Z,C,K,X,se,ce,oe,ae,de,me,te,re,w,F,H,G,V,ee,ne,le,pe,ye,fe,je,be,Ne,ge,we,ve,Pe,_e,Ce,ke,Fe,Ie,Ee,Me,Te,ze,Se,Ae,Re,De,Oe,Le,Be,qe,Ke,$e,Ye,Xe,Ue,He,We,Ve,Je,Ge,Ze;const l=n===a.total_amount?"full":"partial";switch(b){case"stripe":return e.jsx(us,{planId:0,couponCode:"",billingCycle:"monthly",stripeKey:((t=a.paymentMethods)==null?void 0:t.stripe_key)||"",onSuccess:u,onCancel:m,invoiceId:a.id,amount:n,paymentType:l});case"paypal":return e.jsx(Is,{invoiceId:a.id,amount:n,paymentType:l,paypalClientId:((I=a.paymentMethods)==null?void 0:I.paypal_client_id)||"",currency:((M=a.paymentMethods)==null?void 0:M.currency)||"USD",onSuccess:u,onCancel:m});case"razorpay":return e.jsx(Es,{invoiceId:a.id,amount:n,paymentType:l,razorpayKey:((O=a.paymentMethods)==null?void 0:O.razorpay_key)||"",currency:((U=a.paymentMethods)==null?void 0:U.currency)||"INR",onSuccess:u,onCancel:m});case"mercadopago":return e.jsx(Ms,{invoiceId:a.id,amount:n,paymentType:l,accessToken:((Q=a.paymentMethods)==null?void 0:Q.mercadopago_access_token)||"",currency:((Z=a.paymentMethods)==null?void 0:Z.currency)||"BRL",onSuccess:u,onCancel:m});case"paystack":return e.jsx(Ts,{invoiceId:a.id,amount:n,paymentType:l,paystackKey:((C=a.paymentMethods)==null?void 0:C.paystack_public_key)||"",currency:((K=a.paymentMethods)==null?void 0:K.currency)||"NGN",onSuccess:u,onCancel:m});case"flutterwave":return e.jsx(zs,{invoiceId:a.id,amount:n,paymentType:l,flutterwaveKey:((X=a.paymentMethods)==null?void 0:X.flutterwave_public_key)||"",currency:((se=a.paymentMethods)==null?void 0:se.currency)||"NGN",onSuccess:u,onCancel:m});case"paytabs":return e.jsx(Ss,{invoiceId:a.id,amount:n,paymentType:l,paytabsClientKey:((ce=a.paymentMethods)==null?void 0:ce.paytabs_client_key)||"",currency:((oe=a.paymentMethods)==null?void 0:oe.currency)||"AED",onSuccess:u,onCancel:m});case"skrill":return e.jsx(As,{invoiceId:a.id,amount:n,paymentType:l,skrillMerchantId:((ae=a.paymentMethods)==null?void 0:ae.skrill_merchant_id)||"",currency:((de=a.paymentMethods)==null?void 0:de.currency)||"USD",onSuccess:u,onCancel:m});case"coingate":return e.jsx(Rs,{invoiceId:a.id,amount:n,paymentType:l,coingateApiToken:((me=a.paymentMethods)==null?void 0:me.coingate_api_token)||"",currency:((te=a.paymentMethods)==null?void 0:te.currency)||"USD",onSuccess:u,onCancel:m});case"bank":return e.jsx(Ds,{invoiceId:a.id,amount:n,paymentType:l,bankDetails:((re=a.paymentMethods)==null?void 0:re.bank_detail)||"Bank details not configured",onSuccess:u,onCancel:m});case"payfast":return e.jsx(Os,{invoiceId:a.id,amount:n,paymentType:l,payfastMerchantId:((w=a.paymentMethods)==null?void 0:w.payfast_merchant_id)||"",currency:((F=a.paymentMethods)==null?void 0:F.currency)||"ZAR",onSuccess:u,onCancel:m});case"tap":return e.jsx(Ls,{invoiceId:a.id,amount:n,paymentType:l,tapSecretKey:((H=a.paymentMethods)==null?void 0:H.tap_secret_key)||"",currency:((G=a.paymentMethods)==null?void 0:G.currency)||"USD",onSuccess:u,onCancel:m});case"xendit":return e.jsx(Bs,{invoiceId:a.id,amount:n,paymentType:l,xenditApiKey:((V=a.paymentMethods)==null?void 0:V.xendit_api_key)||"",currency:((ee=a.paymentMethods)==null?void 0:ee.currency)||"USD",onSuccess:u,onCancel:m});case"paytr":return e.jsx(qs,{invoiceId:a.id,amount:n,paymentType:l,paytrMerchantId:((ne=a.paymentMethods)==null?void 0:ne.paytr_merchant_id)||"",currency:((le=a.paymentMethods)==null?void 0:le.currency)||"TRY",onSuccess:u,onCancel:m});case"mollie":return e.jsx(Ks,{invoiceId:a.id,amount:n,paymentType:l,mollieApiKey:((pe=a.paymentMethods)==null?void 0:pe.mollie_api_key)||"",currency:((ye=a.paymentMethods)==null?void 0:ye.currency)||"EUR",onSuccess:u,onCancel:m});case"toyyibpay":return e.jsx($s,{invoiceId:a.id,amount:n,paymentType:l,toyyibpayCategoryCode:((fe=a.paymentMethods)==null?void 0:fe.toyyibpay_category_code)||"",currency:((je=a.paymentMethods)==null?void 0:je.currency)||"MYR",onSuccess:u,onCancel:m});case"paymentwall":return e.jsx(Ys,{invoiceId:a.id,amount:n,paymentType:l,paymentwallPublicKey:((be=a.paymentMethods)==null?void 0:be.paymentwall_public_key)||"",currency:((Ne=a.paymentMethods)==null?void 0:Ne.currency)||"USD",onSuccess:u,onCancel:m});case"sspay":return e.jsx(Xs,{invoiceId:a.id,amount:n,paymentType:l,sspayCategoryCode:((ge=a.paymentMethods)==null?void 0:ge.sspay_category_code)||"",currency:((we=a.paymentMethods)==null?void 0:we.currency)||"MYR",onSuccess:u,onCancel:m});case"benefit":return e.jsx(Us,{invoiceId:a.id,amount:n,paymentType:l,benefitSecretKey:((ve=a.paymentMethods)==null?void 0:ve.benefit_secret_key)||"",currency:((Pe=a.paymentMethods)==null?void 0:Pe.currency)||"BHD",onSuccess:u,onCancel:m});case"iyzipay":return e.jsx(Hs,{invoiceId:a.id,amount:n,paymentType:l,iyzipayPublicKey:((_e=a.paymentMethods)==null?void 0:_e.iyzipay_public_key)||"",currency:((Ce=a.paymentMethods)==null?void 0:Ce.currency)||"USD",onSuccess:u,onCancel:m});case"aamarpay":return e.jsx(Ws,{invoiceId:a.id,amount:n,paymentType:l,aamarpayStoreId:((ke=a.paymentMethods)==null?void 0:ke.aamarpay_store_id)||"",currency:((Fe=a.paymentMethods)==null?void 0:Fe.currency)||"BDT",onSuccess:u,onCancel:m});case"midtrans":return e.jsx(Vs,{invoiceId:a.id,amount:n,paymentType:l,midtransClientKey:((Ie=a.paymentMethods)==null?void 0:Ie.midtrans_secret_key)||"",currency:((Ee=a.paymentMethods)==null?void 0:Ee.currency)||"IDR",onSuccess:u,onCancel:m});case"yookassa":return e.jsx(Js,{invoiceId:a.id,amount:n,paymentType:l,yookassaShopId:((Me=a.paymentMethods)==null?void 0:Me.yookassa_shop_id)||"",currency:((Te=a.paymentMethods)==null?void 0:Te.currency)||"RUB",onSuccess:u,onCancel:m});case"paiement":return e.jsx(Gs,{invoiceId:a.id,amount:n,paymentType:l,paiementMerchantId:((ze=a.paymentMethods)==null?void 0:ze.paiement_merchant_id)||"",currency:((Se=a.paymentMethods)==null?void 0:Se.currency)||"XOF",onSuccess:u,onCancel:m});case"cinetpay":return e.jsx(Zs,{invoiceId:a.id,amount:n,paymentType:l,cinetpaySiteId:((Ae=a.paymentMethods)==null?void 0:Ae.cinetpay_site_id)||"",currency:((Re=a.paymentMethods)==null?void 0:Re.currency)||"XOF",onSuccess:u,onCancel:m});case"payhere":return e.jsx(Qs,{invoiceId:a.id,amount:n,paymentType:l,payhereMerchantId:((De=a.paymentMethods)==null?void 0:De.payhere_merchant_id)||"",currency:((Oe=a.paymentMethods)==null?void 0:Oe.currency)||"LKR",onSuccess:u,onCancel:m});case"fedapay":return e.jsx(ea,{invoiceId:a.id,amount:n,paymentType:l,fedapayPublicKey:((Le=a.paymentMethods)==null?void 0:Le.fedapay_public_key)||"",currency:((Be=a.paymentMethods)==null?void 0:Be.currency)||"XOF",onSuccess:u,onCancel:m});case"authorizenet":return e.jsx(sa,{invoiceId:a.id,amount:n,paymentType:l,authorizenetMerchantId:((qe=a.paymentMethods)==null?void 0:qe.authorizenet_merchant_id)||"",currency:((Ke=a.paymentMethods)==null?void 0:Ke.currency)||"USD",isSandbox:(($e=a.paymentMethods)==null?void 0:$e.authorizenet_mode)==="sandbox",onSuccess:u,onCancel:m});case"khalti":return e.jsx(aa,{invoiceId:a.id,amount:n,paymentType:l,khaltiPublicKey:((Ye=a.paymentMethods)==null?void 0:Ye.khalti_public_key)||"",currency:((Xe=a.paymentMethods)==null?void 0:Xe.currency)||"NPR",onSuccess:u,onCancel:m});case"easebuzz":return e.jsx(ta,{invoiceId:a.id,amount:n,paymentType:l,easebuzzMerchantKey:((Ue=a.paymentMethods)==null?void 0:Ue.easebuzz_merchant_key)||"",currency:((He=a.paymentMethods)==null?void 0:He.currency)||"INR",onSuccess:u,onCancel:m});case"ozow":return e.jsx(ra,{invoiceId:a.id,amount:n,paymentType:l,ozowSiteKey:((We=a.paymentMethods)==null?void 0:We.ozow_site_key)||"",currency:((Ve=a.paymentMethods)==null?void 0:Ve.currency)||"ZAR",onSuccess:u,onCancel:m});case"cashfree":return e.jsx(na,{invoiceId:a.id,amount:n,paymentType:l,cashfreeAppId:((Je=a.paymentMethods)==null?void 0:Je.cashfree_public_key)||"",mode:((Ge=a.paymentMethods)==null?void 0:Ge.cashfree_mode)||"sandbox",currency:((Ze=a.paymentMethods)==null?void 0:Ze.currency)||"INR",onSuccess:u,onCancel:m});default:return null}};return r?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium",children:P("Complete Payment")}),e.jsx(v,{variant:"outline",size:"sm",onClick:m,children:P("Back")})]}),o()]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium",children:["Invoice #",a.invoice_number]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold",children:j(a.total_amount)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"})]})]})})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(q,{htmlFor:"amount",children:P("Payment Amount")}),e.jsx($,{id:"amount",type:"number",value:n,onChange:l=>y(parseFloat(l.target.value)||0),max:c,min:"0.01",step:"0.01",placeholder:"0.00"}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("p",{children:["Total: ",j(a.total_amount)]}),e.jsxs("p",{children:["Paid: ",j(h)]}),e.jsxs("p",{className:"font-medium",children:["Due: ",j(c)]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(q,{children:P("Select Payment Method")}),x.length===0?e.jsxs("div",{className:"p-4 text-center border rounded-md bg-muted/50",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:P("No payment methods configured")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:P("Please contact the company to set up payment methods.")})]}):e.jsx("div",{className:"space-y-2",children:x.map(l=>e.jsx(R,{className:`cursor-pointer transition-colors ${b===l.id?"border-primary bg-primary/5":"hover:border-gray-300"}`,onClick:()=>s(l.id),children:e.jsx(D,{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-primary",children:l.icon}),e.jsx("span",{className:"font-medium",children:l.name}),b===l.id&&e.jsx(ts,{variant:"secondary",className:"ml-auto",children:P("Selected")})]})})},l.id))})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{variant:"outline",onClick:g,className:"flex-1",children:P("Cancel")}),e.jsxs(v,{onClick:i,disabled:x.length===0||n<=0||n>c,className:"flex-1",children:[P("Pay")," ",j(n)]})]})]})}function ia({isOpen:a,onClose:n,invoice:y,amount:u,onAmountChange:g}){const{t:P}=E(),b=()=>{n(),window.location.reload()};return e.jsx(rs,{open:a,onOpenChange:n,children:e.jsxs(ns,{className:"max-w-md max-h-[90vh] flex flex-col print:hidden",children:[e.jsx(ls,{className:"flex-shrink-0",children:e.jsxs(is,{children:[P("Pay Invoice")," #",y.invoice_number]})}),e.jsx("div",{className:"overflow-y-auto flex-1 pr-2",children:e.jsx(la,{invoice:y,amount:u,onAmountChange:g,onSuccess:b,onCancel:n})})]})})}const ca={template1:as,template2:ys,template3:fs,template4:js,template5:bs,template6:Ns,template7:gs,template8:ws,template9:vs,template10:Ps};function qa({invoice:a,templateId:n="template1",color:y="ffffff",qrEnabled:u=!1,settings:g={},themeColor:P="blue",customColor:b=null}){var te,re;const{t:s}=E(),{props:r}=cs(),[p,x]=N.useState(!1),[d,j]=N.useState(!1),h=r.auth||{},c=(h==null?void 0:h.permissions)||[];N.useEffect(()=>{var w,F;(w=r.flash)!=null&&w.success&&_.success(s(r.flash.success)),(F=r.flash)!=null&&F.error&&_.error(s(r.flash.error))},[r.flash,s]);const m=P==="custom"?b:{blue:"#3b82f6",green:"#10b77f",purple:"#8b5cf6",orange:"#f97316",red:"#ef4444"}[P]||"#3b82f6",o={primary:m,secondary:m},f=((te=a.payments)==null?void 0:te.reduce((w,F)=>{const H=Number(F.amount)||0;return F.status==="completed"?w+H:w},0))||0,l=Math.max(0,(Number(a.total_amount)||0)-f),[t,I]=N.useState(l),M=w=>{var F;return((F=window.appSettings)==null?void 0:F.formatCurrency(Number(w||0)))||`$${Number(w||0).toFixed(2)}`},O=w=>{var F;return w?((F=window.appSettings)==null?void 0:F.formatDateTime(w,!1))||new Date(w).toLocaleDateString():s("-")},U=()=>{var G;let w=0,F=0,H=0;return(G=a.products)==null||G.forEach(V=>{const ee=Number(V.pivot.total_price)||0,ne=Number(V.pivot.discount_amount)||0,le=ee-ne;w+=le,H+=ne,V.tax&&(F+=le*Number(V.tax.rate)/100)}),{subtotal:w,totalTax:F,totalDiscount:H,grandTotal:w+F}},{subtotal:Q,totalTax:Z,totalDiscount:C,grandTotal:K}=U(),X=a.products.map(w=>{var ee;const F=w.pivot.quantity*w.pivot.unit_price,H=w.pivot.discount_amount||0,G=F-H,V=w.tax?G*w.tax.rate/100:0;return{name:w.name,quantity:w.pivot.quantity,price:w.pivot.unit_price,tax:((ee=w.tax)==null?void 0:ee.rate)||0,discount:H,itemTax:w.tax?[{name:w.tax.name,rate:`${w.tax.rate}%`,price:M(V)}]:[]}}),se=a.products.reduce((w,F)=>{if(F.tax){const H=F.pivot.quantity*F.pivot.unit_price,G=F.pivot.discount_amount||0,ee=(H-G)*F.tax.rate/100;w[F.tax.name]=(w[F.tax.name]||0)+ee}return w},{}),ce={...a,invoice_date:O(a.invoice_date||new Date().toISOString()),due_date:O(a.due_date||new Date().toISOString()),sub_total:Q,total_tax:Z,total_amount:K,totalQuantity:a.products.reduce((w,F)=>w+F.pivot.quantity,0),totalRate:a.products.reduce((w,F)=>w+F.pivot.quantity*F.pivot.unit_price,0),totalTaxPrice:Z,totalDiscount:C,total_discount:C},oe=ca[n]||as,ae=N.useRef(null),de=()=>{var w;(w=ae.current)==null||w.print()},me=async()=>{try{await navigator.clipboard.writeText(window.location.href),j(!0),setTimeout(()=>j(!1),2e3)}catch(w){console.error("Failed to copy link:",w)}};return e.jsxs(e.Fragment,{children:[e.jsx(os,{title:s("Invoice {{invoiceNumber}}",{invoiceNumber:a.invoice_number})}),e.jsx("div",{className:"min-h-screen bg-gray-50 dark:from-gray-900 dark:to-gray-800 py-8 print:p-0 print:m-0 print:bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 print-container",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 print:hidden",children:[e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s("Invoice Details")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:s("View and manage your invoice")})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[ds(c,"view-invoices")&&e.jsxs("button",{onClick:me,className:"inline-flex items-center px-4 py-2.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 dark:hover:border-gray-500 transition-all duration-200 shadow-sm hover:shadow-md",children:[d?e.jsx(ms,{className:"w-4 h-4 mr-2 text-green-600"}):e.jsx(es,{className:"w-4 h-4 mr-2"}),s(d?"Copied!":"Copy Link")]}),e.jsxs("button",{onClick:de,className:"inline-flex items-center px-4 py-2.5 text-white rounded-xl text-sm font-medium transition-all duration-200 shadow-sm hover:shadow-md",style:{backgroundColor:m,":hover":{filter:"brightness(0.9)"}},children:[e.jsx(Cs,{className:"w-4 h-4 mr-2"}),s("Print Invoice")]}),a.status!=="paid"&&e.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center px-6 py-2.5 text-white rounded-xl text-sm font-semibold transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",style:{background:`linear-gradient(135deg, ${m}, ${m}dd)`,":hover":{filter:"brightness(0.9)"}},children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),a.status==="partially_paid"?s("Pay Remaining"):s("Pay Invoice")]})]})]}),e.jsx("div",{className:"hidden print:block",children:e.jsx(_s,{ref:ae,children:e.jsx(oe,{invoice:ce,items:X,taxesData:se,settings:g,color:y,qr_invoice:u?"on":"off"})})}),e.jsxs("div",{className:"mx-auto space-y-6 print:hidden",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-8 print:hidden",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 leading-tight",children:a.name}),e.jsx("p",{className:"text-base text-gray-600 mt-2 leading-relaxed max-w-3xl",children:a.description||s("No description provided")})]}),e.jsxs("div",{className:"text-right ml-6",children:[e.jsx("span",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ${a.status==="paid"?"bg-green-50 text-green-700 ring-green-600/20":a.status==="partially_paid"?"bg-orange-50 text-orange-700 ring-orange-600/20":a.status==="sent"?"bg-blue-50 text-blue-700 ring-blue-600/20":a.status==="overdue"?"bg-red-50 text-red-700 ring-red-600/20":a.status==="cancelled"?"bg-yellow-50 text-yellow-700 ring-yellow-600/20":"bg-gray-50 text-gray-700 ring-gray-600/20"}`,children:a.status==="partially_paid"?s("Partially Paid"):a.status.charAt(0).toUpperCase()+a.status.slice(1)}),e.jsx("p",{className:"text-sm font-medium text-gray-700 mt-2 font-mono",children:a.invoice_number})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"border-l-4 hover:shadow-lg transition-shadow bg-white rounded-lg shadow-sm border",style:{borderLeftColor:o.primary},children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:s("Total Amount")}),e.jsx("h3",{className:"mt-2 text-2xl font-bold leading-none",style:{color:o.primary},children:M(a.total_amount)})]}),e.jsx("div",{className:"rounded-full p-4",style:{backgroundColor:`${o.primary}15`},children:e.jsx(he,{className:"h-5 w-5",style:{color:o.primary}})})]})})}),e.jsx("div",{className:"border-l-4 hover:shadow-lg transition-shadow bg-white rounded-lg shadow-sm border",style:{borderLeftColor:o.secondary},children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:s("Paid Amount")}),e.jsx("h3",{className:"mt-2 text-2xl font-bold leading-none",style:{color:o.secondary},children:M(f)})]}),e.jsx("div",{className:"rounded-full p-4",style:{backgroundColor:`${o.secondary}15`},children:e.jsx(he,{className:"h-5 w-5",style:{color:o.secondary}})})]})})}),e.jsx("div",{className:"border-l-4 border-l-red-500 hover:shadow-lg transition-shadow bg-white rounded-lg shadow-sm border",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:s("Due Amount")}),e.jsx("h3",{className:"mt-2 text-2xl font-bold text-red-600 leading-none",children:M(l)})]}),e.jsx("div",{className:"rounded-full bg-red-100 p-4",children:e.jsx(he,{className:"h-5 w-5 text-red-600"})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"border-l-4 hover:shadow-lg transition-shadow bg-white rounded-lg shadow-sm border",style:{borderLeftColor:o.primary},children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:s("Products")}),e.jsx("h3",{className:"mt-2 text-2xl font-bold leading-none",style:{color:o.primary},children:((re=a.products)==null?void 0:re.length)||0})]}),e.jsx("div",{className:"rounded-full p-4",style:{backgroundColor:`${o.primary}15`},children:e.jsx(ue,{className:"h-5 w-5",style:{color:o.primary}})})]})})}),e.jsx("div",{className:"border-l-4 hover:shadow-lg transition-shadow bg-white rounded-lg shadow-sm border",style:{borderLeftColor:o.secondary},children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:s("Invoice Date")}),e.jsx("h3",{className:"mt-2 text-lg font-bold leading-tight",style:{color:o.secondary},children:O(a.invoice_date)})]}),e.jsx("div",{className:"rounded-full p-4",style:{backgroundColor:`${o.secondary}15`},children:e.jsx(Qe,{className:"h-5 w-5",style:{color:o.secondary}})})]})})}),e.jsx("div",{className:"border-l-4 border-l-amber-500 hover:shadow-lg transition-shadow bg-white rounded-lg shadow-sm border",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:s("Due Date")}),e.jsx("h3",{className:"mt-2 text-lg font-bold text-amber-600 leading-tight",children:O(a.due_date)})]}),e.jsx("div",{className:"rounded-full bg-amber-100 p-4",children:e.jsx(xs,{className:"h-5 w-5 text-amber-600"})})]})})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[e.jsx("div",{className:"border-b px-8 py-6",style:{backgroundColor:`${o.primary}25`},children:e.jsxs("h3",{className:"flex items-center text-xl font-bold text-gray-800",children:[e.jsx(ks,{className:"h-5 w-5 mr-3"}),s("Billing Details")]})}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[e.jsx(Fs,{className:"w-5 h-5 mr-2",style:{color:o.primary}}),s("Bill To")]}),a.account&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 text-lg",children:a.account.name}),a.account.email&&e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:a.account.email}),a.account.phone&&e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:a.account.phone})]}),a.contact&&!a.account&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 text-lg",children:a.contact.name}),a.contact.email&&e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:a.contact.email}),a.contact.phone&&e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:a.contact.phone})]}),a.billing_address&&e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:a.billing_address}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[a.billing_city&&`${a.billing_city}, `,a.billing_state&&`${a.billing_state} `,a.billing_postal_code]}),a.billing_country&&e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:a.billing_country})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[e.jsx(Qe,{className:"w-5 h-5 mr-2",style:{color:o.primary}}),s("Invoice Details")]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-300 font-medium",children:[s("Invoice Date"),":"]}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:O(a.invoice_date)})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-300 font-medium",children:[s("Due Date"),":"]}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:O(a.due_date)})]}),a.payment_method&&e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-300 font-medium flex items-center",children:[e.jsx(k,{className:"w-4 h-4 mr-1"}),s("Payment Method"),":"]}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100 capitalize",children:a.payment_method})]})]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[e.jsx("div",{className:"bg-gray-50 border-b px-8 py-6",children:e.jsxs("h3",{className:"flex items-center text-xl font-bold text-gray-800",children:[e.jsx(ue,{className:"h-5 w-5 mr-3"}),s("Products")]})}),e.jsx("div",{className:"p-0",children:a.products&&a.products.length>0?e.jsx("div",{className:"overflow-hidden",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:o.primary},children:[e.jsx("th",{className:"text-base font-bold text-white py-4 px-6 w-1/3 text-left",children:s("Product")}),e.jsx("th",{className:"text-right text-base font-bold text-white py-4 px-4",children:s("Quantity")}),e.jsx("th",{className:"text-right text-base font-bold text-white py-4 px-4",children:s("Unit Price")}),e.jsx("th",{className:"text-right text-base font-bold text-white py-4 px-4",children:s("Tax")}),e.jsx("th",{className:"text-right text-base font-bold text-white py-4 px-4 w-1/6",children:s("Total")})]})}),e.jsxs("tbody",{children:[a.products.map((w,F)=>{const H=Number(w.pivot.total_price)||0,G=Number(w.pivot.discount_amount)||0,V=H-G;return e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"font-semibold text-base text-gray-900 py-4 px-6",children:w.name}),e.jsx("td",{className:"text-right text-base font-medium py-4 px-4",children:w.pivot.quantity}),e.jsx("td",{className:"text-right text-base font-semibold py-4 px-4",children:M(w.pivot.unit_price)}),e.jsx("td",{className:"text-right text-base py-4 px-4",children:w.tax?e.jsxs("div",{className:"text-base",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:w.tax.name}),e.jsxs("div",{className:"text-gray-600 font-medium",children:["(",w.tax.rate,"%)"]})]}):e.jsx("span",{className:"text-gray-500 font-medium",children:s("No Tax")})}),e.jsx("td",{className:"text-right font-bold text-base py-4 px-4",children:e.jsx("span",{className:"text-green-600 font-semibold",children:M(V)})})]},F)}),e.jsxs("tr",{style:{backgroundColor:`${o.primary}10`},children:[e.jsxs("td",{colSpan:4,className:"text-right font-semibold text-base py-3 px-4",style:{color:o.primary},children:[s("Subtotal"),":"]}),e.jsx("td",{className:"text-right font-semibold text-base py-3 px-4",style:{color:o.primary},children:M(a.subtotal)})]}),e.jsxs("tr",{style:{backgroundColor:`${o.primary}10`},children:[e.jsxs("td",{colSpan:4,className:"text-right font-semibold text-base py-3 px-4",style:{color:o.primary},children:[s("Total Tax"),":"]}),e.jsx("td",{className:"text-right font-semibold text-base py-3 px-4",style:{color:o.primary},children:M(a.tax_amount)})]}),e.jsxs("tr",{className:"border-t-2",style:{backgroundColor:`${o.primary}15`,borderTopColor:o.primary},children:[e.jsxs("td",{colSpan:4,className:"text-right font-bold text-lg py-4 px-4",style:{color:o.primary},children:[s("Grand Total"),":"]}),e.jsx("td",{className:"text-right py-4 px-4",children:e.jsx("span",{className:"font-bold text-xl",style:{color:o.primary},children:M(a.total_amount)})})]})]})]})}):e.jsxs("div",{className:"text-center py-16 text-gray-500",children:[e.jsx(ue,{className:"h-16 w-16 mx-auto mb-6 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium",children:s("No products added to this invoice")})]})})]}),(a.notes||a.terms)&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[e.jsx("div",{className:"border-b px-8 py-6",style:{backgroundColor:`${o.primary}25`},children:e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:s("Additional Information")})}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.notes&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:s("Notes")}),e.jsx("p",{className:"text-base text-gray-700 mt-2 leading-relaxed",children:a.notes})]}),a.terms&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:s("Terms")}),e.jsx("p",{className:"text-base text-gray-700 mt-2 leading-relaxed",children:a.terms})]})]})})]}),a.payments&&a.payments.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[e.jsx("div",{className:"bg-gray-50 border-b px-8 py-6",children:e.jsxs("h3",{className:"flex items-center text-xl font-bold text-gray-800",children:[e.jsx(he,{className:"h-5 w-5 mr-3"}),s("Payment History")]})}),e.jsx("div",{className:"p-0",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:o.primary},children:[e.jsx("th",{className:"text-base font-bold text-white py-4 px-6 text-left w-1/4",children:s("Date")}),e.jsx("th",{className:"text-base font-bold text-white py-4 px-4 text-left w-1/4",children:s("Method")}),e.jsx("th",{className:"text-right text-base font-bold text-white py-4 px-4 w-1/4",children:s("Amount")}),e.jsx("th",{className:"text-base font-bold text-white py-4 px-4 text-left w-1/4",children:s("Status")})]})}),e.jsx("tbody",{children:a.payments.map((w,F)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-4 px-6",children:O(w.processed_at||w.created_at)}),e.jsx("td",{className:"py-4 px-4 capitalize",children:w.payment_method}),e.jsx("td",{className:"text-right py-4 px-4 font-semibold",children:M(w.amount)}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${w.status==="completed"?"bg-green-100 text-green-800":w.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:w.status})})]},F))})]})})]})]})]})}),e.jsx("div",{className:"print:hidden",children:p&&e.jsx(ia,{isOpen:p,onClose:()=>x(!1),invoice:a,amount:t,onAmountChange:I})})]})}export{qa as default};
