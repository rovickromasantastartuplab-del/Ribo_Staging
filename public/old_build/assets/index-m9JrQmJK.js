import{r as d,j as e}from"./ui-C-VW1P-5.js";import{P as A}from"./page-template-CDM26U5Q.js";import{u as E,K as I,S as m,s as f,v as y,B as N,w as b,T as O,D as R,l as B,n as z,o as $,t as v}from"./app-BQKKzqf3.js";import{P as q}from"./pagination-mhOv5uX0.js";import{S as H}from"./search-and-filter-bar-CB2HkcPS.js";import{C as K}from"./CrudDeleteModal-Bjo4FQXD.js";import{f as k}from"./utils-DCj7OOX3.js";import{E as L}from"./eye-DxUCHEvv.js";import{M as G}from"./message-square-DJa7rgfT.js";import"./vendor-CxtKjBZA.js";import"./textarea-BvlD1v8z.js";import"./select-ivmaqUw7.js";import"./index-IS-ASe-l.js";import"./chevron-up-5kET5X99.js";import"./react-country-flag.esm-B_SRkH7q.js";import"./language-BbwPiY59.js";import"./loader-circle-DlS76Sc1.js";import"./copy-D-hAzd4M.js";import"./language-switcher-BX314FqS.js";import"./switch-T0u5R7d_.js";import"./refresh-cw-BnxOCyDc.js";import"./globe-BSt65iB3.js";import"./settings-G3vQs6CU.js";import"./chevron-right-C7M1oeKV.js";import"./credit-card-CmRw-oUn.js";import"./dollar-sign-BO1aYhXH.js";import"./mail-DI9tSiFs.js";import"./users-CrY8npWB.js";import"./package-BHhWwbAI.js";import"./calendar-BZ7v_rN9.js";import"./phone-B9JuG5Em.js";import"./trending-up-BUQ_r1Kz.js";import"./user-B-NTs7Zv.js";import"./use-favicon-D-Hpb8YY.js";import"./grid-3x3-B93v7dH2.js";import"./list-D15qstQa.js";function Te({contactMessages:a}){var j,u;const{t:r}=E(),{filters:n={}}=I().props,[w,x]=d.useState(null),[i,S]=d.useState(n.search||""),[C,c]=d.useState(!1),[D,o]=d.useState(!1),[s,h]=d.useState(null),T=t=>{h(t),c(!0)},P=t=>{h(t),o(!0)},F=()=>{x(s.id),m.delete(route("contact-messages.destroy",s.id),{onSuccess:()=>{v.success(r("Contact message deleted successfully")),x(null),o(!1)},onError:()=>{v.error(r("Failed to delete contact message")),x(null),o(!1)}})},V=t=>{t.preventDefault(),g()},g=()=>{const t={page:1};i&&(t.search=i),n.per_page&&(t.per_page=n.per_page),m.get(route("contact-messages.index"),t,{preserveState:!0,preserveScroll:!0})},_=[{title:r("Dashboard"),href:route("dashboard")},{title:r("Landing Page")},{title:r("Contact Messages")}],p=[{key:"name",label:r("Name"),render:(t,l)=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:l.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:l.email})]})},{key:"subject",label:r("Subject"),render:t=>e.jsx("span",{className:"font-medium",children:t})},{key:"created_at",label:r("Received At"),render:t=>k(new Date(t),{addSuffix:!0})}];return e.jsxs(A,{title:r("Contact Messages"),url:"/contact-messages",breadcrumbs:_,noPadding:!0,children:[e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow mb-4 p-4",children:e.jsx(H,{searchTerm:i,onSearchChange:S,onSearch:V,filters:[],showFilters:!1,setShowFilters:()=>{},hasActiveFilters:()=>!1,activeFilterCount:()=>0,onResetFilters:()=>{},onApplyFilters:g,currentPerPage:((j=n.per_page)==null?void 0:j.toString())||"10",onPerPageChange:t=>{const l={page:1,per_page:parseInt(t)};i&&(l.search=i),m.get(route("contact-messages.index"),l,{preserveState:!0,preserveScroll:!0})},showViewToggle:!1,activeView:"list",onViewChange:()=>{}})}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[p.map(t=>e.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-500",children:t.label},t.key)),e.jsx("th",{className:"px-4 py-3 text-right font-medium text-gray-500",children:r("Actions")})]})}),e.jsxs("tbody",{children:[(u=a==null?void 0:a.data)==null?void 0:u.map(t=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-900 dark:hover:bg-gray-800",children:[p.map(l=>e.jsx("td",{className:"px-4 py-3",children:l.render?l.render(t[l.key],t):t[l.key]},`${t.id}-${l.key}`)),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsxs(f,{children:[e.jsx(y,{asChild:!0,children:e.jsx(N,{variant:"ghost",size:"icon",className:"text-blue-500 hover:text-blue-700",onClick:()=>T(t),children:e.jsx(L,{className:"h-4 w-4"})})}),e.jsx(b,{children:r("View")})]}),e.jsxs(f,{children:[e.jsx(y,{asChild:!0,children:e.jsx(N,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>P(t),disabled:w===t.id,children:e.jsx(O,{className:"h-4 w-4"})})}),e.jsx(b,{children:r("Delete")})]})]})})]},t.id)),(!(a!=null&&a.data)||a.data.length===0)&&e.jsx("tr",{children:e.jsx("td",{colSpan:p.length+1,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(G,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("div",{className:"text-lg font-medium mb-2",children:r("No contact messages")}),e.jsx("div",{children:r("Contact messages from your landing page will appear here.")})]})})})]})]})}),e.jsx(q,{from:(a==null?void 0:a.from)||0,to:(a==null?void 0:a.to)||0,total:(a==null?void 0:a.total)||0,links:a==null?void 0:a.links,entityName:r("messages"),onPageChange:t=>m.get(t)})]}),e.jsx(R,{open:C,onOpenChange:c,children:e.jsxs(B,{className:"max-w-2xl",children:[e.jsx(z,{children:e.jsx($,{children:r("Contact Message Details")})}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r("Name")}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100",children:s.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r("Email")}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100",children:s.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r("Subject")}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100",children:s.subject})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r("Message")}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap",children:s.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r("Received At")}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100",children:k(new Date(s.created_at),{addSuffix:!0})})]})]})]})}),e.jsx(K,{isOpen:D,onClose:()=>o(!1),onConfirm:F,itemName:(s==null?void 0:s.subject)||"",entityName:"contact message"})]})}export{Te as default};
